{"version":3,"file":"chunks/app_views_settings_organizationGeneralSettings_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/acl/access.tsx","webpack:///./app/data/forms/organizationGeneralSettings.tsx","webpack:///./app/utils/slugify.tsx","webpack:///./app/views/settings/organization/permissionAlert.tsx","webpack:///./app/views/settings/organizationGeneralSettings/organizationSettingsForm.tsx","webpack:///./app/views/settings/organizationGeneralSettings/index.tsx"],"sourcesContent":["import {Component} from 'react';\n\nimport Alert from 'sentry/components/alert';\nimport {t} from 'sentry/locale';\nimport {Config, Organization, Scope} from 'sentry/types';\nimport {isRenderFunc} from 'sentry/utils/isRenderFunc';\nimport withConfig from 'sentry/utils/withConfig';\nimport withOrganization from 'sentry/utils/withOrganization';\n\nconst DEFAULT_NO_ACCESS_MESSAGE = (\n  <Alert type=\"error\" showIcon>\n    {t('You do not have sufficient permissions to access this.')}\n  </Alert>\n);\n\n// Props that function children will get.\nexport type ChildRenderProps = {\n  hasAccess: boolean;\n  hasSuperuser: boolean;\n};\n\ntype ChildFunction = (props: ChildRenderProps) => React.ReactNode;\n\ntype DefaultProps = {\n  /**\n   * List of required access levels\n   */\n  access: Scope[];\n\n  /**\n   * Custom renderer function for \"no access\" message OR `true` to use\n   * default message. `false` will suppress message.\n   */\n  renderNoAccessMessage: ChildFunction | boolean;\n\n  /**\n   * Requires superuser\n   */\n  isSuperuser?: boolean;\n\n  /**\n   * Should the component require all access levels or just one or more.\n   */\n  requireAll?: boolean;\n};\n\nconst defaultProps: DefaultProps = {\n  renderNoAccessMessage: false,\n  isSuperuser: false,\n  requireAll: true,\n  access: [],\n};\n\ntype Props = {\n  /**\n   * Configuration from ConfigStore\n   */\n  config: Config;\n\n  /**\n   * Current Organization\n   */\n  organization: Organization;\n\n  /**\n   * Children can be a node or a function as child.\n   */\n  children?: React.ReactNode | ChildFunction;\n} & Partial<DefaultProps>;\n\n/**\n * Component to handle access restrictions.\n */\nclass Access extends Component<Props> {\n  static defaultProps = defaultProps;\n\n  render() {\n    const {\n      organization,\n      config,\n      access,\n      requireAll,\n      isSuperuser,\n      renderNoAccessMessage,\n      children,\n    } = this.props;\n\n    const {access: orgAccess} = organization || {access: []};\n    const method = requireAll ? 'every' : 'some';\n\n    const hasAccess = !access || access[method](acc => orgAccess.includes(acc));\n    const hasSuperuser = !!(config.user && config.user.isSuperuser);\n\n    const renderProps: ChildRenderProps = {\n      hasAccess,\n      hasSuperuser,\n    };\n\n    const render = hasAccess && (!isSuperuser || hasSuperuser);\n\n    if (!render && typeof renderNoAccessMessage === 'function') {\n      return renderNoAccessMessage(renderProps);\n    }\n    if (!render && renderNoAccessMessage) {\n      return DEFAULT_NO_ACCESS_MESSAGE;\n    }\n\n    if (isRenderFunc<ChildFunction>(children)) {\n      return children(renderProps);\n    }\n\n    return render ? children : null;\n  }\n}\n\nexport default withOrganization(withConfig(Access));\n","import {JsonFormObject} from 'sentry/components/forms/types';\nimport {t} from 'sentry/locale';\nimport {MemberRole} from 'sentry/types';\nimport slugify from 'sentry/utils/slugify';\n\n// Export route to make these forms searchable by label/help\nexport const route = '/settings/:orgId/';\n\nconst formGroups: JsonFormObject[] = [\n  {\n    // Form \"section\"/\"panel\"\n    title: t('General'),\n    fields: [\n      {\n        name: 'slug',\n        type: 'string',\n        required: true,\n        label: t('Organization Slug'),\n        help: t('A unique ID used to identify this organization'),\n        transformInput: slugify,\n        saveOnBlur: false,\n        saveMessageAlertType: 'info',\n        saveMessage: t(\n          'You will be redirected to the new organization slug after saving'\n        ),\n      },\n      {\n        name: 'name',\n        type: 'string',\n        required: true,\n        label: t('Display Name'),\n        help: t('A human-friendly name for the organization'),\n      },\n      {\n        name: 'isEarlyAdopter',\n        type: 'boolean',\n        label: t('Early Adopter'),\n        help: t(\"Opt-in to new features before they're released to the public\"),\n      },\n    ],\n  },\n\n  {\n    title: 'Membership',\n    fields: [\n      {\n        name: 'defaultRole',\n        type: 'select',\n        required: true,\n        label: t('Default Role'),\n        // seems weird to have choices in initial form data\n        choices: ({initialData} = {}) =>\n          initialData?.orgRoleList?.map((r: MemberRole) => [r.id, r.name]) ?? [],\n        help: t('The default role new members will receive'),\n        disabled: ({access}) => !access.has('org:admin'),\n      },\n      {\n        name: 'openMembership',\n        type: 'boolean',\n        required: true,\n        label: t('Open Membership'),\n        help: t('Allow organization members to freely join or leave any team'),\n      },\n      {\n        name: 'eventsMemberAdmin',\n        type: 'boolean',\n        label: t('Let Members Delete Events'),\n        help: t(\n          'Allow members to delete events (including the delete & discard action) by granting them the `event:admin` scope.'\n        ),\n      },\n      {\n        name: 'alertsMemberWrite',\n        type: 'boolean',\n        label: t('Let Members Create and Edit Alerts'),\n        help: t(\n          'Allow members to create, edit, and delete alert rules by granting them the `alerts:write` scope.'\n        ),\n      },\n      {\n        name: 'attachmentsRole',\n        type: 'select',\n        choices: ({initialData = {}}) =>\n          initialData?.orgRoleList?.map((r: MemberRole) => [r.id, r.name]) ?? [],\n        label: t('Attachments Access'),\n        help: t(\n          'Role required to download event attachments, such as native crash reports or log files.'\n        ),\n        visible: ({features}) => features.has('event-attachments'),\n      },\n      {\n        name: 'debugFilesRole',\n        type: 'select',\n        choices: ({initialData = {}}) =>\n          initialData?.orgRoleList?.map((r: MemberRole) => [r.id, r.name]) ?? [],\n        label: t('Debug Files Access'),\n        help: t(\n          'Role required to download debug information files, proguard mappings and source maps.'\n        ),\n      },\n    ],\n  },\n];\n\nexport default formGroups;\n","/**\n * Transforms the given string to a slugified version. (e.g. \"My Project\" => \"my-project\")\n *\n * Allows only lowercase alphanumeric values, hyphens, and underscores (should match backend validation rules).\n * Normalizes special characters to a-z where applicable (accents, ligatures, etc).\n * Converts spaces to hyphens.\n */\nexport default function slugify(str: string): string {\n  return str\n    .normalize('NFKD') // Converts accents/ligatures/etc to latin alphabet\n    .toLowerCase()\n    .replace(' ', '-')\n    .replace(/[^a-z0-9-_]/g, ''); // Remove all invalid characters\n}\n","import {ReactNode} from 'react';\n\nimport Access from 'sentry/components/acl/access';\nimport Alert from 'sentry/components/alert';\nimport {t} from 'sentry/locale';\nimport {Organization, Scope} from 'sentry/types';\n\ntype Props = React.ComponentPropsWithoutRef<typeof Alert> & {\n  access?: Scope[];\n  message?: ReactNode;\n  organization?: Organization;\n};\n\nfunction PermissionAlert({\n  access = ['org:write'],\n  message = t(\n    'These settings can only be edited by users with the organization owner or manager role.'\n  ),\n  organization,\n  ...props\n}: Props) {\n  return (\n    <Access access={access} organization={organization}>\n      {({hasAccess}) =>\n        !hasAccess && (\n          <Alert data-test-id=\"org-permission-alert\" type=\"warning\" showIcon {...props}>\n            {message}\n          </Alert>\n        )\n      }\n    </Access>\n  );\n}\n\nexport default PermissionAlert;\n","import {RouteComponentProps} from 'react-router';\nimport {Location} from 'history';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {updateOrganization} from 'sentry/actionCreators/organizations';\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport AvatarChooser from 'sentry/components/avatarChooser';\nimport Form from 'sentry/components/forms/form';\nimport JsonForm from 'sentry/components/forms/jsonForm';\nimport organizationSettingsFields from 'sentry/data/forms/organizationGeneralSettings';\nimport {Organization, Scope} from 'sentry/types';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype Props = {\n  access: Set<Scope>;\n  initialData: Organization;\n  location: Location;\n  onSave: (previous: Organization, updated: Organization) => void;\n  organization: Organization;\n} & RouteComponentProps<{orgId: string}, {}>;\n\ntype State = AsyncComponent['state'] & {\n  authProvider: object;\n};\n\nclass OrganizationSettingsForm extends AsyncComponent<Props, State> {\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {organization} = this.props;\n    return [['authProvider', `/organizations/${organization.slug}/auth-provider/`]];\n  }\n\n  render() {\n    const {initialData, organization, onSave, access} = this.props;\n    const {authProvider} = this.state;\n    const endpoint = `/organizations/${organization.slug}/`;\n\n    const jsonFormSettings = {\n      additionalFieldProps: {hasSsoEnabled: !!authProvider},\n      features: new Set(organization.features),\n      access,\n      location: this.props.location,\n      disabled: !access.has('org:write'),\n    };\n\n    return (\n      <Form\n        data-test-id=\"organization-settings\"\n        apiMethod=\"PUT\"\n        apiEndpoint={endpoint}\n        saveOnBlur\n        allowUndo\n        initialData={initialData}\n        onSubmitSuccess={(updated, _model) => {\n          // Special case for slug, need to forward to new slug\n          if (typeof onSave === 'function') {\n            onSave(initialData, updated);\n          }\n        }}\n        onSubmitError={() => addErrorMessage('Unable to save change')}\n      >\n        <JsonForm {...jsonFormSettings} forms={organizationSettingsFields} />\n        <AvatarChooser\n          type=\"organization\"\n          allowGravatar={false}\n          endpoint={`${endpoint}avatar/`}\n          model={initialData}\n          onSave={updateOrganization}\n          disabled={!access.has('org:write')}\n        />\n      </Form>\n    );\n  }\n}\n\nexport default withOrganization(OrganizationSettingsForm);\n","import {Fragment} from 'react';\nimport {browserHistory, RouteComponentProps} from 'react-router';\n\nimport {addLoadingMessage} from 'sentry/actionCreators/indicator';\nimport {\n  changeOrganizationSlug,\n  removeAndRedirectToRemainingOrganization,\n  updateOrganization,\n} from 'sentry/actionCreators/organizations';\nimport Button from 'sentry/components/button';\nimport Confirm from 'sentry/components/confirm';\nimport Field from 'sentry/components/forms/field';\nimport List from 'sentry/components/list';\nimport ListItem from 'sentry/components/list/listItem';\nimport {Panel, PanelHeader} from 'sentry/components/panels';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\nimport {t, tct} from 'sentry/locale';\nimport {Organization, Project} from 'sentry/types';\nimport useApi from 'sentry/utils/useApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport withProjects from 'sentry/utils/withProjects';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport TextBlock from 'sentry/views/settings/components/text/textBlock';\nimport PermissionAlert from 'sentry/views/settings/organization/permissionAlert';\n\nimport OrganizationSettingsForm from './organizationSettingsForm';\n\ntype Props = {\n  organization: Organization;\n  projects: Project[];\n} & RouteComponentProps<{orgId: string}, {}>;\n\nfunction OrganizationGeneralSettings(props: Props) {\n  const api = useApi();\n\n  const {organization, projects, params} = props;\n  const {orgId} = params;\n\n  const access = new Set(organization.access);\n\n  const removeConfirmMessage = (\n    <Fragment>\n      <TextBlock>\n        {tct(\n          'Removing the organization, [name] is permanent and cannot be undone! Are you sure you want to continue?',\n          {\n            name: organization && <strong>{organization.name}</strong>,\n          }\n        )}\n      </TextBlock>\n\n      {!!projects.length && (\n        <Fragment>\n          <TextBlock>\n            {t('This will also remove the following associated projects:')}\n          </TextBlock>\n          <List symbol=\"bullet\" data-test-id=\"removed-projects-list\">\n            {projects.map(project => (\n              <ListItem key={project.slug}>{project.slug}</ListItem>\n            ))}\n          </List>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n\n  const handleSaveForm: React.ComponentProps<\n    typeof OrganizationSettingsForm\n  >['onSave'] = (prevData: Organization, updated: Organization) => {\n    if (updated.slug && updated.slug !== prevData.slug) {\n      changeOrganizationSlug(prevData, updated);\n\n      if (updated.features.includes('customer-domains')) {\n        const {organizationUrl} = updated.links;\n        window.location.replace(`${organizationUrl}/settings/organization/`);\n      } else {\n        browserHistory.replace(`/settings/${updated.slug}/`);\n      }\n    } else {\n      // This will update OrganizationStore (as well as OrganizationsStore\n      // which is slightly incorrect because it has summaries vs a detailed org)\n      updateOrganization(updated);\n    }\n  };\n\n  const handleConfirmRemoveOrg = () => {\n    if (!organization) {\n      return;\n    }\n\n    addLoadingMessage();\n    removeAndRedirectToRemainingOrganization(api, {\n      orgId: params.orgId,\n      successMessage: `${organization.name} is queued for deletion.`,\n      errorMessage: `Error removing the ${organization.name} organization`,\n    });\n  };\n\n  return (\n    <Fragment>\n      <SentryDocumentTitle title={t('General Settings')} orgSlug={orgId} />\n      <div>\n        <SettingsPageHeader title={t('Organization Settings')} />\n        <PermissionAlert />\n\n        <OrganizationSettingsForm\n          {...props}\n          initialData={organization}\n          access={access}\n          onSave={handleSaveForm}\n        />\n\n        {access.has('org:admin') && !organization.isDefault && (\n          <Panel>\n            <PanelHeader>{t('Remove Organization')}</PanelHeader>\n            <Field\n              label={t('Remove Organization')}\n              help={t(\n                'Removing this organization will delete all data including projects and their associated events.'\n              )}\n            >\n              <div>\n                <Confirm\n                  priority=\"danger\"\n                  confirmText={t('Remove Organization')}\n                  message={removeConfirmMessage}\n                  onConfirm={handleConfirmRemoveOrg}\n                >\n                  <Button priority=\"danger\">{t('Remove Organization')}</Button>\n                </Confirm>\n              </div>\n            </Field>\n          </Panel>\n        )}\n      </div>\n    </Fragment>\n  );\n}\n\nexport default withProjects(withOrganization(OrganizationGeneralSettings));\n"],"names":["DEFAULT_NO_ACCESS_MESSAGE","type","showIcon","t","Access","Component","render","organization","config","access","requireAll","isSuperuser","renderNoAccessMessage","children","this","props","orgAccess","hasAccess","acc","includes","hasSuperuser","user","renderProps","isRenderFunc","withOrganization","withConfig","route","title","fields","name","required","label","help","transformInput","slugify","saveOnBlur","saveMessageAlertType","saveMessage","choices","initialData","orgRoleList","map","r","id","disabled","has","visible","features","str","normalize","toLowerCase","replace","PermissionAlert","message","OrganizationSettingsForm","AsyncComponent","getEndpoints","slug","onSave","authProvider","state","endpoint","jsonFormSettings","additionalFieldProps","hasSsoEnabled","Set","location","apiMethod","apiEndpoint","allowUndo","onSubmitSuccess","updated","_model","onSubmitError","addErrorMessage","forms","organizationSettingsFields","allowGravatar","model","updateOrganization","OrganizationGeneralSettings","api","useApi","projects","params","orgId","removeConfirmMessage","Fragment","tct","length","symbol","project","orgSlug","prevData","changeOrganizationSlug","organizationUrl","links","window","browserHistory","isDefault","priority","confirmText","onConfirm","addLoadingMessage","removeAndRedirectToRemainingOrganization","successMessage","errorMessage","withProjects"],"sourceRoot":""}