"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectPerformance_index_tsx"],{"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("./app/components/alert.tsx"),a=s("./app/locale.tsx"),i=s("./app/utils/isRenderFunc.tsx"),c=s("./app/utils/withConfig.tsx"),l=s("./app/utils/withOrganization.tsx");const p=(0,s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js").tZ)(o.Z,{type:"error",showIcon:!0,children:(0,a.t)("You do not have sufficient permissions to access this.")});class d extends n.Component{render(){const{organization:e,config:t,access:s,requireAll:r,isSuperuser:n,renderNoAccessMessage:o,children:a}=this.props,{access:c}=e||{access:[]},l=!s||s[r?"every":"some"]((e=>c.includes(e))),d=!(!t.user||!t.user.isSuperuser),u={hasAccess:l,hasSuperuser:d},m=l&&(!n||d);return m||"function"!=typeof o?!m&&o?p:(0,i.l)(a)?a(u):m?a:null:o(u)}}d.displayName="Access",(0,r.Z)(d,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const u=(0,l.Z)((0,c.Z)(d))},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;const n=`${e} - ${t}`,o=r?`${n} - ${r}`:n;return s?`${o} - Sentry`:o}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("./app/components/asyncComponent.tsx"),n=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends r.Z{getTitle(){return""}render(){return(0,o.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var r=s("./app/components/acl/access.tsx"),n=s("./app/components/alert.tsx"),o=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=e=>{let{access:t=["project:write"],...s}=e;return(0,a.tZ)(r.Z,{access:t,children:e=>{let{hasAccess:t}=e;return!t&&(0,a.tZ)(n.Z,{"data-test-id":"project-permission-alert",type:"warning",...s,children:(0,o.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})}})};i.displayName="PermissionAlert";const c=i},"./app/views/settings/projectPerformance/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var r=s("./app/components/acl/feature.tsx"),n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),i=s("./app/components/acl/access.tsx"),c=s("./app/components/button.tsx"),l=s("./app/components/forms/form.tsx"),p=s("./app/components/forms/jsonForm.tsx"),d=s("./app/components/links/externalLink.tsx"),u=s("./app/components/loadingIndicator.tsx"),m=s("./app/components/panels/index.tsx"),h=s("./app/locale.tsx"),f=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),g=s("./app/utils/routeTitle.tsx"),Z=s("./app/views/asyncView.tsx"),x=s("./app/views/settings/components/settingsPageHeader.tsx"),j=s("./app/views/settings/project/permissionAlert.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class _ extends Z.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleDelete",(()=>{const{orgId:e,projectId:t}=this.props.params,{organization:s}=this.props;this.setState({loading:!0}),this.api.request(`/projects/${e}/${t}/transaction-threshold/configure/`,{method:"DELETE",success:()=>{(0,f.Z)("performance_views.project_transaction_threshold.clear",{organization:s})},complete:()=>this.fetchData()})}))}getTitle(){const{projectId:e}=this.props.params;return(0,g.Z)((0,h.t)("Performance"),e,!1)}getProjectEndpoint(e){let{orgId:t,projectId:s}=e;return`/projects/${t}/${s}/`}getPerformanceIssuesEndpoint(e){let{orgId:t,projectId:s}=e;return`/projects/${t}/${s}/performance-issues/configure/`}getEndpoints(){const{params:e,organization:t}=this.props,{orgId:s,projectId:r}=e,n=[["threshold",`/projects/${s}/${r}/transaction-threshold/configure/`],["project",`/projects/${s}/${r}/`]];if(t.features.includes("performance-issues-dev")){const e=["performance_issue_settings",`/projects/${s}/${r}/performance-issues/configure/`];n.push(e)}return n}getEmptyMessage(){return(0,h.t)("There is no threshold set for this project.")}renderLoading(){return(0,y.tZ)(w,{children:(0,y.tZ)(u.Z,{})})}get formFields(){return[{name:"metric",type:"select",label:(0,h.t)("Calculation Method"),options:[{value:"duration",label:(0,h.t)("Transaction Duration")},{value:"lcp",label:(0,h.t)("Largest Contentful Paint")}],help:(0,h._N)("This determines which duration is used to set your thresholds. By default, we use transaction duration which measures the entire length of the transaction. You can also set this to use a [link:Web Vital].",{link:(0,y.tZ)(d.Z,{href:"https://docs.sentry.io/product/performance/web-vitals/"})})},{name:"threshold",type:"string",label:(0,h.t)("Response Time Threshold (ms)"),placeholder:(0,h.t)("300"),help:(0,h._N)("Define what a satisfactory response time is based on the calculation method above. This will affect how your [link1:Apdex] and [link2:User Misery] thresholds are calculated. For example, misery will be 4x your satisfactory response time.",{link1:(0,y.tZ)(d.Z,{href:"https://docs.sentry.io/performance-monitoring/performance/metrics/#apdex"}),link2:(0,y.tZ)(d.Z,{href:"https://docs.sentry.io/product/performance/metrics/#user-misery"})})}]}get performanceIssueFormFields(){return[{name:"performanceIssueCreationRate",type:"range",label:(0,h.t)("Performance Issue Creation Rate"),min:0,max:1,step:.01,defaultValue:0,help:(0,h.t)("This determines the rate at which performance issues are created. A rate of 0.0 will disable performance issue creation.")}]}get performanceIssueDetectorsFormFields(){return[{name:"n_plus_one_db_detection_rate",type:"range",label:(0,h.t)("N+1 (DB) Detection Rate"),min:0,max:1,step:.01,defaultValue:0},{name:"n_plus_one_db_issue_rate",type:"range",label:(0,h.t)("N+1 (DB) Issue Rate"),min:0,max:1,step:.01,defaultValue:0},{name:"n_plus_one_db_count",type:"number",label:(0,h.t)("N+1 (DB) Minimum Count"),min:0,max:1e3,defaultValue:5},{name:"n_plus_one_db_duration_threshold",type:"number",label:(0,h.t)("N+1 (DB) Duration Threshold"),min:0,max:1e6,defaultValue:500}]}get initialData(){const{threshold:e}=this.state;return{threshold:e.threshold,metric:e.metric}}renderBody(){const{organization:e,project:t,params:s}=this.props,n=`/projects/${e.slug}/${t.slug}/transaction-threshold/configure/`,o=["project:write"],d=this.getProjectEndpoint(s),u=this.getPerformanceIssuesEndpoint(s);return(0,y.BX)(a.Fragment,{children:[(0,y.tZ)(x.Z,{title:(0,h.t)("Performance")}),(0,y.tZ)(j.Z,{access:o}),(0,y.tZ)(l.Z,{saveOnBlur:!0,allowUndo:!0,initialData:this.initialData,apiMethod:"POST",apiEndpoint:n,onSubmitSuccess:t=>{const s=this.initialData,r=s.metric===t.metric;(0,f.Z)("performance_views.project_transaction_threshold.change",{organization:e,from:r?s.threshold:s.metric,to:r?t.threshold:t.metric,key:r?"threshold":"metric"}),this.setState({threshold:t})},children:(0,y.tZ)(i.Z,{access:o,children:e=>{let{hasAccess:t}=e;return(0,y.tZ)(p.Z,{title:(0,h.t)("General"),fields:this.formFields,disabled:!t,renderFooter:()=>(0,y.tZ)(b,{children:(0,y.tZ)(c.ZP,{type:"button",onClick:()=>this.handleDelete(),children:(0,h.t)("Reset All")})})})}})}),(0,y.tZ)(r.Z,{features:["organizations:performance-issues-dev"],children:(0,y.BX)(a.Fragment,{children:[(0,y.tZ)(l.Z,{saveOnBlur:!0,allowUndo:!0,initialData:{performanceIssueCreationRate:this.state.project.performanceIssueCreationRate},apiMethod:"PUT",apiEndpoint:d,children:(0,y.tZ)(i.Z,{access:o,children:e=>{let{hasAccess:t}=e;return(0,y.tZ)(p.Z,{title:(0,h.t)("Performance Issues - All"),fields:this.performanceIssueFormFields,disabled:!t})}})}),(0,y.tZ)(l.Z,{saveOnBlur:!0,allowUndo:!0,initialData:this.state.performance_issue_settings,apiMethod:"PUT",apiEndpoint:u,children:(0,y.tZ)(i.Z,{access:o,children:e=>{let{hasAccess:t}=e;return(0,y.tZ)(p.Z,{title:(0,h.t)("Performance Issues - Detector Settings"),fields:this.performanceIssueDetectorsFormFields,disabled:!t})}})})]})})]})}}const b=(0,o.Z)(m.Lv,{target:"e1ynt7f21"})({name:"1f60if8",styles:"justify-content:flex-end"}),w=(0,o.Z)("div",{target:"e1ynt7f20"})({name:"lj2qtm",styles:"margin:18px 18px 0"}),v=_;function I(e){return(0,y.tZ)(r.Z,{features:["performance-view"],children:(0,y.tZ)(v,{...e})})}I.displayName="ProjectPerformanceContainer";const P=I}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectPerformance_index_tsx.3394ca4b1db6194a036223497fbcfa7b.js.map