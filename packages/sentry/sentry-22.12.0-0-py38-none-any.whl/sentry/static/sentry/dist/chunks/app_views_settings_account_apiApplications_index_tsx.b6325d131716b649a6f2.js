"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_apiApplications_index_tsx"],{"./app/views/asyncView.tsx":(t,e,i)=>{i.d(e,{Z:()=>o});var s=i("./app/components/asyncComponent.tsx"),a=i("./app/components/sentryDocumentTitle.tsx"),n=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends s.Z{getTitle(){return""}render(){return(0,n.tZ)(a.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/settings/account/apiApplications/index.tsx":(t,e,i)=>{i.r(e),i.d(e,{default:()=>f});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=i("./app/actionCreators/indicator.tsx"),n=i("./app/components/button.tsx"),o=i("./app/components/emptyMessage.tsx"),p=i("./app/components/panels/index.tsx"),r=i("./app/icons/index.tsx"),l=i("./app/locale.tsx"),c=i("./app/views/asyncView.tsx"),d=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=i("../node_modules/react/index.js"),h=i("./app/components/links/link.tsx"),u=i("./app/styles/space.tsx"),x=i("./app/utils/getDynamicText.tsx"),Z=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends m.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{loading:!1}),(0,s.Z)(this,"handleRemove",(()=>{if(this.state.loading)return;const{api:t,app:e,onRemove:i}=this.props;this.setState({loading:!0},(async()=>{(0,a.E3)();try{await t.requestPromise(`/api-applications/${e.id}/`,{method:"DELETE"}),(0,a.B8)(),i(e)}catch(t){(0,a.Iw)((0,l.t)("Unable to remove application. Please try again."))}}))}))}render(){const{app:t}=this.props;return(0,Z.BX)(y,{children:[(0,Z.BX)(v,{children:[(0,Z.tZ)(w,{to:`/settings/account/api/applications/${t.id}/`,children:(0,x.Z)({value:t.name,fixed:"CI_APPLICATION_NAME"})}),(0,Z.tZ)(b,{children:(0,x.Z)({value:t.clientID,fixed:"CI_CLIENT_ID"})})]}),(0,Z.tZ)(n.ZP,{"aria-label":"Remove",onClick:this.handleRemove,disabled:this.state.loading,icon:(0,Z.tZ)(r.Fz,{})})]})}}g.displayName="Row";const y=(0,d.Z)(p.Lv,{target:"ek7lf4i3"})("padding:",(0,u.Z)(2),";align-items:center;"),v=(0,d.Z)("div",{target:"ek7lf4i2"})("display:flex;flex-direction:column;flex:1;margin-right:",(0,u.Z)(1),";"),w=(0,d.Z)(h.Z,{target:"ek7lf4i1"})("margin-bottom:",(0,u.Z)(1),";"),b=(0,d.Z)("div",{target:"ek7lf4i0"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeSmall),";"),A=g;var C=i("./app/views/settings/components/settingsPageHeader.tsx");class _ extends c.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleCreateApplication",(async()=>{(0,a.E3)();try{const t=await this.api.requestPromise("/api-applications/",{method:"POST"});(0,a.S9)((0,l.t)("Created a new API Application")),this.props.router.push(`/settings/account/api/applications/${t.id}/`)}catch{(0,a.Iw)((0,l.t)("Unable to remove application. Please try again."))}})),(0,s.Z)(this,"handleRemoveApplication",(t=>{this.setState({appList:this.state.appList.filter((e=>e.id!==t.id))})}))}getEndpoints(){return[["appList","/api-applications/"]]}getTitle(){return(0,l.t)("API Applications")}renderBody(){const t=0===this.state.appList.length;return(0,Z.BX)("div",{children:[(0,Z.tZ)(C.Z,{title:"API Applications",action:(0,Z.tZ)(n.ZP,{priority:"primary",size:"sm",onClick:this.handleCreateApplication,icon:(0,Z.tZ)(r.N_,{size:"xs",isCircled:!0}),children:(0,l.t)("Create New Application")})}),(0,Z.BX)(p.s_,{children:[(0,Z.tZ)(p.V9,{children:(0,l.t)("Application Name")}),(0,Z.tZ)(p.N,{children:t?(0,Z.tZ)(o.Z,{children:(0,l.t)("You haven't created any applications yet.")}):this.state.appList.map((t=>(0,Z.tZ)(A,{api:this.api,app:t,onRemove:this.handleRemoveApplication},t.id)))})]})]})}}const f=_}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_apiApplications_index_tsx.befb07983bba491d1b60dba67876cdc9.js.map