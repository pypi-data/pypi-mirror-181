"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_utils_routeAnalytics_useRouteAnalyticsEventNames_tsx-app_views_organizationStats_header_t-d58173"],{"./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("../node_modules/react/index.js"),o=s("./app/views/routeAnalyticsContextProvider.tsx");function a(e,t){const{setEventNames:s,previousUrl:a}=(0,n.useContext)(o.o);(0,n.useEffect)((()=>{s(e,t)}),[s,e,t,a])}},"./app/views/organizationStats/header.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/featureFeedback/index.tsx"),a=s("./app/components/layouts/thirds.tsx"),i=s("./app/components/links/externalLink.tsx"),r=s("./app/components/links/link.tsx"),d=s("./app/components/pageHeadingQuestionTooltip.tsx"),l=s("./app/locale.tsx"),m=s("./app/styles/space.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{organization:t,activeTab:s}=e;return(0,u.BX)(a.h4,{children:[(0,u.tZ)(a.oB,{children:(0,u.BX)(g,{children:[(0,l.t)("Stats"),(0,u.tZ)(d.u,{title:(0,l._N)("A view of the usage data that Sentry has received across your entire organization. [link: Read the docs].",{link:(0,u.tZ)(i.Z,{href:"https://docs.sentry.io/product/stats/"})})})]})}),(0,u.tZ)(a.kP,{children:"stats"!==s&&(0,u.tZ)(o.z,{buttonProps:{size:"sm"},featureName:"team-stats"})}),(0,u.BX)(a.mL,{underlined:!0,children:[(0,u.tZ)("li",{className:"stats"===s?"active":"",children:(0,u.tZ)(r.Z,{to:`/organizations/${t.slug}/stats/`,children:(0,l.t)("Usage")})}),(0,u.tZ)("li",{className:"issues"===s?"active":"",children:(0,u.tZ)(r.Z,{to:`/organizations/${t.slug}/stats/issues/`,children:(0,l.t)("Issues")})}),(0,u.tZ)("li",{className:"health"===s?"active":"",children:(0,u.tZ)(r.Z,{to:`/organizations/${t.slug}/stats/health/`,children:(0,l.t)("Health")})})]})]})}p.displayName="StatsHeader";const c=p,g=(0,n.Z)(a.Dx,{target:"e8yr0f60"})("margin-top:",(0,m.Z)(.5),";")},"./app/views/organizationStats/teamInsights/controls.tsx":(e,t,s)=>{s.d(t,{Z:()=>j});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),a=s("../node_modules/lodash/pick.js"),i=s.n(a),r=s("../node_modules/lodash/uniq.js"),d=s.n(r),l=s("../node_modules/moment/moment.js"),m=s.n(l),u=s("./app/components/forms/controls/selectControl.tsx"),p=s("./app/components/pageTimeRangeSelector.tsx"),c=s("./app/components/teamSelector.tsx"),g=s("./app/locale.tsx"),h=s("./app/styles/space.tsx"),x=s("./app/utils/isActiveSuperuser.tsx"),f=s("./app/utils/localStorage.tsx"),b=s("./app/utils/useOrganization.tsx"),v=s("./app/utils/useProjects.tsx"),Z=s("./app/views/organizationStats/teamInsights/utils.tsx"),w=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const y=["pageStatsPeriod","pageStart","pageEnd","pageUtc","dataCategory","transform","sort","query","cursor","team","environment"];function S(e){let{location:t,router:s,currentTeam:n,currentEnvironment:a,showEnvironment:r}=e;const{projects:l}=(0,v.Z)({slugs:n?.projects.map((e=>e.slug))??[]}),p=(0,b.Z)(),c=(0,x.M)(),S=(0,o.u)(),j=t?.query??{},C=`teamInsightsSelectedTeamId:${p.slug}`;function T(e){const n=i()(e,y),o={...t,query:{...j,...n}};return s.push(o),o}const{period:E,start:I,end:N,utc:L}=(0,Z.lI)(j),M=d()(l.map((e=>e.environments)).flat()).map((e=>({label:e,value:e})));return(0,w.BX)(k,{showEnvironment:r,children:[(0,w.tZ)(z,{name:"select-team",inFieldLabel:(0,g.t)("Team: "),value:n?.slug,onChange:e=>{return t=e.actor.id,f.Z.setItem(C,t),void T({team:t,environment:void 0});var t},teamFilter:c?void 0:e=>e.isMember,styles:{singleValue(e){const t={display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:S.fontSizeMedium,":before":{...e[":before"],color:S.textColor,marginRight:(0,h.Z)(1.5),marginLeft:(0,h.Z)(.5)}};return{...e,...t}},input:(e,t)=>({...e,display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center",gridGap:(0,h.Z)(1),":before":{backgroundColor:t.theme.backgroundSecondary,height:24,width:38,borderRadius:3,content:'""',display:"block"}})}}),r&&(0,w.tZ)(u.Z,{options:[{value:"",label:(0,g.t)("All")},...M],value:a??"",onChange:function(e){let{value:t}=e;T(""===t?{environment:void 0}:{environment:t})},styles:{input:e=>({...e,display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center",gridGap:(0,h.Z)(1),":before":{height:24,width:90,borderRadius:3,content:'""',display:"block"}}),control:e=>({...e,boxShadow:"none"}),singleValue:e=>({...e,fontSize:S.fontSizeMedium,display:"flex",":before":{...e[":before"],color:S.textColor,marginRight:(0,h.Z)(1.5)}})},inFieldLabel:(0,g.t)("Environment:")}),(0,w.tZ)(_,{organization:p,relative:E??"",start:I??null,end:N??null,utc:L??null,onUpdate:function(e){const{start:t,end:s,relative:n,utc:o}=e;if(t&&s){const e=o?m().utc:m();return T({pageStatsPeriod:void 0,pageStart:e(t).format(),pageEnd:e(s).format(),pageUtc:o??void 0})}return T({pageStatsPeriod:n||void 0,pageStart:void 0,pageEnd:void 0,pageUtc:void 0})},showAbsolute:!1,relativeOptions:{"14d":(0,g.t)("Last 2 weeks"),"4w":(0,g.t)("Last 4 weeks"),"8w":(0,g.t)("Last 8 weeks"),"12w":(0,g.t)("Last 12 weeks")}})]})}S.displayName="TeamStatsControls";const j=S,k=(0,n.Z)("div",{target:"epxns6w2"})("display:grid;align-items:center;gap:",(0,h.Z)(2),";margin-bottom:",(0,h.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:246px ",(e=>e.showEnvironment?"246px":"")," 1fr;}"),z=(0,n.Z)(c.Z,{target:"epxns6w1"})("&>div{box-shadow:",(e=>e.theme.dropShadowLight),";}"),_=(0,n.Z)(p.Z,{target:"epxns6w0"})({name:"8emsuj",styles:"div{min-height:unset;}"})},"./app/views/organizationStats/teamInsights/descriptionCard.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/styles/space.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{title:t,description:s,children:n}=e;return(0,a.BX)(d,{children:[(0,a.BX)(l,{children:[(0,a.tZ)(m,{children:t}),(0,a.tZ)(u,{children:s})]}),(0,a.tZ)(p,{children:n})]})}i.displayName="DescriptionCard";const r=i,d=(0,n.Z)("div",{target:"eyf29hd4"})("border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";display:flex;margin-bottom:",(0,o.Z)(3),";flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints.medium),"){flex-direction:row;}"),l=(0,n.Z)("div",{target:"eyf29hd3"})("padding:",(0,o.Z)(2)," ",(0,o.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";@media (min-width: ",(e=>e.theme.breakpoints.medium),"){max-width:250px;border-right:1px solid ",(e=>e.theme.border),";border-bottom:0;}"),m=(0,n.Z)("div",{target:"eyf29hd2"})("font-size:",(e=>e.theme.fontSizeLarge),";margin:0 0 ",(0,o.Z)(.5),";"),u=(0,n.Z)("div",{target:"eyf29hd1"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";"),p=(0,n.Z)("div",{target:"eyf29hd0"})({name:"1ff36h2",styles:"flex-grow:1"})},"./app/views/organizationStats/teamInsights/styles.tsx":(e,t,s)=>{s.d(t,{R:()=>a,W:()=>i});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/idBadge/index.tsx");const a=(0,n.Z)("div",{target:"e1l696dj1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),i=(0,n.Z)(o.Z,{target:"e1l696dj0"})({name:"ozd7xs",styles:"flex-shrink:0"})},"./app/views/organizationStats/teamInsights/utils.tsx":(e,t,s)=>{s.d(t,{E7:()=>r,Gs:()=>i,NW:()=>d,lI:()=>m,tP:()=>l});var n=s("../node_modules/moment/moment.js"),o=s.n(n),a=s("./app/components/organizations/pageFilters/parse.tsx");function i(e){return e.sort(((e,t)=>new Date(e.name).getTime()-new Date(t.name).getTime()))}function r(e){return Object.entries(e).map((e=>{let[t,s]=e;return{value:s,name:new Date(t).getTime()}}))}function d(e){return[...e.filter((e=>Math.round(e.trend)<0)),...e.filter((e=>Math.round(e.trend)>0)),...e.filter((e=>0===Math.round(e.trend)))]}const l=e=>({splitNumber:Math.max(Math.round(e/7),4),type:"category",axisTick:{alignWithLabel:!0},axisLabel:{formatter:e=>o()(new Date(Number(e))).format("MMM D")}});function m(e){const{start:t,end:s,statsPeriod:n,utc:i}=(0,a.fK)(e,{allowEmptyPeriod:!0,allowAbsoluteDatetime:!0,allowAbsolutePageDatetime:!0});if(!n&&!t&&!s)return{period:"8w"};if(n)return{period:n};const r="true"===i;return t&&s?r?{start:o().utc(t).format(),end:o().utc(s).format(),utc:r}:{start:o()(t).utc().format(),end:o()(s).utc().format(),utc:r}:{period:"8w"}}}}]);
//# sourceMappingURL=../sourcemaps/app_utils_routeAnalytics_useRouteAnalyticsEventNames_tsx-app_views_organizationStats_header_t-d58173.6a3913646f3c7b3b60e3a20aa8e22a11.js.map