"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_eventVitals_tsx-app_components_profiling_transactionToProfileButton_tsx-9281a2"],{"./app/components/events/eventVitals.tsx":(e,t,n)=>{n.d(t,{Z:()=>f});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),i=n("./app/components/charts/styles.tsx"),a=n("./app/components/panels/index.tsx"),o=n("./app/components/tooltip.tsx"),l=n("./app/icons/index.tsx"),c=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),u=n("./app/utils.tsx"),p=n("./app/utils/formatters.tsx");function m(e,t){return e&&"duration"===e.type?(0,p.g9)(t/1e3,3):e&&"integer"===e.type?t.toFixed(0):t.toFixed(3)}var g=n("./app/utils/performance/vitals/constants.tsx"),h=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(e){if(!e.sdk?.version)return!1;const t=e.sdk.version;return t.startsWith("5.26.")||t.startsWith("5.27.0")||t.startsWith("5.27.1")||t.startsWith("5.27.2")}function f(e){let{event:t}=e;return(0,h.BX)(s.Fragment,{children:[(0,h.tZ)(v,{event:t}),(0,h.tZ)(Z,{event:t})]})}function v(e){let{event:t}=e;const n=Object.keys(t.measurements??{}).filter((e=>Boolean(g.r9[`measurements.${e}`]))).sort();return 0===n.length?null:(0,h.BX)(T,{children:[(0,h.BX)(i.OT,{children:[(0,c.t)("Web Vitals"),y(t)&&(0,h.tZ)(_,{"data-test-id":"outdated-sdk-warning",size:"sm",children:(0,h.tZ)(o.Z,{title:(0,c.t)("These vitals were collected using an outdated SDK version and may not be accurate. To ensure accurate web vitals in new transaction events, please update your SDK to the latest version."),position:"top",containerDisplayMode:"inline-block",children:(0,h.tZ)(l.FC,{size:"sm"})})})]}),(0,h.tZ)(k,{children:n.map((e=>{const n=`measurements.${e}`,r=g.r9[n];return(0,h.tZ)(x,{event:t,name:e,vital:r},e)}))})]})}function Z(e){let{event:t}=e;const n=Object.keys(t.measurements??{}).filter((e=>Boolean(g.TT[`measurements.${e}`]))).sort();return 0===n.length?null:(0,h.BX)(T,{children:[(0,h.tZ)(i.OT,{children:(0,c.t)("Mobile Vitals")}),(0,h.tZ)(k,{children:n.map((e=>{const n=`measurements.${e}`,r=g.TT[n];return(0,h.tZ)(x,{event:t,name:e,vital:r},e)}))})]})}function x(e){let{event:t,name:n,vital:r}=e;const s=t.measurements?.[n].value??null;if(null===s||!r)return null;const i=(0,u.ri)(r.poorThreshold)&&s>=r.poorThreshold,a=m(r,s),d=m(r,r?.poorThreshold??0);return(0,h.tZ)($,{children:(0,h.BX)(b,{failedThreshold:i,children:[(0,h.tZ)(z,{children:r.name??n}),(0,h.BX)(j,{children:[i?(0,h.tZ)(S,{"data-test-id":"threshold-failed-warning",size:"sm",children:(0,h.tZ)(o.Z,{title:(0,c.t)("Fails threshold at %s.",d),position:"top",containerDisplayMode:"inline-block",children:(0,h.tZ)(l.zC,{size:"sm"})})}):null,(0,h.tZ)(w,{failedThreshold:i,children:a})]})]})})}f.displayName="EventVitals",v.displayName="WebVitals",Z.displayName="MobileVitals",x.displayName="EventVital";const k=(0,r.Z)("div",{target:"eknakzv8"})("display:grid;grid-column-gap:",(0,d.Z)(1),";"),T=(0,r.Z)("div",{target:"eknakzv7"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,d.Z)(4),";"),b=(0,r.Z)(a.s_,{target:"eknakzv6"})("padding:",(0,d.Z)(1)," ",(0,d.Z)(1.5),";margin-bottom:",(0,d.Z)(1),";",(e=>e.failedThreshold&&`border: 1px solid ${e.theme.red300};`),";"),z=(0,r.Z)("div",{target:"eknakzv5"})(""),j=(0,r.Z)("div",{target:"eknakzv4"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),_=(0,r.Z)("span",{target:"eknakzv3"})("display:inline-block;height:",(e=>e.theme.iconSizes[e.size]??e.size),";line-height:",(e=>e.theme.iconSizes[e.size]??e.size),";margin-left:",(0,d.Z)(.5),";color:",(e=>e.theme.errorText),";"),S=(0,r.Z)("span",{target:"eknakzv2"})("display:inline-block;height:",(e=>e.theme.iconSizes[e.size]??e.size),";line-height:",(e=>e.theme.iconSizes[e.size]??e.size),";margin-right:",(0,d.Z)(.5),";color:",(e=>e.theme.errorText),";"),w=(0,r.Z)("span",{target:"eknakzv1"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";",(e=>e.failedThreshold&&`color: ${e.theme.errorText};`),";"),$=(0,r.Z)("div",{target:"eknakzv0"})("")},"./app/components/keyValueTable.tsx":(e,t,n)=>{n.d(t,{G:()=>l,v:()=>o});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),i=n("./app/styles/space.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=(0,r.Z)("dl",{target:"e13z4zle2"})({name:"u4s7v9",styles:"display:grid;grid-template-columns:50% 50%"}),l=e=>{let{keyName:t,value:n}=e;return(0,a.BX)(s.Fragment,{children:[(0,a.tZ)(d,{children:t}),(0,a.tZ)(u,{children:n})]})};l.displayName="KeyValueTableRow";const c=e=>{let{theme:t}=e;return`\nfont-size: ${t.fontSizeMedium};\npadding: ${(0,i.Z)(.5)} ${(0,i.Z)(1)};\nfont-weight: normal;\nline-height: inherit;\n${e=>e.theme.overflowEllipsis};\n&:nth-of-type(2n-1) {\n  background-color: ${t.backgroundSecondary};\n}\n`},d=(0,r.Z)("dt",{target:"e13z4zle1"})(c,";color:",(e=>e.theme.textColor),";"),u=(0,r.Z)("dd",{target:"e13z4zle0"})(c,";color:",(e=>e.theme.subText),";text-align:right;")},"./app/components/profiling/transactionToProfileButton.tsx":(e,t,n)=>{n.d(t,{Z:()=>p});var r=n("../node_modules/react/index.js"),s=n("../node_modules/@sentry/core/esm/exports.js"),i=n("./app/components/button.tsx"),a=n("./app/locale.tsx"),o=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),l=n("./app/utils/profiling/routes.tsx"),c=n("./app/utils/useApi.tsx"),d=n("./app/utils/useOrganization.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{transactionId:t,orgId:n,projectId:p}=e;const m=(0,c.Z)(),g=(0,d.Z)(),[h,y]=(0,r.useState)({type:"initial"});if((0,r.useEffect)((()=>{(function(e,t,n,r){return e.requestPromise(`/projects/${n}/${r}/profiling/transactions/${t}/`,{method:"GET"})})(m,t,n,p).then((e=>{y({type:"resolved",data:e.profile_id})})).catch((e=>{404!==e.status&&s.Tb(e)}))}),[m,t,n,p]),"resolved"!==h.type)return null;const f=(0,l.O$)({orgSlug:n,projectSlug:p,profileId:h.data});return(0,u.tZ)(i.ZP,{size:"sm",onClick:function(){(0,o.Z)("profiling_views.go_to_flamegraph",{organization:g,source:"transaction_details"})},to:f,children:(0,a.t)("Go to Profile")})}p.displayName="TransactionToProfileButton"},"./app/components/tagsTable.tsx":(e,t,n)=>{n.d(t,{z:()=>f});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/charts/styles.tsx"),i=n("./app/components/events/meta/annotatedText/index.tsx"),a=n("./app/components/keyValueTable.tsx"),o=(n("../node_modules/core-js/modules/es.array.includes.js"),n("./app/components/links/link.tsx")),l=n("./app/components/tooltip.tsx"),c=n("./app/components/version.tsx"),d=n("./app/locale.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{tag:t,query:n,generateUrl:r,meta:s}=e;const l=n.includes(`${t.key}:`),p=l?void 0:r(t),m=s?.key?.[""],y=s?.value?.[""],f=()=>"release"===t.key?(0,u.tZ)(c.Z,{version:t.value,anchor:!1,withPackage:!0}):t.value;return(0,u.tZ)(a.G,{keyName:m&&!t.key?(0,u.tZ)(i.q,{value:t.key,meta:m}):(0,u.tZ)(g,{title:t.key,showOnlyOnOverflow:!0,children:t.key}),value:y&&!t.value?(0,u.tZ)(i.q,{value:t.value,meta:y}):m?.err?.length?(0,u.tZ)(h,{children:f()}):l?(0,u.tZ)(g,{title:(0,d.t)("This tag is in the current filter conditions"),children:(0,u.tZ)(h,{children:f()})}):(0,u.tZ)(g,{title:f(),showOnlyOnOverflow:!0,children:(0,u.tZ)(o.Z,{to:p||"",children:f()})})})}p.displayName="TagsTableRow";const m=p,g=(0,r.Z)(l.Z,{target:"eefv4rs1"})((e=>e.theme.overflowEllipsis),";"),h=(0,r.Z)("span",{target:"eefv4rs0"})({name:"1jltqks",styles:"display:block;overflow:hidden;text-overflow:ellipsis;line-height:normal"});var y=n("./app/styles/space.tsx");function f(e){let{event:t,query:n,generateUrl:r}=e;const o=t._meta?.tags;return(0,u.BX)(v,{children:[(0,u.tZ)(s.OT,{children:(0,d.t)("Tag Details")}),o?.[""]&&!t.tags?(0,u.tZ)(i.q,{value:t.tags,meta:o?.[""]}):(0,u.tZ)(a.v,{children:t.tags.map(((e,t)=>(0,u.tZ)(m,{tag:e,query:n,generateUrl:r,meta:o?.[t]},e.key)))})]})}f.displayName="TagsTable";const v=(0,r.Z)("div",{target:"eaaaj7z0"})("margin-bottom:",(0,y.Z)(3),";")},"./app/utils/performance/quickTrace/quickTraceQuery.tsx":(e,t,n)=>{n.d(t,{Z:()=>p});var r=n("../node_modules/react/index.js"),s=n("./app/utils/performance/quickTrace/traceFullQuery.tsx"),i=n("./app/utils/discover/genericDiscoverQuery.tsx"),a=n("./app/utils/performance/quickTrace/utils.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{eventId:t,...n}=e;const r=(0,a.eF)(n);return Object.assign({event_id:t},r)}function c(e){let{children:t}=e;return(0,o.tZ)(r.Fragment,{children:t({isLoading:!1,error:null,trace:null,type:"partial"})})}function d(e){let{traceId:t,start:n,end:r,statsPeriod:s,children:d,...u}=e;if(!t)return(0,o.tZ)(c,{children:d});const p=(0,a._Z)({start:n,end:r,statsPeriod:s});return(0,o.tZ)(i.ZP,{route:`events-trace-light/${t}`,getRequestPayload:l,eventView:p,...u,children:e=>{let{tableData:t,...n}=e;return d({trace:t||null,type:"partial",...n})}})}c.displayName="EmptyTrace",d.displayName="TraceLiteQuery";const u=d;function p(e){let{children:t,event:n,...i}=e;const l=()=>(0,o.tZ)(r.Fragment,{children:t({isLoading:!1,error:null,trace:[],type:"empty",currentEvent:null})});if(!n)return l();const c=n.contexts?.trace?.trace_id;if(!c)return l();const{start:d,end:p}=(0,a.$J)(n);return(0,o.tZ)(u,{eventId:n.id,traceId:c,start:d,end:p,...i,children:e=>(0,o.tZ)(s.g,{eventId:n.id,traceId:c,start:d,end:p,...i,children:r=>{if(!r.isLoading&&null===r.error&&null!==r.traces)for(const e of r.traces)try{const s=(0,a.eW)(n,e);return t({...r,trace:s,currentEvent:s.find((e=>(0,a.q2)(e,n)))??null})}catch{}if(!e.isLoading&&null===e.error&&null!==e.trace){const{trace:r}=e;return t({...e,currentEvent:r.find((e=>(0,a.q2)(e,n)))??null})}return t({isLoading:e.error?r.isLoading:e.isLoading||r.isLoading,error:r.error,trace:[],type:r.traces?.length?"missing":"empty",currentEvent:null})}})})}p.displayName="QuickTraceQuery"},"./app/utils/performance/quickTrace/traceFullQuery.tsx":(e,t,n)=>{n.d(t,{H:()=>u,g:()=>d});var r=n("../node_modules/react/index.js"),s=n("./app/utils/discover/genericDiscoverQuery.tsx"),i=n("./app/utils/performance/quickTrace/utils.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{detailed:t,eventId:n,...r}=e;const s=(0,i.eF)(r);return s.detailed=t?"1":"0",n&&(s.event_id=n),s}function l(e){let{children:t}=e;return(0,a.tZ)(r.Fragment,{children:t({isLoading:!1,error:null,traces:null,type:"full"})})}function c(e){let{traceId:t,start:n,end:r,statsPeriod:c,children:d,...u}=e;if(!t)return(0,a.tZ)(l,{children:d});const p=(0,i._Z)({start:n,end:r,statsPeriod:c});return(0,a.tZ)(s.ZP,{route:`events-trace/${t}`,getRequestPayload:o,eventView:p,...u,children:e=>{let{tableData:t,...n}=e;return d({traces:t||null,type:"full",...n})}})}l.displayName="EmptyTrace",c.displayName="GenericTraceFullQuery";const d=e=>(0,a.tZ)(c,{...e,detailed:!1});d.displayName="TraceFullQuery";const u=e=>(0,a.tZ)(c,{...e,detailed:!0});u.displayName="TraceFullDetailedQuery"},"./app/utils/profiling/routes.tsx":(e,t,n)=>{function r(e){let{orgSlug:t,projectSlug:n,profileId:r}=e;return`/organizations/${t}/profiling/profile/${n}/${r}/flamechart/`}function s(e){let{orgSlug:t,query:n}=e;const r=function(e){let{orgSlug:t}=e;return`/organizations/${t}/profiling/`}({orgSlug:t});return{pathname:r,query:{...n}}}function i(e){let{orgSlug:t,projectSlug:n,transaction:r,query:s}=e;const i=function(e){let{orgSlug:t,projectSlug:n}=e;return`/organizations/${t}/profiling/summary/${n}/`}({orgSlug:t,projectSlug:n});return{pathname:i,query:{...s,transaction:r}}}function a(e){let{orgSlug:t,projectSlug:n,profileId:s,query:i}=e;return{pathname:r({orgSlug:t,projectSlug:n,profileId:s}),query:{...i}}}function o(e){let{orgSlug:t,projectSlug:n,profileId:r,query:s}=e;const i=function(e){let{orgSlug:t,projectSlug:n,profileId:r}=e;return`/organizations/${t}/profiling/profile/${n}/${r}/details/`}({orgSlug:t,projectSlug:n,profileId:r});return{pathname:i,query:{...s}}}n.d(t,{O$:()=>r,Qy:()=>o,R0:()=>i,TH:()=>a,XR:()=>s})}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_eventVitals_tsx-app_components_profiling_transactionToProfileButton_tsx-9281a2.1eb379a0abd4dd5d7e32b945091ad2ba.js.map