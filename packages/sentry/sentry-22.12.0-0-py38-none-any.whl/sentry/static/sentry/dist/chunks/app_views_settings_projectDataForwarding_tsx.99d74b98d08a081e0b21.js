"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectDataForwarding_tsx"],{"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),r=s("./app/components/alert.tsx"),i=s("./app/locale.tsx"),o=s("./app/utils/isRenderFunc.tsx"),l=s("./app/utils/withConfig.tsx"),p=s("./app/utils/withOrganization.tsx");const d=(0,s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js").tZ)(r.Z,{type:"error",showIcon:!0,children:(0,i.t)("You do not have sufficient permissions to access this.")});class c extends a.Component{render(){const{organization:e,config:t,access:s,requireAll:n,isSuperuser:a,renderNoAccessMessage:r,children:i}=this.props,{access:l}=e||{access:[]},p=!s||s[n?"every":"some"]((e=>l.includes(e))),c=!(!t.user||!t.user.isSuperuser),u={hasAccess:p,hasSuperuser:c},g=p&&(!a||c);return g||"function"!=typeof r?!g&&r?d:(0,o.l)(i)?i(u):g?i:null:r(u)}}c.displayName="Access",(0,n.Z)(c,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const u=(0,p.Z)((0,l.Z)(c))},"./app/components/pluginList.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var n=s("./app/actionCreators/plugins.tsx"),a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/panels/index.tsx"),i=s("./app/components/textOverflow.tsx"),o=s("./app/locale.tsx"),l=s("./app/plugins/components/pluginIcon.tsx"),p=s("./app/styles/space.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=e=>{let{plugins:t,onEnablePlugin:s}=e;return 0===t.length?null:(0,d.BX)(r.s_,{children:[(0,d.tZ)(r.V9,{children:(0,o.t)("Inactive Integrations")}),(0,d.tZ)(r.N,{children:(0,d.tZ)(u,{children:t.map((e=>(0,d.tZ)(g,{onClick:()=>s(e),className:`ref-plugin-enable-${e.id}`,children:(0,d.BX)(m,{children:[(0,d.tZ)(h,{pluginId:e.id}),(0,d.tZ)(i.Z,{children:e.shortName||e.name})]})},e.id)))})})]})};c.displayName="InactivePlugins";const u=(0,a.Z)("div",{target:"e4awzvo3"})("display:flex;padding:",(0,p.Z)(1),";flex:1;flex-wrap:wrap;"),g=(0,a.Z)("button",{target:"e4awzvo2"})("margin:",(0,p.Z)(1),";width:175px;text-align:center;font-size:",(e=>e.theme.fontSizeSmall),";color:#889ab0;letter-spacing:0.1px;font-weight:600;text-transform:uppercase;border:1px solid #eee;background:inherit;border-radius:",(e=>e.theme.borderRadius),";padding:10px;&:hover{border-color:#ccc;}"),m=(0,a.Z)("div",{target:"e4awzvo1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),h=(0,a.Z)(l.ZP,{target:"e4awzvo0"})("margin-right:",(0,p.Z)(1),";"),x=c;var Z=s("./app/components/pluginConfig.tsx");const w=e=>{let{organization:t,project:s,pluginList:a,onDisablePlugin:i=(()=>{}),onEnablePlugin:l=(()=>{})}=e;const p=e=>{(0,n.rR)({projectId:s.slug,orgId:t.slug,pluginId:e.slug}),i(e)};return a.length?(0,d.BX)("div",{children:[a.filter((e=>e.enabled)).map((e=>(0,d.tZ)(Z.Z,{data:e,organization:t,project:s,onDisablePlugin:p},e.id))),(0,d.tZ)(x,{plugins:a.filter((e=>!e.enabled&&!e.isHidden)),onEnablePlugin:e=>{(0,n.Cg)({projectId:s.slug,orgId:t.slug,pluginId:e.slug}),l(e)}})]}):(0,d.tZ)(r.s_,{children:(0,d.tZ)(r.Lv,{children:(0,o.t)("Oops! Looks like there aren't any available integrations installed.")})})};w.displayName="PluginList";const f=w},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("./app/components/acl/access.tsx"),a=s("./app/components/alert.tsx"),r=s("./app/locale.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=e=>{let{access:t=["project:write"],...s}=e;return(0,i.tZ)(n.Z,{access:t,children:e=>{let{hasAccess:t}=e;return!t&&(0,i.tZ)(a.Z,{"data-test-id":"project-permission-alert",type:"warning",...s,children:(0,r.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})}})};o.displayName="PermissionAlert";const l=o},"./app/views/settings/projectDataForwarding.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),r=s("./app/components/acl/feature.tsx"),i=s("./app/components/acl/featureDisabled.tsx"),o=s("./app/components/alert.tsx"),l=s("./app/components/asyncComponent.tsx"),p=s("./app/components/charts/miniBarChart.tsx"),d=s("./app/components/emptyMessage.tsx"),c=s("./app/components/links/externalLink.tsx"),u=s("./app/components/panels/index.tsx"),g=s("./app/components/pluginList.tsx"),m=s("./app/components/sentryDocumentTitle.tsx"),h=s("./app/locale.tsx"),x=s("./app/utils/withOrganization.tsx"),Z=s("./app/views/settings/components/settingsPageHeader.tsx"),w=s("./app/views/settings/components/text/textBlock.tsx"),f=s("./app/views/settings/project/permissionAlert.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class y extends l.Z{getEndpoints(){const{orgId:e,projectId:t}=this.props.params,s=Math.floor((new Date).getTime()/1e3);return[["stats",`/projects/${e}/${t}/stats/`,{query:{since:s-2592e3,until:s,resolution:"1d",stat:"forwarded"}}]]}renderBody(){const{projectId:e}=this.props.params,{stats:t}=this.state,s={seriesName:(0,h.t)("Forwarded"),data:t.map((e=>{let[t,s]=e;return{name:1e3*t,value:s}}))},n=s.data.some((e=>{let{value:t}=e;return t>0}));return(0,b.BX)(u.s_,{children:[(0,b.tZ)(m.Z,{title:(0,h.t)("Data Forwarding"),projectSlug:e}),(0,b.tZ)(u.V9,{children:(0,h.t)("Forwarded events in the last 30 days (by day)")}),(0,b.tZ)(u.N,{withPadding:!0,children:n?(0,b.tZ)(p.Z,{isGroupedByDate:!0,showTimeInTooltip:!0,labelYAxisExtents:!0,series:[s],height:150}):(0,b.tZ)(d.Z,{title:(0,h.t)("Nothing forwarded in the last 30 days."),description:(0,h.t)("Total events forwarded to third party integrations.")})})]})}}class j extends l.Z{constructor(){super(...arguments),(0,n.Z)(this,"onEnablePlugin",(e=>this.updatePlugin(e,!0))),(0,n.Z)(this,"onDisablePlugin",(e=>this.updatePlugin(e,!1)))}getEndpoints(){const{orgId:e,projectId:t}=this.props.params;return[["plugins",`/projects/${e}/${t}/plugins/`]]}get forwardingPlugins(){return this.state.plugins.filter((e=>"data-forwarding"===e.type&&e.hasConfiguration))}updatePlugin(e,t){const s=this.state.plugins.map((s=>({...s,enabled:s.id===e.id?t:s.enabled})));this.setState({plugins:s})}renderBody(){const{params:e,organization:t,project:s}=this.props,n=this.forwardingPlugins,l=t.access.includes("project:write"),p=n.length>0?(0,b.tZ)(g.Z,{organization:t,project:s,pluginList:n,onEnablePlugin:this.onEnablePlugin,onDisablePlugin:this.onDisablePlugin}):(0,b.tZ)(u.s_,{children:(0,b.tZ)(d.Z,{title:(0,h.t)("There are no integrations available for data forwarding")})});return(0,b.tZ)("div",{"data-test-id":"data-forwarding-settings",children:(0,b.tZ)(r.Z,{features:["projects:data-forwarding"],hookName:"feature-disabled:data-forwarding",children:t=>{let{hasFeature:s,features:n}=t;return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(Z.Z,{title:(0,h.t)("Data Forwarding")}),(0,b.tZ)(w.Z,{children:(0,h._N)("Data Forwarding allows processed events to be sent to your\n                favorite business intelligence tools. The exact payload and\n                types of data depend on the integration you're using. Learn\n                more about this functionality in our [link:documentation].",{link:(0,b.tZ)(c.Z,{href:"https://docs.sentry.io/product/data-management-settings/data-forwarding/"})})}),(0,b.tZ)(f.Z,{}),(0,b.tZ)(o.Z,{showIcon:!0,children:(0,h._N)("Sentry forwards [em:all applicable error events] to the provider, in\n                some cases this may be a significant volume of data.",{em:(0,b.tZ)("strong",{})})}),!s&&(0,b.tZ)(i.Z,{alert:!0,featureName:(0,h.t)("Data Forwarding"),features:n}),(0,b.tZ)(y,{params:e}),l&&s&&p]})}})})}}const v=(0,x.Z)(j)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectDataForwarding_tsx.2d2c5b2d2b5e7664b0f65bedb4b5af62.js.map