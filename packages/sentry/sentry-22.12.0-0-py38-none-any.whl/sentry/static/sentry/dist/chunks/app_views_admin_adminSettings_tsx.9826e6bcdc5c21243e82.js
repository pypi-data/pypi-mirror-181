"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_admin_adminSettings_tsx"],{"./app/views/admin/adminSettings.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var o=a("./app/components/acl/feature.tsx"),s=a("./app/components/forms/index.tsx"),l=a("./app/components/panels/index.tsx"),r=a("./app/locale.tsx"),n=a("./app/views/asyncView.tsx"),i=a("./app/views/admin/options.tsx"),c=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=["system.url-prefix","system.admin-email","system.support-email","system.security-email","system.rate-limit","auth.allow-registration","auth.ip-rate-limit","auth.user-rate-limit","api.rate-limit.org-create","beacon.anonymous","performance.issues.all.problem-detection","performance.issues.all.problem-creation","performance.issues.all.early-adopter-rollout","performance.issues.all.general-availability-rollout","performance.issues.all.post-process-group-early-adopter-rollout","performance.issues.all.post-process-group-ga-rollout","performance.issues.n_plus_one_db.problem-creation","performance.issues.n_plus_one_db_ext.problem-creation","performance.issues.n_plus_one_db.count_threshold","performance.issues.n_plus_one_db.duration_threshold"];class m extends n.Z{get endpoint(){return"/internal/options/"}getEndpoints(){return[["data",this.endpoint]]}renderBody(){const{data:e}=this.state,t={},a={};for(const o of u){const s=e[o]??{field:{},value:void 0};if(void 0===s.value||""===s.value){const e=(0,i.Rl)(o);t[o]=e.defaultValue?e.defaultValue():""}else t[o]=s.value;a[o]=(0,i.E)(o,s.field)}return(0,c.BX)("div",{children:[(0,c.tZ)("h3",{children:(0,r.t)("Settings")}),(0,c.BX)(s.l0,{apiMethod:"PUT",apiEndpoint:this.endpoint,initialData:t,saveOnBlur:!0,children:[(0,c.BX)(l.s_,{children:[(0,c.tZ)(l.V9,{children:"General"}),a["system.url-prefix"],a["system.admin-email"],a["system.support-email"],a["system.security-email"],a["system.rate-limit"]]}),(0,c.BX)(l.s_,{children:[(0,c.tZ)(l.V9,{children:"Security & Abuse"}),a["auth.allow-registration"],a["auth.ip-rate-limit"],a["auth.user-rate-limit"],a["api.rate-limit.org-create"]]}),(0,c.BX)(l.s_,{children:[(0,c.tZ)(l.V9,{children:"Beacon"}),a["beacon.anonymous"]]}),(0,c.BX)(o.Z,{features:["organizations:performance-issues-dev"],children:[(0,c.BX)(l.s_,{children:[(0,c.tZ)(l.V9,{children:"Performance Issues - All"}),a["performance.issues.all.problem-detection"],a["performance.issues.all.problem-creation"],a["performance.issues.all.early-adopter-rollout"],a["performance.issues.all.general-availability-rollout"],a["performance.issues.all.post-process-group-early-adopter-rollout"],a["performance.issues.all.post-process-group-ga-rollout"]]}),(0,c.BX)(l.s_,{children:[(0,c.tZ)(l.V9,{children:"Performance Issues - Detectors"}),a["performance.issues.n_plus_one_db.problem-creation"],a["performance.issues.n_plus_one_db_ext.problem-creation"],a["performance.issues.n_plus_one_db.count_threshold"],a["performance.issues.n_plus_one_db.duration_threshold"]]})]})]})]})}}},"./app/views/admin/options.tsx":(e,t,a)=>{a.d(t,{E:()=>_,F3:()=>b,R3:()=>k,Rl:()=>y});var o=a("../node_modules/lodash/keyBy.js"),s=a.n(o),l=a("./app/components/forms/index.tsx"),r=a("./app/locale.tsx"),n=a("./app/stores/configStore.tsx"),i=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),c=a("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const u=[{key:"system"},{key:"mail",heading:(0,r.t)("Outbound email")},{key:"auth",heading:(0,r.t)("Authentication")},{key:"beacon",heading:(0,r.t)("Beacon")}],m={defaultValue:()=>"0",component:l.Ki,min:0,max:1,step:1e-4},p=[{key:"performance.issues.all.problem-detection",label:(0,r.t)("Performance problem detection rate"),help:(0,r.t)("Controls the rate at which performance problems are detected across the entire system. A value of 0 will disable performance issue detection, and a value of 1.0 turns on detection for every ingested transaction."),...m},{key:"performance.issues.all.problem-creation",label:(0,r.t)("Performance problem creation rate"),help:(0,r.t)("Controls the rate at which performance issues are created across the entire system. A value of 0 will disable performance issue detection, and a value of 1.0 turns on creation for every detected performance problem."),...m},{key:"performance.issues.all.early-adopter-rollout",label:(0,r.t)("Performance issues creation EA Rollout"),help:(0,r.t)("Controls the rate at which performance issues are created for EA organizations."),...m},{key:"performance.issues.all.general-availability-rollout",label:(0,r.t)("Performance issues creation GA Rollout"),help:(0,r.t)("Controls the rate at which performance issues are created for all organizations."),...m},{key:"performance.issues.all.post-process-group-early-adopter-rollout",label:(0,r.t)("Performance issues post process group EA Rollout"),help:(0,r.t)("Controls the rate at which performance issues sent through post process group for EA organizations."),...m},{key:"performance.issues.all.post-process-group-ga-rollout",label:(0,r.t)("Performance issues post process group GA Rollout"),help:(0,r.t)("Controls the rate at which performance issues sent through post process group for all organizations."),...m},{key:"performance.issues.n_plus_one.problem-detection",label:(0,r.t)("N+1 detection rate"),help:(0,r.t)("Controls the rate at which performance problems are detected specifically for N+1 detection. Value of 0 will disable detection, a value of 1.0 fully enables it."),...m},{key:"performance.issues.n_plus_one.problem-creation",label:(0,r.t)("N+1 creation rate"),help:(0,r.t)("Controls the rate at which performance issues are created specifically for N+1 detection. Value of 0 will disable creation, a value of 1.0 fully enables it."),...m},{key:"performance.issues.n_plus_one_db.problem-detection",label:(0,r.t)("N+1 (DB) detection rate"),help:(0,r.t)("Controls the rate at which performance problems are detected specifically for N+1 detection. Value of 0 will disable detection, a value of 1.0 fully enables it."),...m},{key:"performance.issues.n_plus_one_db.problem-creation",label:(0,r.t)("N+1 (DB) creation rate"),help:(0,r.t)("Controls the rate at which performance issues are created specifically for N+1 detection. Value of 0 will disable creation, a value of 1.0 fully enables it."),...m},{key:"performance.issues.n_plus_one_db_ext.problem-creation",label:(0,r.t)("N+1 (DB) (Extended) creation rate"),help:(0,r.t)("Controls the rate at which performance issues are created specifically for N+1 detection (extended). Value of 0 will disable creation, a value of 1.0 fully enables it."),...m},{key:"performance.issues.n_plus_one_db.count_threshold",label:(0,r.t)("N+1 (DB) count threshold"),help:(0,r.t)("Detector threshold. Controls the number of spans required to trigger performance issues. This affects all organizations system-wide."),defaultValue:()=>"5",component:l.Ki,min:0,max:Number.MAX_SAFE_INTEGER,step:1},{key:"performance.issues.n_plus_one_db.duration_threshold",label:(0,r.t)("N+1 (DB) duration threshold"),help:(0,r.t)("Detector threshold. Controls the threshold for the cumulative duration of involved spans required to trigger performance issues. This affects all organizations system-wide."),defaultValue:()=>"100",component:l.Ki,min:0,max:Number.MAX_SAFE_INTEGER,step:1}],d=[{key:"system.url-prefix",label:(0,r.t)("Root URL"),placeholder:"https://sentry.example.com",help:(0,r.t)("The root web address which is used to communicate with the Sentry backend."),defaultValue:()=>`${document.location.protocol}//${document.location.host}`},{key:"system.admin-email",label:(0,r.t)("Admin Email"),placeholder:"admin@example.com",help:(0,r.t)("The technical contact for this Sentry installation."),component:l.s8,defaultValue:()=>n.Z.get("user").email},{key:"system.support-email",label:(0,r.t)("Support Email"),placeholder:"support@example.com",help:(0,r.t)("The support contact for this Sentry installation."),component:l.s8,defaultValue:()=>n.Z.get("user").email},{key:"system.security-email",label:(0,r.t)("Security Email"),placeholder:"security@example.com",help:(0,r.t)("The security contact for this Sentry installation."),component:l.s8,defaultValue:()=>n.Z.get("user").email},{key:"system.rate-limit",label:(0,r.t)("Rate Limit"),placeholder:"e.g. 500",help:(0,r.t)("The maximum number of events the system should accept per minute. A value of 0 will disable the default rate limit.")},{key:"auth.allow-registration",label:(0,r.t)("Allow Registration"),help:(0,r.t)("Allow anyone to create an account and access this Sentry installation."),component:l.Ig,defaultValue:()=>!1},{key:"auth.ip-rate-limit",label:(0,r.t)("IP Rate Limit"),placeholder:"e.g. 10",help:(0,r.t)("The maximum number of times an authentication attempt may be made by a single IP address in a 60 second window.")},{key:"auth.user-rate-limit",label:(0,r.t)("User Rate Limit"),placeholder:"e.g. 10",help:(0,r.t)("The maximum number of times an authentication attempt may be made against a single account in a 60 second window.")},{key:"api.rate-limit.org-create",label:"Organization Creation Rate Limit",placeholder:"e.g. 5",help:(0,r.t)("The maximum number of organizations which may be created by a single account in a one hour window.")},{key:"beacon.anonymous",label:"Usage Statistics",component:l.gu,choices:[["false","Send my contact information along with usage statistics"],["true","Please keep my usage information anonymous"]],help:(0,r._N)("If enabled, any stats reported to sentry.io will exclude identifying information (such as your administrative email address). By anonymizing your installation the Sentry team will be unable to contact you about security updates. For more information on what data is sent to Sentry, see the [link:documentation]. Note: This is separate from error-reporting for the self-hosted installer. The data reported to the beacon only includes usage stats from your running self-hosted instance.",{link:(0,i.tZ)("a",{href:"https://develop.sentry.dev/self-hosted/"})})},{key:"mail.from",label:(0,r.t)("Email From"),component:l.s8,defaultValue:()=>`sentry@${document.location.hostname}`,help:(0,r.t)("Email address to be used in From for all outbound email.")},{key:"mail.host",label:(0,r.t)("SMTP Host"),placeholder:"localhost",defaultValue:()=>"localhost"},{key:"mail.port",label:(0,r.t)("SMTP Port"),placeholder:"25",defaultValue:()=>"25"},{key:"mail.username",label:(0,r.t)("SMTP Username"),defaultValue:()=>""},{key:"mail.password",label:(0,r.t)("SMTP Password"),defaultValue:()=>""},{key:"mail.use-tls",label:(0,r.t)("Use STARTTLS? (exclusive with SSL)"),component:l.Ig,defaultValue:()=>!1},{key:"mail.use-ssl",label:(0,r.t)("Use SSL? (exclusive with STARTTLS)"),component:l.Ig,defaultValue:()=>!1},...p],h=s()(d,(e=>e.key)),f={diskPriority:"This setting is defined in config.yml and may not be changed via the web UI.",smtpDisabled:"SMTP mail has been disabled, so this option is unavailable"};function y(e){return h[e]}function b(e){const t=y(e);return t.defaultValue?t.defaultValue():void 0}function g(e){return d.filter((t=>t.key.split(".")[0]===e.key))}function _(e,t){const a={...y(e),...t},o=a.component||l.nv;return(0,c.az)(o,{...a,name:e,key:e,defaultValue:b(e),required:a.required&&!a.allowEmpty,disabledReason:a.disabledReason&&f[a.disabledReason]})}function w(e,t){return(0,i.BX)("fieldset",{children:[e.heading&&(0,i.tZ)("legend",{children:e.heading}),t]},e.key)}function k(e){const t=[];for(const a of u){const o=[];for(const t of g(a))e[t.key]&&o.push(e[t.key]);o.length&&t.push(w(a,o))}return t}_.displayName="getOptionField",w.displayName="getSectionFieldSet"},"./app/views/asyncView.tsx":(e,t,a)=>{a.d(t,{Z:()=>r});var o=a("./app/components/asyncComponent.tsx"),s=a("./app/components/sentryDocumentTitle.tsx"),l=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends o.Z{getTitle(){return""}render(){return(0,l.tZ)(s.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"}}]);
//# sourceMappingURL=../sourcemaps/app_views_admin_adminSettings_tsx.4082e55cdaf5d6f271616598e0ef5e56.js.map