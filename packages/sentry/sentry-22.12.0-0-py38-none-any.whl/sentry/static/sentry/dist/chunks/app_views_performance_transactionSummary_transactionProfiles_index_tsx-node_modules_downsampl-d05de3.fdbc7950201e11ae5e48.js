"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_transactionSummary_transactionProfiles_index_tsx-node_modules_downsampl-d05de3"],{"./app/views/performance/transactionSummary/transactionProfiles/index.tsx":(r,t,e)=>{e.r(t),e.d(t,{default:()=>C});var n=e("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=e("../node_modules/react/index.js"),o=e("../node_modules/react-router/es/index.js"),i=e("./app/components/datePageFilter.tsx"),s=e("./app/components/environmentPageFilter.tsx"),l=e("./app/components/layouts/thirds.tsx"),u=e("./app/components/organizations/pageFilterBar.tsx"),c=e("./app/components/profiling/profileEventsTable.tsx"),f=e("./app/components/smartSearchBar/index.tsx"),h=e("./app/constants/index.tsx"),p=e("./app/locale.tsx"),g=e("./app/styles/space.tsx"),v=e("./app/utils.tsx"),d=e("./app/utils/discover/eventView.tsx"),m=e("./app/utils/profiling/hooks/useProfileEvents.tsx"),y=e("./app/utils/profiling/hooks/useProfileFilters.tsx"),w=e("./app/utils/queryString.tsx"),x=e("./app/utils/tokenizeSearch.tsx"),b=e("./app/utils/useLocation.tsx"),M=e("./app/utils/useOrganization.tsx"),P=e("./app/utils/usePageFilters.tsx"),A=e("./app/utils/useProjects.tsx"),S=e("./app/views/performance/transactionSummary/tabs.tsx"),q=e("./app/views/profiling/profileSummary/content.tsx"),Z=e("./app/views/performance/transactionSummary/pageLayout.tsx"),j=e("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function k(){const r=(0,b.T)(),t=(0,M.Z)(),e=(0,A.Z)(),{selection:n}=(0,P.Z)(),g=(0,a.useMemo)((()=>(0,w.ro)(r.query.cursor)),[r.query.cursor]),k=e.projects.find((t=>t.id===r.query.project)),C=(0,q.H)(k?.platform),I=(0,m.kq)((0,w.ro)(r.query.sort),C,{key:"timestamp",order:"desc"}),[T,E]=(0,a.useState)((()=>{const t=new x.MY(""),e=(0,w.ro)(r.query.transaction);return(0,v.ri)(e)&&t.setFilterValues("transaction",[e]),t})),X=(0,m.GP)({cursor:g,fields:C,query:T.formatString(),sort:I,limit:30,referrer:"api.profiling.transactions-profiles-table"}),D=(0,a.useCallback)((t=>{E(new x.MY(t)),o.browserHistory.push({...r,query:{...r.query,cursor:void 0,query:t||void 0}})}),[r]),F=(0,y.J)({query:"",selection:n}),L=(0,w.ro)(r.query.transaction);return(0,j.tZ)(Z.ZP,{location:r,organization:t,projects:e.projects,tab:S.Z.Profiling,generateEventView:()=>d.ZP.fromLocation(r),getDocumentTitle:()=>(0,p.t)("Profile: %s",L),childComponent:()=>(0,j.BX)(l.or,{fullWidth:!0,children:[(0,j.BX)(_,{children:[(0,j.BX)(u.Z,{condensed:!0,children:[(0,j.tZ)(s.Z,{}),(0,j.tZ)(i.Z,{alignDropdown:"left"})]}),(0,j.tZ)(f.Z,{organization:t,hasRecentSearches:!0,searchSource:"profile_landing",supportedTags:F,query:T.formatString(),onSearch:D,maxQueryLength:h.dI})]}),(0,j.tZ)(c.Q,{columns:C,data:"success"===X.status?X.data[0]:null,error:"error"===X.status?(0,p.t)("Unable to load profiles"):null,isLoading:"loading"===X.status,sort:I})]})})}k.displayName="Profiles";const _=(0,n.Z)("div",{target:"ebc8v550"})("margin-bottom:",(0,g.Z)(2),";gap:",(0,g.Z)(2),";display:grid;grid-template-columns:min-content 1fr;"),C=k},"../node_modules/downsample/methods/ASAP.js":(r,t)=>{function e(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var n={"PointValueExtractor<unknown>":r=>"function"==typeof r,XYDataPoint:r=>null!=r&&n.X(r.x)&&"number"==typeof r.y,X:r=>"number"==typeof r||r instanceof Date},a=r=>{for(var t=0,e=0;e<r.length;e+=1)t+=r[e];return t/r.length},o=(r,t)=>{for(var e=r.length,n=new Array(e),a=0;a<e;a++)n[a]=t(r[a],a);return n},i=r=>n["PointValueExtractor<unknown>"](r)?r:t=>t[r],s=(r,t)=>({x:r,y:t}),l=()=>({x:r=>{var t=n.XYDataPoint(r)?r.x:r[0];return t instanceof Date?t.getTime():t},y:r=>"y"in r?r.y:r[1],toPoint:s}),u=(r,t)=>new r.constructor(t),c=function(r,t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],a=0,o=0;o<t;o++)a+=r[o];for(var i=t;i<=r.length;i++)(i-t)%e==0&&n.push(a/t),a+=r[i]-r[i-t];return n},f=r=>{var t=i(r.x),e=i(r.y),n=r.toPoint;return function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===r.length)return r;for(var s,l=o(r,e),c=o(r,t),f=u(r,0),h=0,p=0;p<a;p++)h+=l[p];for(var g=a;g<=l.length;g++)(g-a)%i==0&&(s=n((c[g-a]+c[g-1])/2,h/a,g-a),f[f.length]=s),h+=l[g]-l[g-a];return f}};function h(r,t){if(r.length!=t.length)throw"Mismatched lengths";var e=r.length;0!=e&&(0==(e&e-1)?function(r,t){if(r.length!=t.length)throw"Mismatched lengths";var e=r.length;if(1!=e){for(var n=-1,a=0;a<32;a++)1<<a==e&&(n=a);if(-1==n)throw"Length is not a power of 2";for(var o=new Array(e/2),i=new Array(e/2),s=0;s<e/2;s++)o[s]=Math.cos(2*Math.PI*s/e),i[s]=Math.sin(2*Math.PI*s/e);for(var l=0;l<e;l++){var u=g(l,n);if(u>l){var c=r[l];r[l]=r[u],r[u]=c,c=t[l],t[l]=t[u],t[u]=c}}for(var f=2;f<=e;f*=2)for(var h=f/2,p=e/f,v=0;v<e;v+=f)for(var d=v,m=0;d<v+h;d++,m+=p){var y=r[d+h]*o[m]+t[d+h]*i[m],w=-r[d+h]*i[m]+t[d+h]*o[m];r[d+h]=r[d]-y,t[d+h]=t[d]-w,r[d]+=y,t[d]+=w}}}(r,t):function(r,t){if(r.length!=t.length)throw"Mismatched lengths";for(var e=r.length,n=1;n<2*e+1;)n*=2;for(var a=new Array(e),o=new Array(e),i=0;i<e;i++){var s=i*i%(2*e);a[i]=Math.cos(Math.PI*s/e),o[i]=Math.sin(Math.PI*s/e)}for(var l=new Array(n),u=new Array(n),c=0;c<e;c++)l[c]=r[c]*a[c]+t[c]*o[c],u[c]=-r[c]*o[c]+t[c]*a[c];for(var f=e;f<n;f++)l[f]=u[f]=0;var g=new Array(n),v=new Array(n);g[0]=a[0],v[0]=o[0];for(var d=1;d<e;d++)g[d]=g[n-d]=a[d],v[d]=v[n-d]=o[d];for(var m=e;m<=n-e;m++)g[m]=v[m]=0;var y=new Array(n),w=new Array(n);!function(r,t,e,n,a,o){if(r.length!=t.length||r.length!=e.length||e.length!=n.length||r.length!=a.length||a.length!=o.length)throw"Mismatched lengths";var i=r.length;r=r.slice(),t=t.slice(),e=e.slice(),n=n.slice(),h(r,t),h(e,n);for(var s=0;s<i;s++){var l=r[s]*e[s]-t[s]*n[s];t[s]=t[s]*e[s]+r[s]*n[s],r[s]=l}p(r,t);for(var u=0;u<i;u++)a[u]=r[u]/i,o[u]=t[u]/i}(l,u,g,v,y,w);for(var x=0;x<e;x++)r[x]=y[x]*a[x]+w[x]*o[x],t[x]=-y[x]*o[x]+w[x]*a[x]}(r,t))}function p(r,t){h(t,r)}function g(r,t){for(var e=0,n=0;n<t;n++)e=e<<1|1&r,r>>>=1;return e}f(l());var v,d,m,y=r=>(r=>{for(var t=a(r),e=0,n=0;n<r.length;n+=1)e+=(r[n]-t)*(r[n]-t);return Math.sqrt(e/r.length)})((r=>{var t=r.length-1;if(t<1)return[];for(var e=new Array(t),n=0;n<t;n++)e[n]=r[n+1]-r[n];return e})(r)),w=r=>{for(var t,e,n=r.length,o=a(r),i=0,s=0,l=0;l<n;l++)i+=(e=(t=r[l]-o)*t)*e,s+=e;return n*i/(s*s)},x=(v=l(),d=i(v.y),m=f(v),function r(t,n){if(0===t.length)return t;if(n<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(n));if(t.length>=2*n){var i=Math.trunc(t.length/n);return r(m(t,i,i),n)}for(var s=o(t,d),l=((r,t)=>{for(var n=r.length,o=a(r),i=Math.pow(2,Math.trunc(Math.log2(n))+1),s=new Array(i).fill(0),l=new Array(i).fill(0),u=0;u<n;u+=1)s[u]=r[u]-o;h(s,l);for(var c=0;c<s.length;c+=1)s[c]=Math.pow(s[c],2)+Math.pow(l[c],2),l[c]=0;p(s,l);for(var f=[],g=1;g<t;g++)f[g]=s[g]/s[0];var v=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,e=r.length;if(e<=1)return[[],0];var n=0,a=[];if(r.length>1)for(var o=r[1]>r[0],i=1,s=2;s<r.length;s+=1)!o&&r[s]>r[s-1]?(i=s,o=!o):o&&r[s]>r[i]?i=s:o&&r[s]<r[s-1]&&(i>1&&r[i]>t&&(a.push(i),r[i]>n&&(n=r[i])),o=!o);if(a.length<=1)for(var l=2;l<e;l+=1)a.push(l);return[a,n]}(f),d=function(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,a=!1,o=void 0;try{for(var i,s=r[Symbol.iterator]();!(n=(i=s.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){a=!0,o=r}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return e}}(r,t)||function(r,t){if(r){if("string"==typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v,2);return{correlations:f,peaks:d[0],maxCorrelation:d[1]}})(s,Math.round(s.length/10)),u=l.correlations,f=l.peaks,g=l.maxCorrelation,v=w(s),x=y(s),b=1,M=1,P=-1,A=s.length/10,S=f.length-1;S>=0;S-=1){var q=f[S];if(q<M||1===q)break;if(!(Math.sqrt(1-u[q])*b>Math.sqrt(1-u[b])*q)){var Z=c(s,q,1),j=w(Z),k=y(Z);j>=v&&(k<x&&(x=k,b=q),M=Math.round(Math.max(q*Math.sqrt((g-1)/(u[q]-1)),M)),P<0&&(P=S))}}return P>0&&(P<f.length-2&&(A=f[P+1]),M=Math.max(M,f[P]+1)),b=((r,t,e,n,a,o)=>{for(;r<=t;){var i=Math.round((r+t)/2),s=c(e,i,1);if(w(s)>=a){var l=y(s);l<n&&(o=i,n=l),r=i+1}else t=i-1}return o})(M,A,s,x,v,b),m(t,b,1)});t.Cl=x}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_transactionProfiles_index_tsx-node_modules_downsampl-d05de3.11db2909a7517fc1db925879fc80bc22.js.map