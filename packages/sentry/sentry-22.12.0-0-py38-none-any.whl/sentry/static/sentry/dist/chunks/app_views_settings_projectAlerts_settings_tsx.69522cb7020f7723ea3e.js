"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectAlerts_settings_tsx"],{"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("./app/components/alert.tsx"),a=s("./app/locale.tsx"),r=s("./app/utils/isRenderFunc.tsx"),l=s("./app/utils/withConfig.tsx"),p=s("./app/utils/withOrganization.tsx");const c=(0,s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js").tZ)(o.Z,{type:"error",showIcon:!0,children:(0,a.t)("You do not have sufficient permissions to access this.")});class d extends i.Component{render(){const{organization:e,config:t,access:s,requireAll:n,isSuperuser:i,renderNoAccessMessage:o,children:a}=this.props,{access:l}=e||{access:[]},p=!s||s[n?"every":"some"]((e=>l.includes(e))),d=!(!t.user||!t.user.isSuperuser),u={hasAccess:p,hasSuperuser:d},g=p&&(!i||d);return g||"function"!=typeof o?!g&&o?c:(0,r.l)(a)?a(u):g?a:null:o(u)}}d.displayName="Access",(0,n.Z)(d,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const u=(0,p.Z)((0,l.Z)(d))},"./app/components/pluginList.tsx":(e,t,s)=>{s.d(t,{Z:()=>j});var n=s("./app/actionCreators/plugins.tsx"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/panels/index.tsx"),a=s("./app/components/textOverflow.tsx"),r=s("./app/locale.tsx"),l=s("./app/plugins/components/pluginIcon.tsx"),p=s("./app/styles/space.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=e=>{let{plugins:t,onEnablePlugin:s}=e;return 0===t.length?null:(0,c.BX)(o.s_,{children:[(0,c.tZ)(o.V9,{children:(0,r.t)("Inactive Integrations")}),(0,c.tZ)(o.N,{children:(0,c.tZ)(u,{children:t.map((e=>(0,c.tZ)(g,{onClick:()=>s(e),className:`ref-plugin-enable-${e.id}`,children:(0,c.BX)(m,{children:[(0,c.tZ)(h,{pluginId:e.id}),(0,c.tZ)(a.Z,{children:e.shortName||e.name})]})},e.id)))})})]})};d.displayName="InactivePlugins";const u=(0,i.Z)("div",{target:"e4awzvo3"})("display:flex;padding:",(0,p.Z)(1),";flex:1;flex-wrap:wrap;"),g=(0,i.Z)("button",{target:"e4awzvo2"})("margin:",(0,p.Z)(1),";width:175px;text-align:center;font-size:",(e=>e.theme.fontSizeSmall),";color:#889ab0;letter-spacing:0.1px;font-weight:600;text-transform:uppercase;border:1px solid #eee;background:inherit;border-radius:",(e=>e.theme.borderRadius),";padding:10px;&:hover{border-color:#ccc;}"),m=(0,i.Z)("div",{target:"e4awzvo1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),h=(0,i.Z)(l.ZP,{target:"e4awzvo0"})("margin-right:",(0,p.Z)(1),";"),x=d;var b=s("./app/components/pluginConfig.tsx");const f=e=>{let{organization:t,project:s,pluginList:i,onDisablePlugin:a=(()=>{}),onEnablePlugin:l=(()=>{})}=e;const p=e=>{(0,n.rR)({projectId:s.slug,orgId:t.slug,pluginId:e.slug}),a(e)};return i.length?(0,c.BX)("div",{children:[i.filter((e=>e.enabled)).map((e=>(0,c.tZ)(b.Z,{data:e,organization:t,project:s,onDisablePlugin:p},e.id))),(0,c.tZ)(x,{plugins:i.filter((e=>!e.enabled&&!e.isHidden)),onEnablePlugin:e=>{(0,n.Cg)({projectId:s.slug,orgId:t.slug,pluginId:e.slug}),l(e)}})]}):(0,c.tZ)(o.s_,{children:(0,c.tZ)(o.Lv,{children:(0,r.t)("Oops! Looks like there aren't any available integrations installed.")})})};f.displayName="PluginList";const j=f},"./app/data/forms/projectAlerts.tsx":(e,t,s)=>{s.r(t),s.d(t,{fields:()=>a,route:()=>i});var n=s("./app/locale.tsx");const i="/settings/:orgId/projects/:projectId/alerts/",o=e=>(e=Number(e)/60,(0,n.tn)("%s minute","%s minutes",e)),a={subjectTemplate:{name:"subjectTemplate",type:"string",label:(0,n.t)("Subject Template"),placeholder:"e.g. $shortID - $title",help:(0,n.t)("The email subject to use (excluding the prefix) for individual alerts. Usable variables include: $title, $shortID, $projectID, $orgID, and ${tag:key}, such as ${tag:environment} or ${tag:release}.")},digestsMinDelay:{name:"digestsMinDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,n.t)("Minimum delivery interval"),help:(0,n.t)("Notifications will be delivered at most this often."),formatLabel:o},digestsMaxDelay:{name:"digestsMaxDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,n.t)("Maximum delivery interval"),help:(0,n.t)("Notifications will be delivered at least this often."),formatLabel:o}}},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;const i=`${e} - ${t}`,o=n?`${i} - ${n}`:i;return s?`${o} - Sentry`:o}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("./app/components/asyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends n.Z{getTitle(){return""}render(){return(0,o.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("./app/components/acl/access.tsx"),i=s("./app/components/alert.tsx"),o=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=e=>{let{access:t=["project:write"],...s}=e;return(0,a.tZ)(n.Z,{access:t,children:e=>{let{hasAccess:t}=e;return!t&&(0,a.tZ)(i.Z,{"data-test-id":"project-permission-alert",type:"warning",...s,children:(0,o.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})}})};r.displayName="PermissionAlert";const l=r},"./app/views/settings/projectAlerts/settings.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),o=s("./app/components/alertLink.tsx"),a=s("./app/components/button.tsx"),r=s("./app/components/forms/form.tsx"),l=s("./app/components/forms/jsonForm.tsx"),p=s("./app/components/panels/index.tsx"),c=s("./app/components/pluginList.tsx"),d=s("./app/data/forms/projectAlerts.tsx"),u=s("./app/icons/index.tsx"),g=s("./app/locale.tsx"),m=s("./app/utils/routeTitle.tsx"),h=s("./app/views/asyncView.tsx"),x=s("./app/views/settings/components/settingsPageHeader.tsx"),b=s("./app/views/settings/project/permissionAlert.tsx"),f=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class j extends h.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleEnablePlugin",(e=>{this.setState((t=>({pluginList:(t.pluginList??[]).map((t=>t.id!==e.id?t:{...e,enabled:!0}))})))})),(0,n.Z)(this,"handleDisablePlugin",(e=>{this.setState((t=>({pluginList:(t.pluginList??[]).map((t=>t.id!==e.id?t:{...e,enabled:!1}))})))}))}getDefaultState(){return{...super.getDefaultState(),project:null,pluginList:[]}}getProjectEndpoint(e){let{orgId:t,projectId:s}=e;return`/projects/${t}/${s}/`}getEndpoints(){const{params:e}=this.props,{orgId:t,projectId:s}=e;return[["project",this.getProjectEndpoint(e)],["pluginList",`/projects/${t}/${s}/plugins/`]]}getTitle(){const{projectId:e}=this.props.params;return(0,m.Z)((0,g.t)("Alerts Settings"),e,!1)}renderBody(){const{canEditRule:e,organization:t,params:s}=this.props,{orgId:n}=s,{project:m,pluginList:h}=this.state;if(!m)return null;const j=this.getProjectEndpoint(s);return(0,f.BX)(i.Fragment,{children:[(0,f.tZ)(x.Z,{title:(0,g.t)("Alerts Settings"),action:(0,f.tZ)(a.ZP,{to:{pathname:`/organizations/${n}/alerts/rules/`,query:{project:m.id}},size:"sm",children:(0,g.t)("View Alert Rules")})}),(0,f.tZ)(b.Z,{}),(0,f.tZ)(o.Z,{to:"/settings/account/notifications/",icon:(0,f.tZ)(u.h,{}),children:(0,g.t)("Looking to fine-tune your personal notification preferences? Visit your Account Settings")}),(0,f.BX)(r.Z,{saveOnBlur:!0,allowUndo:!0,initialData:{subjectTemplate:m.subjectTemplate,digestsMinDelay:m.digestsMinDelay,digestsMaxDelay:m.digestsMaxDelay},apiMethod:"PUT",apiEndpoint:j,children:[(0,f.tZ)(l.Z,{disabled:!e,title:(0,g.t)("Email Settings"),fields:[d.fields.subjectTemplate]}),(0,f.tZ)(l.Z,{title:(0,g.t)("Digests"),disabled:!e,fields:[d.fields.digestsMinDelay,d.fields.digestsMaxDelay],renderHeader:()=>(0,f.tZ)(p.aU,{type:"info",children:(0,g.t)("Sentry will automatically digest alerts sent by some services to avoid flooding your inbox with individual issue notifications. To control how frequently notifications are delivered, use the sliders below.")})})]}),e&&(0,f.tZ)(c.Z,{organization:t,project:m,pluginList:(h??[]).filter((e=>"notification"===e.type&&e.hasConfiguration)),onEnablePlugin:this.handleEnablePlugin,onDisablePlugin:this.handleDisablePlugin})]})}}const Z=j}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectAlerts_settings_tsx.7884ee9df40e485f80d391efc0651da5.js.map