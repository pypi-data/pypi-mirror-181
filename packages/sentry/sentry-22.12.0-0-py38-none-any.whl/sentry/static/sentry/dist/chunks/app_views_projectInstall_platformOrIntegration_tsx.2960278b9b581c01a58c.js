"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_projectInstall_platformOrIntegration_tsx"],{"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,r)=>{r.r(e),r.d(e,{default:()=>ht});var i=r("../node_modules/query-string/index.js"),n=r("./app/utils/integrationUtil.tsx"),o=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/prism-sentry/index.css"),r("../node_modules/react/index.js")),l=r("../node_modules/react-router/es/index.js"),d=r("./app/actionCreators/projects.tsx"),p=r("./app/components/acl/feature.tsx"),c=r("./app/components/alert.tsx"),m=r("./app/components/button.tsx"),g=r("./app/components/buttonBar.tsx"),u=r("./app/components/errors/notFound.tsx"),h=r("./app/components/loadingError.tsx"),Z=r("./app/components/loadingIndicator.tsx"),f=r("./app/components/sentryDocumentTitle.tsx"),y=r("./app/data/platformCategories.tsx"),w=r("./app/data/platforms.tsx"),x=r("./app/locale.tsx"),b=r("./app/styles/organization.tsx"),j=r("./app/styles/space.tsx"),k=r("./app/utils/projects.tsx"),v=r("./app/utils/withApi.tsx"),I=r("./app/utils/withOrganization.tsx"),z=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class _ extends s.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{loading:!0,error:!1,html:""}),(0,o.Z)(this,"fetchData",(async()=>{const{api:t,params:e}=this.props,{orgId:r,projectId:i,platform:n}=e;this.setState({loading:!0});try{const{html:e}=await(0,d.iC)(t,r,i,n);this.setState({html:e})}catch(t){this.setState({error:t})}this.setState({loading:!1})}))}componentDidMount(){this.fetchData(),window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get isGettingStarted(){return window.location.href.indexOf("getting-started")>0}redirectToNeutralDocs(){const{orgId:t,projectId:e}=this.props.params,r=`/organizations/${t}/projects/${e}/getting-started/`;l.browserHistory.push(r)}render(){const{params:t}=this.props,{orgId:e,projectId:r}=t,i=w.Z.find((e=>e.id===t.platform));if(!i)return(0,z.tZ)(u.Z,{});const n=`/organizations/${e}/issues/`,o=`/organizations/${e}/performance/`,a=`/organizations/${e}/projects/${r}/getting-started/`,l=i.link??void 0;return(0,z.BX)(s.Fragment,{children:[(0,z.BX)(B,{children:[(0,z.tZ)("h2",{children:(0,x.t)("Configure %(platform)s",{platform:i.name})}),(0,z.BX)(g.ZP,{gap:1,children:[(0,z.tZ)(m.ZP,{size:"sm",to:a,children:(0,x.t)("< Back")}),(0,z.tZ)(m.ZP,{size:"sm",href:l,external:!0,children:(0,x.t)("Full Documentation")})]})]}),(0,z.BX)("div",{children:[(0,z.tZ)(c.Z,{type:"info",showIcon:!0,children:(0,x._N)("\n             This is a quick getting started guide. For in-depth instructions\n             on integrating Sentry with [platform], view\n             [docLink:our complete documentation].",{platform:i.name,docLink:(0,z.tZ)("a",{href:l})})}),this.state.loading?(0,z.tZ)(Z.Z,{}):this.state.error?(0,z.tZ)(h.Z,{onRetry:this.fetchData}):(0,z.BX)(s.Fragment,{children:[(0,z.tZ)(f.Z,{title:`${(0,x.t)("Configure")} ${i.name}`,projectSlug:r}),(0,z.tZ)(P,{dangerouslySetInnerHTML:{__html:this.state.html}})]}),this.isGettingStarted&&(0,z.tZ)(k.Z,{orgId:e,slugs:[r],passthroughPlaceholderProject:!1,children:t=>{let{projects:e,initiallyLoaded:r,fetching:a,fetchError:l}=t;const d=!r&&a,c=d||l||!e.length?{}:{project:e[0].id},g=y.Sv.includes(i.id);return(0,z.BX)(s.Fragment,{children:[g&&(0,z.tZ)(p.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project",children:t=>{let{hasFeature:e}=t;return e?null:(0,z.tZ)($,{type:"info",showIcon:!0,children:(0,x.t)("Your selected platform supports performance, but your organization does not have performance enabled.")})}}),(0,z.BX)(S,{gap:1,children:[(0,z.tZ)(m.ZP,{priority:"primary",busy:d,to:{pathname:n,query:c,hash:"#welcome"},children:(0,x.t)("Take me to Issues")}),(0,z.tZ)(m.ZP,{busy:d,to:{pathname:o,query:c},children:(0,x.t)("Take me to Performance")})]})]})}},`${e}-${r}`)]})]})}}_.displayName="ProjectInstallPlatform";const P=(0,a.Z)("div",{target:"esjegue3"})("line-height:1.5;.gatsby-highlight{margin-bottom:",(0,j.Z)(3),";&:last-child{margin-bottom:0;}}.alert{margin-bottom:",(0,j.Z)(3),";border-radius:",(t=>t.theme.borderRadius),";}pre{word-break:break-all;white-space:pre-wrap;}blockquote{padding:",(0,j.Z)(1),";margin-left:0;background:",(t=>t.theme.alert.info.backgroundLight),";border-left:2px solid ",(t=>t.theme.alert.info.border),";}blockquote>*:last-child{margin-bottom:0;}"),S=(0,a.Z)(g.ZP,{target:"esjegue2"})("margin-top:",(0,j.Z)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,j.Z)(1),";grid-auto-flow:row;}"),B=(0,a.Z)(b.mr,{target:"esjegue1"})("margin-bottom:",(0,j.Z)(3),";h2{margin:0;}@media (max-width: ",(t=>t.theme.breakpoints.small),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,j.Z)(2),";}}"),$=(0,a.Z)(c.Z,{target:"esjegue0"})("margin-top:",(0,j.Z)(2),";"),C=(0,v.Z)((0,I.Z)(_));var D=r("./app/components/asyncComponent.tsx"),T=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),X=r("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),F=r("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),N=r("./app/views/organizationIntegrations/addIntegrationButton.tsx"),q=r("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),E=r("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),L=r("./app/icons/index.tsx"),A=r("./app/styles/pulsingIndicator.tsx"),M=r("./app/utils/eventWaiter.tsx"),O=r("./app/utils/testableTransition.tsx");const H=t=>{let{children:e,...r}=t;return(0,z.tZ)(M.Z,{...r,children:t=>{let{firstIssue:i}=t;return e({indicator:(0,z.tZ)(V,{firstIssue:i,...r}),firstEventButton:(0,z.tZ)(m.ZP,{title:(0,x.t)("You'll need to send your first error to continue"),tooltipProps:{disabled:!!i},disabled:!i,priority:"primary",onClick:()=>(0,T.Z)("growth.onboarding_take_to_error",{organization:r.organization}),to:`/organizations/${r.organization.slug}/issues/${i&&!0!==i&&"id"in i?`${i.id}/`:""}?referrer=onboarding-first-event-indicator`,children:(0,x.t)("Take me to my error")})})}})};H.displayName="FirstEventIndicator";const V=t=>{let{firstIssue:e}=t;return(0,z.tZ)(W,{children:(0,z.tZ)(q.M,{children:e?(0,z.tZ)(R,{},"received"):(0,z.tZ)(K,{},"waiting")})})};V.displayName="Indicator";const W=(0,a.Z)("div",{target:"edkqj54"})({name:"qu0prw",styles:"display:grid;grid-template-columns:1fr;justify-content:right"}),G=(0,a.Z)(E.E.div,{target:"edkqj53"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,j.Z)(1),";align-items:center;font-size:",(t=>t.theme.fontSizeMedium),";grid-column:1;grid-row:1;");G.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:(0,O.Z)({when:"beforeChildren",staggerChildren:.35})},exit:{opacity:0,y:10}}};const K=t=>(0,z.BX)(G,{...t,children:[(0,z.tZ)(J,{children:(0,x.t)("Waiting to receive first event to continue")}),(0,z.tZ)(U,{})]});K.displayName="Waiting";const R=t=>(0,z.BX)(G,{...t,children:[(0,z.tZ)(J,{children:(0,x.t)("Event was received!")}),(0,z.tZ)(Q,{})]});R.displayName="Success";const Y={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10}},J=(0,a.Z)(E.E.div,{target:"edkqj52"})("");J.defaultProps={variants:Y,transition:(0,O.Z)()};const U=(0,a.Z)(E.E.div,{target:"edkqj51"})("margin:0 6px;",A.Z,";");U.defaultProps={variants:Y,transition:(0,O.Z)()};const Q=(0,a.Z)(L.DL,{target:"edkqj50"})("color:#fff;background:",(t=>t.theme.green300),";border-radius:50%;padding:3px;margin:0 ",(0,j.Z)(.25),";");Q.defaultProps={size:"sm"};const tt=H;var et=r("./app/views/onboarding/createSampleEventButton.tsx");function rt(t){let{organization:e,project:r,docsLink:i,docsOnClick:n}=t;return(0,z.BX)(s.Fragment,{children:[(0,z.tZ)(tt,{organization:e,project:r,eventType:"error",children:t=>{let{indicator:e,firstEventButton:r}=t;return(0,z.BX)(it,{children:[(0,z.BX)(ot,{gap:2,children:[r,(0,z.tZ)(m.ZP,{external:!0,href:i,onClick:n,children:(0,x.t)("View full documentation")})]}),e]})}}),(0,z.tZ)(nt,{children:(0,x._N)("Just want to poke around before getting too cozy with the SDK? [sample:View a sample event for this SDK] or [skip:finish setup later].",{sample:(0,z.tZ)(et.Z,{"aria-label":"View a sample event",project:r,source:"onboarding",priority:"link"}),skip:(0,z.tZ)(m.ZP,{priority:"link",href:"/","aria-label":(0,x.t)("Finish setup later")})})})]})}rt.displayName="FirstEventFooter";const it=(0,a.Z)("div",{target:"e1ftf45p2"})("display:flex;justify-content:space-between;margin:",(0,j.Z)(2)," 0;margin-top:",(0,j.Z)(4),";"),nt=(0,a.Z)("p",{target:"e1ftf45p1"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeMedium),";margin:0;max-width:500px;"),ot=(0,a.Z)(g.ZP,{target:"e1ftf45p0"})({name:"14dyr8n",styles:"display:inline-grid;justify-self:start"});function at(t){let{gettingStartedLink:e,docsLink:r}=t;return(0,z.BX)(g.ZP,{gap:1,children:[(0,z.tZ)(m.ZP,{size:"sm",to:e,children:(0,x.t)("< Back")}),(0,z.tZ)(m.ZP,{size:"sm",href:r,external:!0,children:(0,x.t)("Full Documentation")})]})}at.displayName="PlatformHeaderButtonBar";class st extends D.Z{constructor(){super(...arguments),(0,o.Z)(this,"handleFullDocsClick",(()=>{const{organization:t}=this.props;(0,T.Z)("growth.onboarding_view_full_docs",{organization:t})})),(0,o.Z)(this,"handleAddIntegration",(()=>{this.setState({installed:!0})})),(0,o.Z)(this,"trackSwitchToManual",(()=>{const{organization:t,integrationSlug:e}=this.props;(0,n.Db)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:e,view:"project_creation",organization:t})}))}getDefaultState(){return{...super.getDefaultState(),installed:!1,integrations:{providers:[]},project:null}}componentDidMount(){window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get provider(){const{providers:t}=this.state.integrations;return t.length?t[0]:null}getEndpoints(){const{organization:t,integrationSlug:e,params:r}=this.props;return e?[["integrations",`/organizations/${t.slug}/config/integrations/?provider_key=${e}`],["project",`/projects/${t.slug}/${r.projectId}/`]]:[]}redirectToNeutralDocs(){const{orgId:t,projectId:e}=this.props.params,r=`/organizations/${t}/projects/${e}/getting-started/`;l.browserHistory.push(r)}render(){const{organization:t,params:e}=this.props,{installed:r,project:i}=this.state,{projectId:n,orgId:o,platform:a}=e,l=this.provider,d=w.Z.find((t=>t.id===a));if(!l||!d||!i)return null;const p=`/organizations/${o}/projects/${n}/getting-started/`,c="https://docs.sentry.io/product/integrations/cloud-monitoring/aws-lambda/";return(0,z.BX)(pt,{children:[(0,z.BX)(ct,{children:[(0,z.tZ)(mt,{children:(0,x.t)("Automatically instrument %s",d.name)}),(0,z.tZ)(at,{gettingStartedLink:p,docsLink:c})]}),(0,z.tZ)(dt,{children:r?(0,z.BX)(s.Fragment,{children:[(0,z.tZ)(F.Z,{provider:l}),(0,z.tZ)(rt,{project:i,organization:t,docsLink:c,docsOnClick:this.handleFullDocsClick})]}):(0,z.BX)(s.Fragment,{children:[(0,z.tZ)(X.Z,{}),(0,z.BX)(lt,{gap:1,children:[(0,z.tZ)(N.w,{provider:l,onAddIntegration:this.handleAddIntegration,organization:t,priority:"primary",size:"sm",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:i.id},"aria-label":(0,x.t)("Add integration")}),(0,z.tZ)(m.ZP,{size:"sm",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual,children:(0,x.t)("Manual Setup")})]})]})})]})}}st.displayName="PlatformIntegrationSetup";const lt=(0,a.Z)(g.ZP,{target:"e1ri928w4"})("margin-top:",(0,j.Z)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,j.Z)(1),";grid-auto-flow:row;}"),dt=(0,a.Z)("div",{target:"e1ri928w3"})({name:"16ztbrs",styles:"width:850px"}),pt=(0,a.Z)("div",{target:"e1ri928w2"})({name:"10ebfcx",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px"}),ct=(0,a.Z)(b.mr,{target:"e1ri928w1"})("margin-bottom:",(0,j.Z)(3),";"),mt=(0,a.Z)("h2",{target:"e1ri928w0"})("margin:0 ",(0,j.Z)(3)," 0 0;"),gt=(0,I.Z)(st),ut=t=>{const e=i.parse(window.location.search),{platform:r}=t.params,o=r&&n.C$[r];return o&&"1"!==e.manual?(0,z.tZ)(gt,{integrationSlug:o,...t}):(0,z.tZ)(C,{...t})};ut.displayName="PlatformOrIntegration";const ht=ut}}]);
//# sourceMappingURL=../sourcemaps/app_views_projectInstall_platformOrIntegration_tsx.d4b1c7e9a9d03c51ec142009973cd213.js.map