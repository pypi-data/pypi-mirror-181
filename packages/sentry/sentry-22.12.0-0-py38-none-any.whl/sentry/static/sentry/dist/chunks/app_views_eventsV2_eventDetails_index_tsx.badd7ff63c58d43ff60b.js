"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_eventsV2_eventDetails_index_tsx"],{"./app/components/events/errorLevel.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const r="13px",i=(0,n.Z)("span",{target:"e145dcfe0"})("padding:0;position:relative;width:",(e=>e.size||r),";height:",(e=>e.size||r),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/components/events/eventMessage.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/events/errorLevel.tsx"),i=s("./app/styles/space.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,n.Z)((e=>{let{className:t,level:s,levelIndicatorSize:n,message:i,annotations:a}=e;return(0,o.BX)("div",{className:t,children:[s&&(0,o.tZ)(r.Z,{size:n,level:s,children:s}),i&&(0,o.tZ)(l,{children:i}),a]})}),{target:"e1rp796r1"})("display:flex;gap:",(0,i.Z)(1),";align-items:center;position:relative;line-height:1.2;overflow:hidden;"),l=(0,n.Z)("span",{target:"e1rp796r0"})((e=>e.theme.overflowEllipsis)," width:auto;max-height:38px;"),p=a},"./app/components/seenByList.tsx":(e,t,s)=>{s.d(t,{Z:()=>Z});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),i=s("../node_modules/moment/moment.js"),o=s.n(i),a=s("./app/components/avatar/avatarList.tsx"),l=s("./app/components/tooltip.tsx"),p=s("./app/icons/index.tsx"),d=s("./app/locale.tsx"),c=s("./app/stores/configStore.tsx"),u=s("./app/utils/formatters.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=e=>{let{avatarSize:t=28,seenBy:s=[],iconTooltip:n=(0,d.t)("People who have viewed this"),maxVisibleAvatars:i=10,iconPosition:g="left",className:Z}=e;const x=c.Z.get("user"),y=s.filter((e=>x.id!==e.id));return 0===y.length?null:(0,m.BX)(v,{iconPosition:g,className:Z,children:[(0,m.tZ)(a.Z,{users:y,avatarSize:t,maxVisibleAvatars:i,renderTooltip:e=>(0,m.BX)(r.Fragment,{children:[(0,u.He)(e),(0,m.tZ)("br",{}),o()(e.lastSeen).format("LL")]})}),(0,m.tZ)(h,{iconPosition:g,children:(0,m.tZ)(l.Z,{title:n,skipWrapper:!0,children:(0,m.tZ)(p.fn,{size:"sm",color:"subText"})})})]})};g.displayName="SeenByList";const v=(0,n.Z)("div",{target:"e1ayiung1"})("display:flex;",(e=>"left"===e.iconPosition?"flex-direction: row-reverse":""),";"),h=(0,n.Z)("div",{target:"e1ayiung0"})("display:flex;align-items:center;background-color:transparent;color:",(e=>e.theme.textColor),";height:28px;width:24px;text-align:center;",(e=>"left"===e.iconPosition?"margin-right: 10px":""),";"),Z=g},"./app/views/eventsV2/breadcrumb.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/core-js/modules/es.array.includes.js");var n=s("../node_modules/lodash/omit.js"),r=s.n(n),i=s("./app/components/breadcrumbs.tsx"),o=s("./app/locale.tsx"),a=s("./app/utils/discover/urls.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{eventView:t,event:s,organization:n,location:p,isHomepage:d}=e;const c=[],u=n.features.includes("discover-query")?{pathname:(0,a.zR)(n),query:{...r()(p.query,"homepage"),...t.generateBlankQueryStringObject(),...t.getPageFiltersQuery()}}:null;return c.push({to:n.features.includes("discover-query-builder-as-landing-page")&&d&&t?t.getResultsViewUrlTarget(n.slug,d):u,label:(0,o.t)("Discover")}),!d&&t&&t.isValid()&&(n.features.includes("discover-query-builder-as-landing-page")&&c.push({to:`/organizations/${n.slug}/discover/queries/`,label:(0,o.t)("Saved Queries")}),c.push({to:t.getResultsViewUrlTarget(n.slug,d),label:t.name||""})),s&&c.push({label:(0,o.t)("Event Detail")}),(0,l.tZ)(i.Z,{crumbs:c})}p.displayName="DiscoverBreadcrumb";const d=p},"./app/views/eventsV2/eventDetails/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>ze});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/lodash/omit.js"),i=s.n(r),o=s("./app/components/noProjectMessage.tsx"),a=s("./app/components/sentryDocumentTitle.tsx"),l=s("./app/locale.tsx"),p=s("./app/styles/organization.tsx"),d=s("./app/utils/discover/eventView.tsx"),c=s("./app/utils/withOrganization.tsx"),u=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),g=s("./app/components/acl/feature.tsx"),v=s("./app/components/asyncComponent.tsx"),h=s("./app/components/button.tsx"),Z=s("./app/components/buttonBar.tsx"),x=s("./app/components/errors/notFound.tsx"),y=s("./app/components/eventOrGroupTitle.tsx"),b=s("./app/components/events/eventCustomPerformanceMetrics.tsx"),f=s("./app/components/events/eventEntries.tsx"),w=s("./app/components/events/eventMessage.tsx"),j=s("./app/components/events/eventVitals.tsx"),S=s("./app/components/events/interfaces/spans/context.tsx"),z=s("./app/components/fileSize.tsx"),k=s("./app/components/layouts/thirds.tsx"),B=s("./app/components/loadingError.tsx"),I=s("./app/components/loadingIndicator.tsx"),_=s("./app/components/profiling/transactionToProfileButton.tsx"),T=s("./app/components/tagsTable.tsx"),V=s("./app/icons/index.tsx"),q=s("./app/styles/space.tsx"),D=s("./app/utils/analytics.tsx"),P=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),E=s("./app/utils/discover/fields.tsx"),C=s("./app/utils/discover/urls.tsx"),X=s("./app/utils/events.tsx"),N=s("./app/utils/performance/quickTrace/quickTraceContext.tsx"),L=s("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),$=s("./app/utils/performance/quickTrace/traceMetaQuery.tsx"),H=s("./app/utils/performance/quickTrace/utils.tsx"),O=s("./app/utils/projects.tsx"),F=s("./app/views/performance/transactionDetails/eventMetas.tsx"),M=s("./app/views/performance/transactionSummary/utils.tsx"),A=s("./app/views/eventsV2/breadcrumb.tsx"),Q=s("./app/views/eventsV2/utils.tsx"),U=s("./app/components/alert.tsx"),R=s("./app/components/charts/styles.tsx"),G=s("./app/components/timeSince.tsx"),J=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const W=e=>{let{lastSeen:t,firstSeen:s}=e;return(0,J.tZ)(K,{children:(0,J.BX)(Y,{children:[t&&(0,J.BX)(m.Fragment,{children:[(0,J.tZ)(ee,{size:"11px"}),(0,J.tZ)(G.Z,{date:t,suffix:(0,l.t)("ago")})]}),s&&t&&(0,J.tZ)("span",{className:"hidden-xs hidden-sm",children:" — "}),s&&(0,J.tZ)(G.Z,{date:s,suffix:(0,l.t)("old"),className:"hidden-xs hidden-sm"})]})})};W.displayName="Times";const K=(0,n.Z)("div",{target:"e1pb87w32"})({name:"bk4x30",styles:"flex-shrink:1;min-width:0"}),Y=(0,n.Z)("div",{target:"e1pb87w31"})((e=>e.theme.overflowEllipsis),"display:flex;align-items:center;"),ee=(0,n.Z)(V.jo,{target:"e1pb87w30"})("margin-right:",(0,q.Z)(.5),";"),te=W;var se=s("./app/components/idBadge/projectBadge.tsx"),ne=s("./app/components/links/link.tsx"),re=s("./app/components/placeholder.tsx"),ie=s("./app/components/seenByList.tsx"),oe=s("./app/components/shortId.tsx"),ae=s("./app/components/stream/groupChart.tsx");class le extends v.Z{getEndpoints(){const{groupId:e}=this.props;return[["group",`/issues/${e}/`]]}renderLoading(){return(0,J.tZ)(re.Z,{height:"120px",bottomGutter:2})}renderError(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{errors:s}=this.state;return Object.values(s).find((e=>e&&404===e.status))?(0,J.tZ)(U.Z,{type:"warning",showIcon:!0,children:(0,l.t)("The linked issue cannot be found. It may have been deleted, or merged.")}):super.renderError(e,t)}renderBody(){const{eventId:e}=this.props,{group:t}=this.state,s=`${t.permalink}events/${e}/`;return(0,J.BX)(pe,{children:[(0,J.tZ)(R.OT,{children:(0,l.t)("Event Issue")}),(0,J.BX)(de,{children:[(0,J.BX)(ce,{children:[(0,J.tZ)(ue,{to:s,"data-test-id":"linked-issue",children:(0,J.tZ)(ge,{shortId:t.shortId,avatar:(0,J.tZ)(se.Z,{project:t.project,avatarSize:16,hideName:!0,disableLink:!0})})}),(0,J.tZ)(ie.Z,{seenBy:t.seenBy,maxVisibleAvatars:5})]}),(0,J.tZ)(me,{children:(0,J.tZ)(ae.Z,{statsPeriod:"30d",data:t,height:56})}),(0,J.tZ)(ve,{children:(0,J.tZ)(te,{lastSeen:t.lastSeen,firstSeen:t.firstSeen})})]})]})}}const pe=(0,n.Z)("div",{target:"e1wtoeov6"})("margin-bottom:",(0,q.Z)(4),";"),de=(0,n.Z)("div",{target:"e1wtoeov5"})("border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";"),ce=(0,n.Z)("div",{target:"e1wtoeov4"})("display:flex;align-items:center;justify-content:space-between;padding:",(0,q.Z)(1),";"),ue=(0,n.Z)(ne.Z,{target:"e1wtoeov3"})({name:"11g6mpt",styles:"justify-content:flex-start"}),me=(0,n.Z)("div",{target:"e1wtoeov2"})("background:",(e=>e.theme.backgroundSecondary),";padding-top:",(0,q.Z)(1),";"),ge=(0,n.Z)(oe.Z,{target:"e1wtoeov1"})("font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.textColor),";"),ve=(0,n.Z)("div",{target:"e1wtoeov0"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeSmall),";padding:",(0,q.Z)(.5)," ",(0,q.Z)(1),";"),he=le;class Ze extends v.Z{constructor(){super(...arguments),(0,u.Z)(this,"state",{loading:!0,reloading:!1,error:!1,errors:{},event:void 0,isSidebarVisible:!0}),(0,u.Z)(this,"toggleSidebar",(()=>{this.setState({isSidebarVisible:!this.state.isSidebarVisible})})),(0,u.Z)(this,"generateTagUrl",(e=>{const{eventView:t,organization:s,isHomepage:n}=this.props,{event:r}=this.state;if(!r)return"";const i={...r};i.id&&delete i.id;const o=(0,E.ZC)(e.key);return(0,Q.Bn)(t,{[o]:e.value},i).getResultsViewUrlTarget(s.slug,n)})),(0,u.Z)(this,"getEventSlug",(()=>{const{eventSlug:e}=this.props.params;return"string"==typeof e?e.trim():""}))}getEndpoints(){const{organization:e,params:t,location:s,eventView:n}=this.props,{eventSlug:r}=t,i=n.getEventsAPIPayload(s);return i.field=[],[["event",`/organizations/${e.slug}/events/${r}/`,{query:i}]]}get projectId(){return this.props.eventSlug.split(":")[0]}renderBody(){const{event:e}=this.state;return e?this.renderContent(e):(0,J.tZ)(x.Z,{})}renderContent(e){const{organization:t,location:s,eventView:n,isHomepage:r}=this.props,{isSidebarVisible:i}=this.state;(0,D.ec)({eventKey:"discover_v2.event_details",eventName:"Discoverv2: Opened Event Details",event_type:e.type,organization_id:parseInt(t.id,10)});const o=e.tags.find((e=>"transaction"===e.key))?.value,a="transaction"===e.type&&o?(0,M.e1)({orgSlug:t.slug,transaction:o,projectID:e.projectID,query:s.query}):null,p=`/api/0/projects/${t.slug}/${this.projectId}/events/${e.eventID}/json/`,d=t.features.includes("profiling"),c=(o,c)=>(0,J.BX)(m.Fragment,{children:[(0,J.BX)(k.h4,{children:[(0,J.BX)(k.oB,{children:[(0,J.tZ)(A.Z,{eventView:n,event:e,organization:t,location:s,isHomepage:r}),(0,J.tZ)(xe,{event:e})]}),(0,J.tZ)(k.kP,{children:(0,J.BX)(Z.ZP,{gap:1,children:[(0,J.tZ)(h.ZP,{size:"sm",onClick:this.toggleSidebar,children:i?"Hide Details":"Show Details"}),(0,J.BX)(h.ZP,{size:"sm",icon:(0,J.tZ)(V.V$,{}),href:p,external:!0,onClick:()=>(0,P.Z)("performance_views.event_details.json_button_click",{organization:t}),children:[(0,l.t)("JSON")," (",(0,J.tZ)(z.Z,{bytes:e.size}),")"]}),d&&"transaction"===e.type&&(0,J.tZ)(_.Z,{orgId:t.slug,projectId:this.projectId,transactionId:e.eventID}),a&&(0,J.tZ)(g.Z,{organization:t,features:["performance-view"],children:e=>{let{hasFeature:t}=e;return(0,J.tZ)(h.ZP,{size:"sm",disabled:!t,priority:"primary",to:a,children:(0,l.t)("Go to Summary")})}})]})})]}),(0,J.BX)(k.uT,{children:[(0,J.tZ)(k.or,{fullWidth:!0,children:(0,J.tZ)(F.ZP,{quickTrace:o??null,meta:c?.meta??null,event:e,organization:t,projectId:this.projectId,location:s,errorDest:"discover",transactionDest:"discover"})}),(0,J.tZ)(k.or,{fullWidth:!i,children:(0,J.tZ)(O.Z,{orgId:t.slug,slugs:[this.projectId],children:r=>{let{projects:i,initiallyLoaded:a}=r;return a?(0,J.tZ)(S.z,{value:{getViewChildTransactionTarget:e=>({pathname:(0,C.lS)({eventSlug:e.eventSlug,orgSlug:t.slug}),query:n.generateQueryStringObject()})},children:(0,J.tZ)(N.p.Provider,{value:o,children:(0,J.tZ)(f.j,{organization:t,event:e,project:i[0],location:s,showTagSummary:!1,api:this.api})})}):(0,J.tZ)(I.Z,{})}})}),i&&(0,J.BX)(k.MF,{children:[(0,J.tZ)(j.Z,{event:e}),(t.features.includes("dashboards-mep")||t.features.includes("mep-rollout-flag"))&&(0,J.tZ)(b.ZP,{event:e,location:s,organization:t,isHomepage:r}),e.groupID&&(0,J.tZ)(he,{groupId:e.groupID,eventId:e.eventID}),(0,J.tZ)(T.z,{generateUrl:this.generateTagUrl,event:e,query:n.query})]})]})]});if(t.features.includes("performance-view")){const n=e.contexts?.trace?.trace_id??"",{start:r,end:i}=(0,H.$J)(e);return(0,J.tZ)($.Z,{location:s,orgSlug:t.slug,traceId:n,start:r,end:i,children:n=>(0,J.tZ)(L.Z,{event:e,location:s,orgSlug:t.slug,children:e=>c(e,n)})})}return c()}renderError(e){const t=Object.values(this.state.errors).find((e=>e&&404===e.status)),s=Object.values(this.state.errors).find((e=>e&&403===e.status));return t?(0,J.tZ)(x.Z,{}):s?(0,J.tZ)(B.Z,{message:(0,l.t)("You do not have permission to view that event.")}):super.renderError(e,!0)}renderComponent(){const{eventView:e,organization:t}=this.props,{event:s}=this.state,n=this.getEventSlug().split(":")[0],r=(0,Q.zt)({eventView:e,event:s,organization:t});return(0,J.tZ)(a.Z,{title:r,orgSlug:t.slug,projectSlug:n,children:super.renderComponent()})}}const xe=e=>{let{event:t}=e;const s=(0,X.FC)(t);return(0,J.BX)(ye,{"data-test-id":"event-header",children:[(0,J.tZ)(be,{children:(0,J.tZ)(fe,{data:t})}),s&&(0,J.tZ)(we,{children:(0,J.tZ)(w.Z,{message:s})})]})};xe.displayName="EventHeader";const ye=(0,n.Z)("div",{target:"eis1z1e3"})("max-width:",(e=>e.theme.breakpoints.small),";"),be=(0,n.Z)("div",{target:"eis1z1e2"})({name:"iqoq9n",styles:"margin-top:20px"}),fe=(0,n.Z)(y.Z,{target:"eis1z1e1"})("font-size:",(e=>e.theme.headerFontSize),";"),we=(0,n.Z)("div",{target:"eis1z1e0"})("margin-top:",(0,q.Z)(1),";"),je=Ze;function Se(e){let{organization:t,location:s,params:n}=e;const r="string"==typeof n.eventSlug?n.eventSlug.trim():"",p=s.query.homepage,c=d.ZP.fromLocation(p?{...s,query:i()(s.query,"id")}:s),u=c.name,m="string"==typeof u&&String(u).trim().length>0?[String(u).trim(),(0,l.t)("Discover")]:[(0,l.t)("Discover")],g=r.split(":")[0];return(0,J.tZ)(a.Z,{title:m.join(" - "),orgSlug:t.slug,projectSlug:g,children:(0,J.tZ)(ke,{children:(0,J.tZ)(o.Z,{organization:t,children:(0,J.tZ)(je,{organization:t,location:s,params:n,eventView:c,eventSlug:r,isHomepage:p})})})})}Se.displayName="EventDetails";const ze=(0,c.Z)(Se),ke=(0,n.Z)(p.JH,{target:"e1nc8qts0"})({name:"1hcx8jb",styles:"padding:0"})}}]);
//# sourceMappingURL=../sourcemaps/app_views_eventsV2_eventDetails_index_tsx.b16451b5c0c0c862a0f8693c70bfcba3.js.map