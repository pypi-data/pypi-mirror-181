"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectSourceMaps_list_index_tsx"],{"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("./app/components/alert.tsx"),a=s("./app/locale.tsx"),i=s("./app/utils/isRenderFunc.tsx"),c=s("./app/utils/withConfig.tsx"),p=s("./app/utils/withOrganization.tsx");const l=(0,s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js").tZ)(o.Z,{type:"error",showIcon:!0,children:(0,a.t)("You do not have sufficient permissions to access this.")});class d extends n.Component{render(){const{organization:e,config:t,access:s,requireAll:r,isSuperuser:n,renderNoAccessMessage:o,children:a}=this.props,{access:c}=e||{access:[]},p=!s||s[r?"every":"some"]((e=>c.includes(e))),d=!(!t.user||!t.user.isSuperuser),u={hasAccess:p,hasSuperuser:d},m=p&&(!n||d);return m||"function"!=typeof o?!m&&o?l:(0,i.l)(a)?a(u):m?a:null:o(u)}}d.displayName="Access",(0,r.Z)(d,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const u=(0,p.Z)((0,c.Z)(d))},"./app/components/searchBar.tsx":(e,t,s)=>{s.d(t,{Z:()=>g,p:()=>x});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/react/index.js"),o=s("./app/components/button.tsx"),a=s("./app/components/inputGroup.tsx"),i=s("./app/icons/index.tsx"),c=s("./app/icons/iconClose.tsx"),p=s("./app/locale.tsx"),l=s("./app/styles/space.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{query:t,defaultQuery:s="",onChange:r,onSearch:o,width:l,size:u,className:g,trailing:Z,...y}=e;const v=(0,n.useRef)(null),[f,b]=(0,n.useState)(t??s);(0,n.useEffect)((()=>{"string"==typeof t&&b(t)}),[t]);const w=(0,n.useCallback)((e=>{const{value:t}=e.target;b(t),r?.(t)}),[r]),j=(0,n.useCallback)((e=>{e.preventDefault(),v.current?.blur(),o?.(f)}),[o,f]),k=(0,n.useCallback)((()=>{b(""),r?.(""),o?.("")}),[r,o]);return(0,d.tZ)(m,{onSubmit:j,className:g,children:(0,d.BX)(a.BZ,{children:[(0,d.tZ)(a.t_,{disablePointerEvents:!0,children:(0,d.tZ)(i.jV,{color:"subText",size:"xs"===u?"xs":"sm"})}),(0,d.tZ)(h,{...y,ref:v,type:"text",name:"query",autoComplete:"off",value:f,onChange:w,width:l,size:u}),(0,d.BX)(a.Oj,{children:[Z,!!f&&(0,d.tZ)(x,{type:"button",size:"zero",borderless:!0,onClick:k,icon:(0,d.tZ)(c.b,{size:"xs"}),"aria-label":(0,p.t)("Clear")})]})]})})}u.displayName="SearchBar";const m=(0,r.Z)("form",{target:"e4xnwji2"})({name:"4bgdod",styles:"display:block;position:relative"}),h=(0,r.Z)(a.II,{target:"e4xnwji1"})((e=>e.width&&`width: ${e.width};`),";"),x=(0,r.Z)(o.ZP,{target:"e4xnwji0"})("color:",(e=>e.theme.subText),";padding:",(0,l.Z)(.5),";"),g=u},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;const n=`${e} - ${t}`,o=r?`${n} - ${r}`:n;return s?`${o} - Sentry`:o}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("./app/components/asyncComponent.tsx"),n=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends r.Z{getTitle(){return""}render(){return(0,o.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/projectSourceMaps/list/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),a=s("./app/actionCreators/indicator.tsx"),i=s("./app/components/links/externalLink.tsx"),c=s("./app/components/pagination.tsx"),p=s("./app/components/panels/index.tsx"),l=s("./app/components/searchBar.tsx"),d=s("./app/locale.tsx"),u=s("./app/styles/space.tsx"),m=s("./app/utils/queryString.tsx"),h=s("./app/utils/routeTitle.tsx"),x=s("./app/views/asyncView.tsx"),g=s("./app/views/settings/components/settingsPageHeader.tsx"),Z=s("./app/views/settings/components/text/textBlock.tsx"),y=s("./app/components/acl/access.tsx"),v=s("./app/components/button.tsx"),f=s("./app/components/buttonBar.tsx"),b=s("./app/components/confirm.tsx"),w=s("./app/components/count.tsx"),j=s("./app/components/dateTime.tsx"),k=s("./app/components/links/link.tsx"),A=s("./app/components/textOverflow.tsx"),S=s("./app/components/tooltip.tsx"),q=s("./app/components/version.tsx"),C=s("./app/icons/index.tsx"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const T=e=>{let{archive:t,orgId:s,projectId:r,onDelete:n}=e;const{name:a,date:i,fileCount:c}=t,p=`/settings/${s}/projects/${r}/source-maps/${encodeURIComponent(a)}`;return(0,_.BX)(o.Fragment,{children:[(0,_.tZ)(B,{children:(0,_.tZ)(A.Z,{children:(0,_.tZ)(k.Z,{to:p,children:(0,_.tZ)(q.Z,{version:a,anchor:!1,tooltipRawVersion:!0,truncate:!0})})})}),(0,_.tZ)(I,{children:(0,_.tZ)(w.Z,{value:c})}),(0,_.tZ)(B,{children:(0,d.t)("release")}),(0,_.tZ)(B,{children:(0,_.tZ)(j.Z,{date:i})}),(0,_.tZ)(z,{children:(0,_.tZ)(f.ZP,{gap:.5,children:(0,_.tZ)(y.Z,{access:["project:releases"],children:e=>{let{hasAccess:t}=e;return(0,_.tZ)(S.Z,{disabled:t,title:(0,d.t)("You do not have permission to delete artifacts."),children:(0,_.tZ)(b.Z,{onConfirm:()=>n(a),message:(0,d.t)("Are you sure you want to remove all artifacts in this archive?"),disabled:!t,children:(0,_.tZ)(v.ZP,{size:"sm",icon:(0,_.tZ)(C.Fz,{size:"sm"}),title:(0,d.t)("Remove All Artifacts"),"aria-label":(0,d.t)("Remove All Artifacts"),disabled:!t})})})}})})})]})};T.displayName="SourceMapsArchiveRow";const B=(0,n.Z)("div",{target:"eq2wkmm2"})({name:"1kghokd",styles:"display:flex;align-items:center;overflow:hidden"}),I=(0,n.Z)(B,{target:"eq2wkmm1"})("padding-right:",(0,u.Z)(4),";text-align:right;justify-content:flex-end;"),z=(0,n.Z)(B,{target:"eq2wkmm0"})({name:"1f60if8",styles:"justify-content:flex-end"}),D=T;class P extends x.Z{constructor(){super(...arguments),(0,r.Z)(this,"handleSearch",(e=>{const{location:t,router:s}=this.props;s.push({...t,query:{...t.query,cursor:void 0,query:e}})})),(0,r.Z)(this,"handleDelete",(async e=>{(0,a.E3)((0,d.t)("Removing artifactsâ€¦"));try{await this.api.requestPromise(this.getArchivesUrl(),{method:"DELETE",query:{name:e}}),this.fetchData(),(0,a.S9)((0,d.t)("Artifacts removed."))}catch{(0,a.Iw)((0,d.t)("Unable to remove artifacts. Please try again."))}}))}getTitle(){const{projectId:e}=this.props.params;return(0,h.Z)((0,d.t)("Source Maps"),e,!1)}getDefaultState(){return{...super.getDefaultState(),archives:[]}}getEndpoints(){return[["archives",this.getArchivesUrl(),{query:{query:this.getQuery()}}]]}getArchivesUrl(){const{orgId:e,projectId:t}=this.props.params;return`/projects/${e}/${t}/files/source-maps/`}getQuery(){const{query:e}=this.props.location.query;return(0,m.ro)(e)}getEmptyMessage(){return this.getQuery()?(0,d.t)("There are no archives that match your search."):(0,d.t)("There are no archives for this project.")}renderLoading(){return this.renderBody()}renderArchives(){const{archives:e}=this.state,{params:t}=this.props,{orgId:s,projectId:r}=t;return e.length?e.map((e=>(0,_.tZ)(D,{archive:e,orgId:s,projectId:r,onDelete:this.handleDelete},e.name))):null}renderBody(){const{loading:e,archives:t,archivesPageLinks:s}=this.state;return(0,_.BX)(o.Fragment,{children:[(0,_.tZ)(g.Z,{title:(0,d.t)("Source Maps"),action:(0,_.tZ)(l.Z,{placeholder:(0,d.t)("Filter Archives"),onSearch:this.handleSearch,query:this.getQuery(),width:"280px"})}),(0,_.tZ)(Z.Z,{children:(0,d._N)("These source map archives help Sentry identify where to look when Javascript is minified. By providing this information, you can get better context for your stack traces when debugging. To learn more about source maps, [link: read the docs].",{link:(0,_.tZ)(i.Z,{href:"https://docs.sentry.io/platforms/javascript/sourcemaps/"})})}),(0,_.tZ)($,{headers:[(0,d.t)("Archive"),(0,_.tZ)(E,{children:(0,d.t)("Artifacts")},"artifacts"),(0,d.t)("Type"),(0,d.t)("Date Created"),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===t.length,isLoading:e,children:this.renderArchives()}),(0,_.tZ)(c.Z,{pageLinks:s})]})}}const $=(0,n.Z)(p.KB,{target:"e11p4xaq1"})({name:"1nm83up",styles:"grid-template-columns:minmax(120px, 1fr) max-content minmax(85px, max-content) minmax(265px, max-content) 75px"}),E=(0,n.Z)("div",{target:"e11p4xaq0"})("text-align:right;padding-right:",(0,u.Z)(1.5),";margin-right:",(0,u.Z)(.25),";"),M=P}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectSourceMaps_list_index_tsx.79da8d6ccbabd5b0ee970b072abcb954.js.map