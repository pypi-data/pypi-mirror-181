(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_organizationGroupDetails_groupEventDetails_index_tsx","_71ff-_0699-_1357-_d941-_94ca-_3018"],{"./app/components/events/meta/metaProxy.tsx":(e,t,s)=>{"use strict";s.d(t,{xN:()=>h,xZ:()=>m});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/lodash/isEmpty.js"),r=s.n(i),o=s("../node_modules/lodash/isNull.js"),a=s.n(o),l=s("../node_modules/lodash/memoize.js"),d=s.n(l);const c=Symbol("GET_META"),p=Symbol("IS_PROXY");class u{constructor(e){(0,n.Z)(this,"local",void 0),this.local=e}get(e,t,s){if(t===c)return e=>{if(this.local&&this.local[e]&&this.local[e][""]){const t=this.local[e][""];return function(e){return!(r()(e)||r()(e.rem)&&r()(e.err))}(t)?t:void 0}};if(t===p)return!0;const n=Reflect.get(e,t,s);return!Reflect.has(e,t)||"object"!=typeof n||a()(n)||Reflect.get(e,p,s)?n:new Proxy(n,new u(this.local&&this.local[t]))}}const h=d()((function(e){return e?void 0===window.Proxy||void 0===window.Reflect?e:new Proxy(e,new u(e._meta)):e}));function m(e,t){if(e&&"function"==typeof e[c])return e[c](t)}},"./app/components/externalIssues/abstractExternalIssueForm.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),r=s("../node_modules/lodash/debounce.js"),o=s.n(r),a=s("../node_modules/query-string/index.js"),l=s("./app/components/asyncComponent.tsx"),d=s("./app/components/forms/fieldFromConfig.tsx"),c=s("./app/components/forms/form.tsx"),p=s("./app/components/forms/model.tsx"),u=s("./app/components/questionTooltip.tsx"),h=s("./app/locale.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends l.Z{constructor(){var e;super(...arguments),e=this,(0,n.Z)(this,"shouldRenderBadRequests",!0),(0,n.Z)(this,"model",new p.Z),(0,n.Z)(this,"refetchConfig",(()=>{const{action:e,dynamicFieldValues:t}=this.state,s={action:e,...t},n=this.getEndPointString();this.api.request(n,{method:"GET",query:s,success:(e,t,s)=>{this.handleRequestSuccess({stateKey:"integrationDetails",data:e,resp:s},!0)},error:e=>{this.handleError(e,["integrationDetails",n,null,null])}})})),(0,n.Z)(this,"getConfigName",(()=>{const{action:e}=this.state;switch(e){case"create":return"createIssueConfig";case"link":return"linkIssueConfig";default:throw new Error("illegal action")}})),(0,n.Z)(this,"getDynamicFields",(e=>{const{integrationDetails:t}=this.state,s=(e||t||{})[this.getConfigName()];return Object.fromEntries((s||[]).filter((e=>e.updatesForm)).map((e=>[e.name,e.default||null])))})),(0,n.Z)(this,"onRequestSuccess",(e=>{let{stateKey:t,data:s}=e;"integrationDetails"===t&&(this.handleReceiveIntegrationDetails(s),this.setState({dynamicFieldValues:this.getDynamicFields(s)}))})),(0,n.Z)(this,"onFieldChange",((e,t)=>{const{dynamicFieldValues:s}=this.state;this.getDynamicFields().hasOwnProperty(e)&&s&&(s[e]=t,this.setState({dynamicFieldValues:s,reloading:!0,error:!1,remainingRequests:1},this.refetchConfig))})),(0,n.Z)(this,"updateFetchedFieldOptionsCache",((e,t)=>{const{fetchedFieldOptionsCache:s}=this.state;this.setState({fetchedFieldOptionsCache:{...s,[e.name]:t.map((e=>[e.value,e.label]))}})})),(0,n.Z)(this,"ensureCurrentOption",((e,t)=>{const s=this.getDefaultOptions(e).find((t=>t.value===this.model.getValue(e.name)));if(!s)return t;"string"==typeof s.label&&(s.label=(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(u.Z,{title:(0,h._N)("This is your current [label].",{label:e.label}),size:"xs"})," ",s.label]}));const n=t.findIndex((e=>e.value===s?.value));if(n>=0){const e=t;return e[n]=s,e}return[...t,s]})),(0,n.Z)(this,"getOptions",((e,t)=>new Promise(((s,n)=>t?this.debouncedOptionLoad(e,t,((t,i)=>{t?n(t):(i=this.ensureCurrentOption(e,i),this.updateFetchedFieldOptionsCache(e,i),s(i))})):s(this.getDefaultOptions(e)))))),(0,n.Z)(this,"debouncedOptionLoad",o()((async(e,t,s)=>{const{dynamicFieldValues:n}=this.state,i=a.stringify({...n,field:e.name,query:t}),r=e.url||"",o=r.includes("?")?"&":"?";try{const e=await fetch(r+o+i);s(null,e.ok?await e.json():[])}catch(e){s(e)}}),200,{trailing:!0})),(0,n.Z)(this,"getDefaultOptions",(e=>(e.choices||[]).map((e=>{let[t,s]=e;return{value:t,label:s}})))),(0,n.Z)(this,"getFieldProps",(e=>e.url?{async:!0,autoload:!0,cache:!1,loadOptions:t=>this.getOptions(e,t),defaultOptions:this.getDefaultOptions(e),onBlurResetsInput:!1,onCloseResetsInput:!1,onSelectResetsInput:!1}:{})),(0,n.Z)(this,"handleReceiveIntegrationDetails",(e=>{})),(0,n.Z)(this,"renderNavTabs",(()=>null)),(0,n.Z)(this,"renderBodyText",(()=>null)),(0,n.Z)(this,"getTitle",(()=>(0,h._N)("Issue Link Settings",{}))),(0,n.Z)(this,"getFormProps",(()=>{throw new Error("Method 'getFormProps()' must be implemented.")})),(0,n.Z)(this,"getDefaultFormProps",(()=>({footerClass:"modal-footer",onFieldChange:this.onFieldChange,submitDisabled:this.state.reloading,model:this.model}))),(0,n.Z)(this,"getCleanedFields",(()=>{const{fetchedFieldOptionsCache:e,integrationDetails:t}=this.state;return((t||{})[this.getConfigName()]||[]).map((t=>{const s={...t};return e?.hasOwnProperty(t.name)&&(s.choices=e[t.name]),s}))})),(0,n.Z)(this,"renderForm",(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(t||[]).reduce(((e,t)=>(e[t.name]=t.multiple&&0===t.default.length?"":t.default,e)),{}),{Header:r,Body:o}=e.props;return(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(r,{closeButton:!0,children:e.getTitle()}),e.renderNavTabs(),(0,m.tZ)(o,{children:e.shouldRenderLoading?e.renderLoading():(0,m.BX)(i.Fragment,{children:[e.renderBodyText(),(0,m.tZ)(c.Z,{initialData:n,...e.getFormProps(),children:(t||[]).filter((e=>e.hasOwnProperty("name"))).map((e=>({...e,noOptionsMessage:()=>"No options. Type to search."}))).map(((t,n)=>(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(d.Z,{disabled:e.state.reloading,field:t,flexibleControlStateSize:!0,inline:!1,stacked:!0,...e.getFieldProps(t)}),s[t.name]&&s[t.name]]},`${t.name}-${n}`)))})]})})]})}))}getDefaultState(){return{...super.getDefaultState(),action:"create",dynamicFieldValues:null,fetchedFieldOptionsCache:{},integrationDetails:null}}getEndPointString(){throw new Error("Method 'getEndPointString()' must be implemented.")}renderComponent(){return this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody()}}},"./app/components/globalAppStoreConnectUpdateAlert/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s("./app/components/projects/appStoreConnectContext.tsx"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),o=s("./app/components/alert.tsx"),a=s("./app/styles/space.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=function(e){let{Wrapper:t,project:s,className:i}=e;const o=(0,r.useContext)(n.Z);if(!s||!o||!Object.keys(o).some((e=>!!o[e].updateAlertMessage)))return null;const a=(0,l.tZ)(c,{className:i,children:Object.keys(o).map((e=>{const{updateAlertMessage:t}=o[e];return t?(0,l.tZ)(p,{type:"warning",showIcon:!0,children:(0,l.tZ)(u,{children:t})},e):null}))});return t?(0,l.tZ)(t,{children:a}):a},c=(0,i.Z)("div",{target:"e16hnbbm2"})("display:grid;gap:",(0,a.Z)(2),";margin-bottom:",(0,a.Z)(3),";"),p=(0,i.Z)(o.Z,{target:"e16hnbbm1"})({name:"1ykowef",styles:"margin-bottom:0"}),u=(0,i.Z)("div",{target:"e16hnbbm0"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,a.Z)(1),";");function h(e){let{project:t,organization:s,...i}=e;return(0,l.tZ)(n.z,{project:t,organization:s,children:(0,l.tZ)(d,{project:t,...i})})}h.displayName="GlobalAppStoreConnectUpdateAlert";const m=h},"./app/components/navigationButtonGroup.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s("./app/components/button.tsx"),i=s("./app/components/buttonBar.tsx"),r=s("./app/icons/index.tsx"),o=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{let{links:t,hasNext:s=!1,hasPrevious:l=!1,className:d,size:c,onOldestClick:p,onOlderClick:u,onNewerClick:h,onNewestClick:m}=e;return(0,a.BX)(i.ZP,{className:d,merged:!0,children:[(0,a.tZ)(n.ZP,{size:c,to:t[0],disabled:!l,"aria-label":(0,o.t)("Oldest"),icon:(0,a.tZ)(r.sm,{size:"xs"}),onClick:p}),(0,a.tZ)(n.ZP,{size:c,to:t[1],disabled:!l,onClick:u,children:(0,o.t)("Older")}),(0,a.tZ)(n.ZP,{size:c,to:t[2],disabled:!s,onClick:h,children:(0,o.t)("Newer")}),(0,a.tZ)(n.ZP,{size:c,to:t[3],disabled:!s,"aria-label":(0,o.t)("Newest"),icon:(0,a.tZ)(r.pi,{size:"xs"}),onClick:m})]})};l.displayName="NavigationButtonGroup";const d=l},"./app/components/projects/appStoreConnectContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d,z:()=>l});var n=s("../node_modules/react/index.js"),i=s("./app/utils/appStoreValidationErrorMessage.tsx"),r=s("./app/utils/useApi.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,n.createContext)(void 0),l=e=>{let{children:t,project:s,organization:l}=e;const d=(0,r.Z)(),[c,p]=(0,n.useState)(),[u,h]=(0,n.useState)(void 0),m=(0,n.useMemo)((()=>(c?.symbolSources?JSON.parse(c.symbolSources):[]).reduce(((e,t)=>{let{type:s,id:n,...i}=t;return"appstoreconnect"===s.toLowerCase()&&(e[n]={type:s,...i}),e}),{})),[c?.symbolSources]);function g(e,t){if("valid"!==t?.status)return(0,i.e)(t,e)}return(0,n.useEffect)((()=>{if(!s||c)return;if(s.symbolSources)return void p(s);let e=!1;return d.requestPromise(`/projects/${l.slug}/${s.slug}/`).then((t=>{e||p(t)})).catch((()=>{})),()=>{e=!0}}),[s,l,d]),(0,n.useEffect)((()=>{if(!c)return;if(!Object.keys(m).length)return;let e=!1;return d.requestPromise(`/projects/${l.slug}/${c.slug}/appstoreconnect/status/`).then((t=>{e||h(t)})).catch((()=>{})),()=>{e=!0}}),[c,l,m,d]),(0,o.tZ)(a.Provider,{value:u&&s?Object.keys(u).reduce(((e,t)=>{const n=u[t];return{...e,[t]:{...n,updateAlertMessage:g({name:m[t].name,link:`/settings/${l.slug}/projects/${s.slug}/debug-symbols/?customRepository=${t}`},n.credentials)}}}),{}):void 0,children:t})};l.displayName="Provider";const d=a},"./app/components/reprocessedBox.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),o=s("./app/components/events/styles.tsx"),a=s("./app/components/links/link.tsx"),l=s("./app/icons/index.tsx"),d=s("./app/locale.tsx"),c=s("./app/styles/space.tsx"),p=s("./app/utils/localStorage.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends r.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isBannerHidden:"true"===p.Z.getItem(this.getBannerUniqueId())}),(0,n.Z)(this,"handleBannerDismiss",(()=>{p.Z.setItem(this.getBannerUniqueId(),"true"),this.setState({isBannerHidden:!0})}))}getBannerUniqueId(){const{reprocessActivity:e}=this.props,{id:t}=e;return`reprocessed-activity-${t}-banner-dismissed`}renderMessage(){const{orgSlug:e,reprocessActivity:t,groupCount:s,groupId:n}=this.props,{data:i}=t,{eventCount:r,oldGroupId:o,newGroupId:l}=i,c=`/organizations/${e}/issues/?query=reprocessing.original_issue_id:${o}&referrer=reprocessed-activity`;return 0===s?(0,d._N)("All events in this issue were moved during reprocessing. [link]",{link:(0,u.tZ)(a.Z,{to:c,children:(0,d.tn)("See %s new event","See %s new events",r)})}):(0,d._N)("Events in this issue were successfully reprocessed. [link]",{link:(0,u.tZ)(a.Z,{to:c,children:l===Number(n)?(0,d.tn)("See %s reprocessed event","See %s reprocessed events",r):(0,d.tn)("See %s new event","See %s new events",r)})})}render(){const{isBannerHidden:e}=this.state;if(e)return null;const{className:t}=this.props;return(0,u.tZ)(o.UP,{priority:"success",className:t,children:(0,u.BX)(g,{children:[(0,u.tZ)(l.DL,{color:"successText",isCircled:!0}),(0,u.tZ)("span",{children:this.renderMessage()}),(0,u.tZ)(Z,{color:"successText","aria-label":(0,d.t)("Dismiss"),isCircled:!0,onClick:this.handleBannerDismiss})]})})}}h.displayName="ReprocessedBox";const m=h,g=(0,i.Z)(o._B,{target:"e17keqf51"})("&>svg:last-child{margin-right:0;margin-left:",(0,c.Z)(1),";}"),Z=(0,i.Z)(l.bM,{target:"e17keqf50"})({name:"e0dnmk",styles:"cursor:pointer"})},"./app/stores/organizationEnvironmentsStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("../node_modules/reflux/src/index.js"),i=s("./app/utils/environment.tsx");const r={state:{environments:null,error:null},init(){this.state={environments:null,error:null}},makeEnvironment:e=>({id:e.id,name:e.name,get displayName(){return(0,i.G)(e)},get urlRoutingName(){return(0,i.z)(e)}}),onFetchEnvironments(){this.state={environments:null,error:null},this.trigger(this.state)},onFetchEnvironmentsSuccess(e){this.state={error:null,environments:e.map(this.makeEnvironment)},this.trigger(this.state)},onFetchEnvironmentsError(e){this.state={error:e,environments:null},this.trigger(this.state)},getState(){return this.state}},o=(0,n.createStore)(r)},"./app/utils/appStoreValidationErrorMessage.tsx":(e,t,s)=>{"use strict";s.d(t,{O:()=>a,e:()=>l}),s("../node_modules/core-js/modules/es.error.cause.js");var n=s("../node_modules/@sentry/core/esm/exports.js"),i=s("./app/components/links/link.tsx"),r=s("./app/locale.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.t)("An unexpected error occurred while configuring the App Store Connect integration");function l(e,t){switch(e.code){case"app-connect-authentication-error":return t?(0,r._N)("App Store Connect credentials are invalid or missing. [linkToCustomRepository]",{linkToCustomRepository:(0,o.tZ)(i.Z,{to:t.link,children:(0,r._N)("Make sure the credentials of the '[customRepositoryName]' repository are correct and exist.",{customRepositoryName:t.name})})}):(0,r.t)("The supplied App Store Connect credentials are invalid or missing.");case"app-connect-forbidden-error":return(0,r.t)("The supplied API key does not have sufficient permissions.");case"app-connect-multiple-sources-error":return(0,r.t)("Only one App Store Connect application is allowed in this project.");default:return n.Tb(new Error("Unknown app store connect error.")),a}}},"./app/utils/environment.tsx":(e,t,s)=>{"use strict";function n(e){return e.name?encodeURIComponent(e.name):e.displayName?encodeURIComponent(e.displayName):"none"}function i(e){return e.name||e.displayName||"(No Environment)"}s.d(t,{G:()=>i,z:()=>n})},"./app/utils/getStacktraceBody.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./app/components/events/interfaces/crashContent/stackTrace/rawContent.tsx");function i(e){if(!e||!e.entries)return[];const t=e.entries.find((e=>{let{type:t}=e;return"exception"===t}));if(!t){const t=e.entries.find((e=>{let{type:t}=e;return"message"===t}));return t?t?.data?.formatted&&[t.data.formatted]:[]}return t.data?t.data.values.filter((e=>!!e.stacktrace)).map((t=>(0,n.ZP)(t.stacktrace,e.platform,t))).reduce(((e,t)=>e.concat(t)),[]):[]}},"./app/utils/performance/quickTrace/quickTraceQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var n=s("../node_modules/react/index.js"),i=s("./app/utils/performance/quickTrace/traceFullQuery.tsx"),r=s("./app/utils/discover/genericDiscoverQuery.tsx"),o=s("./app/utils/performance/quickTrace/utils.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{eventId:t,...s}=e;const n=(0,o.eF)(s);return Object.assign({event_id:t},n)}function d(e){let{children:t}=e;return(0,a.tZ)(n.Fragment,{children:t({isLoading:!1,error:null,trace:null,type:"partial"})})}function c(e){let{traceId:t,start:s,end:n,statsPeriod:i,children:c,...p}=e;if(!t)return(0,a.tZ)(d,{children:c});const u=(0,o._Z)({start:s,end:n,statsPeriod:i});return(0,a.tZ)(r.ZP,{route:`events-trace-light/${t}`,getRequestPayload:l,eventView:u,...p,children:e=>{let{tableData:t,...s}=e;return c({trace:t||null,type:"partial",...s})}})}d.displayName="EmptyTrace",c.displayName="TraceLiteQuery";const p=c;function u(e){let{children:t,event:s,...r}=e;const l=()=>(0,a.tZ)(n.Fragment,{children:t({isLoading:!1,error:null,trace:[],type:"empty",currentEvent:null})});if(!s)return l();const d=s.contexts?.trace?.trace_id;if(!d)return l();const{start:c,end:u}=(0,o.$J)(s);return(0,a.tZ)(p,{eventId:s.id,traceId:d,start:c,end:u,...r,children:e=>(0,a.tZ)(i.g,{eventId:s.id,traceId:d,start:c,end:u,...r,children:n=>{if(!n.isLoading&&null===n.error&&null!==n.traces)for(const e of n.traces)try{const i=(0,o.eW)(s,e);return t({...n,trace:i,currentEvent:i.find((e=>(0,o.q2)(e,s)))??null})}catch{}if(!e.isLoading&&null===e.error&&null!==e.trace){const{trace:n}=e;return t({...e,currentEvent:n.find((e=>(0,o.q2)(e,s)))??null})}return t({isLoading:e.error?n.isLoading:e.isLoading||n.isLoading,error:n.error,trace:[],type:n.traces?.length?"missing":"empty",currentEvent:null})}})})}u.displayName="QuickTraceQuery"},"./app/utils/performance/quickTrace/traceFullQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{H:()=>p,g:()=>c});var n=s("../node_modules/react/index.js"),i=s("./app/utils/discover/genericDiscoverQuery.tsx"),r=s("./app/utils/performance/quickTrace/utils.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{detailed:t,eventId:s,...n}=e;const i=(0,r.eF)(n);return i.detailed=t?"1":"0",s&&(i.event_id=s),i}function l(e){let{children:t}=e;return(0,o.tZ)(n.Fragment,{children:t({isLoading:!1,error:null,traces:null,type:"full"})})}function d(e){let{traceId:t,start:s,end:n,statsPeriod:d,children:c,...p}=e;if(!t)return(0,o.tZ)(l,{children:c});const u=(0,r._Z)({start:s,end:n,statsPeriod:d});return(0,o.tZ)(i.ZP,{route:`events-trace/${t}`,getRequestPayload:a,eventView:u,...p,children:e=>{let{tableData:t,...s}=e;return c({traces:t||null,type:"full",...s})}})}l.displayName="EmptyTrace",d.displayName="GenericTraceFullQuery";const c=e=>(0,o.tZ)(d,{...e,detailed:!1});c.displayName="TraceFullQuery";const p=e=>(0,o.tZ)(d,{...e,detailed:!0});p.displayName="TraceFullDetailedQuery"},"./app/utils/replaceAtArrayIndex.tsx":(e,t,s)=>{"use strict";function n(e,t,s){const n=[...e];return n.splice(t,1,s),n}s.d(t,{m:()=>n})},"./app/views/organizationGroupDetails/groupEventDetails/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{GroupEventDetailsContainer:()=>Hi,default:()=>Qi}),s("../node_modules/core-js/modules/es.array.includes.js");var n=s("./app/components/loadingError.tsx"),i=s("./app/components/loadingIndicator.tsx"),r=s("./app/locale.tsx"),o=s("./app/stores/organizationEnvironmentsStore.tsx"),a=s("./app/stores/useLegacyStore.tsx"),l=s("./app/utils/useApi.tsx"),d=s("./app/utils/withOrganization.tsx"),c=s("./app/utils/withPageFilters.tsx"),p=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),h=s("../node_modules/react/index.js"),m=s("../node_modules/react-router/es/index.js"),g=s("../node_modules/@sentry/core/esm/exports.js"),Z=s("../node_modules/lodash/isEqual.js"),v=s.n(Z),y=s("./app/stores/sentryAppComponentsStore.tsx"),f=s("./app/components/errors/detailedError.tsx"),x=s("./app/components/list/index.tsx"),b=s("./app/components/list/listItem.tsx"),w=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const S=e=>{let{onRetry:t,environments:s}=e;const n=[(0,r.t)("The events are still processing and are on their way"),(0,r.t)("The events have been deleted"),(0,r.t)("There is an internal systems error or active issue")];let i;return i=0===s.length?(0,w.BX)("div",{children:[(0,w.tZ)("p",{children:(0,r.t)("This could be due to a handful of reasons:")}),(0,w.tZ)(x.Z,{symbol:"bullet",children:n.map(((e,t)=>(0,w.tZ)(b.Z,{children:e},t)))})]}):(0,w.tZ)("div",{children:(0,r.t)("No events were found for the currently selected environments")}),(0,w.tZ)(f.Z,{onRetry:0===s.length?t:void 0,heading:(0,r.t)("Sorry, the events for this issue could not be found."),message:i})};S.displayName="GroupEventDetailsLoadingError";const k=S;var I=s("./app/components/events/eventEntries.tsx"),j=s("./app/components/events/meta/metaProxy.tsx"),C=s("../node_modules/crypto-js/md5.js"),_=s.n(C),z=s("../node_modules/lodash/isObject.js"),T=s.n(z),E=s("../node_modules/lodash/keyBy.js"),D=s.n(E),N=s("../node_modules/lodash/pickBy.js"),B=s.n(N),A=s("./app/components/acl/feature.tsx"),P=s("./app/components/avatar/avatarList.tsx"),q=s("./app/components/dateTime.tsx"),F=s("./app/components/environmentPageFilter.tsx"),O=s("./app/components/errorBoundary.tsx"),$=s("./app/components/group/assignedTo.tsx"),R=s("./app/components/alertLink.tsx"),X=s("./app/components/asyncComponent.tsx"),L=s("./app/actionCreators/indicator.tsx"),V=s("./app/actionCreators/modal.tsx"),M=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),U=s("../node_modules/lodash/capitalize.js"),G=s.n(U),Y=s("./app/components/hovercard.tsx"),H=s("./app/icons/index.tsx"),Q=s("./app/styles/space.tsx"),W=s("./app/utils/integrationUtil.tsx");function J(e){let{children:t,disabled:s,externalIssueDisplayName:n,externalIssueId:i,externalIssueKey:o,externalIssueLink:a,hoverCardBody:l,hoverCardHeader:d,integrationType:c,onClose:p,onOpen:u,showHoverCard:m}=e;const g=!(!a||!i),Z=(0,W.Y6)(c),v=(0,h.useMemo)((()=>{switch(c){case"gitlab":return"GitLab";case"github":return"GitHub";case"github_enterprise":return"GitHub Enterprise";case"vsts":return"Azure DevOps";case"jira_server":return"Jira Server";default:return G()(c)}}),[c]),y=t||n||o||`${v} Issue`,f=(0,w.tZ)(ee,{href:a||void 0,onClick:g?void 0:u,disabled:s,children:y});return(0,w.BX)(K,{"data-test-id":"external-issue-item",children:[(0,w.tZ)(M.ms,{children:e=>{let{css:t}=e;return(0,w.BX)(te,{containerClassName:t`
              display: flex;
              align-items: center;
              min-width: 0; /* flex-box overflow workaround */

              svg {
                flex-shrink: 0;
              }
            `,header:d,body:l,bodyClassName:"issue-list-body",forceVisible:m,children:[Z,f]})}}),(p||u)&&(0,w.tZ)(se,{role:"button","aria-label":g?(0,r.t)("Close"):(0,r.t)("Add"),onClick:()=>{g?p?.(i):u?.()},children:g?(0,w.tZ)(H.bM,{}):u?(0,w.tZ)(H.N_,{}):null})]})}J.displayName="IssueSyncListElement";const K=(0,u.Z)("div",{target:"ea4nvig3"})("line-height:0;display:flex;align-items:center;justify-content:space-between;&:not(:last-child){margin-bottom:",(0,Q.Z)(2),";}"),ee=(0,u.Z)("a",{target:"ea4nvig2"})("text-decoration:none;margin-left:",(0,Q.Z)(1),";color:",(e=>e.theme.textColor),";cursor:pointer;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:hover{color:",(e=>{let{disabled:t,theme:s}=e;return t?s.disabled:s.linkColor}),";}"),te=(0,u.Z)(Y.uI,{target:"ea4nvig1"})(Y.uT,"{max-height:300px;overflow-y:auto;}"),se=(0,u.Z)("span",{target:"ea4nvig0"})("color:",(e=>e.theme.textColor),";cursor:pointer;"),ne=J;var ie=s("./app/views/organizationIntegrations/integrationItem.tsx"),re=s("../node_modules/@sentry/core/esm/hub.js"),oe=s("./app/components/externalIssues/abstractExternalIssueForm.tsx"),ae=s("./app/components/navTabs.tsx");const le={link:(0,r.t)("Successfully linked issue."),create:(0,r.t)("Successfully created issue.")},de={link:(0,r.t)("Link Issue"),create:(0,r.t)("Create Issue")};class ce extends oe.Z{constructor(e){super(e,{}),(0,p.Z)(this,"loadTransaction",void 0),(0,p.Z)(this,"submitTransaction",void 0),(0,p.Z)(this,"handleClick",(e=>{this.setState({action:e},(()=>this.reloadData()))})),(0,p.Z)(this,"startTransaction",(e=>{const{group:t,integration:s}=this.props,{action:n}=this.state,i=g.Yr({name:`externalIssueForm.${e}`});return re.Gd().configureScope((e=>e.setSpan(i))),i.setTag("issueAction",n),i.setTag("groupID",t.id),i.setTag("projectID",t.project.id),i.setTag("integrationSlug",s.provider.slug),i.setTag("integrationType","firstParty"),i})),(0,p.Z)(this,"handlePreSubmit",(()=>{this.submitTransaction=this.startTransaction("submit")})),(0,p.Z)(this,"onSubmitSuccess",(e=>{const{onChange:t,closeModal:s}=this.props,{action:n}=this.state;t((()=>(0,L.S9)(le[n]))),s(),this.submitTransaction?.finish()})),(0,p.Z)(this,"handleSubmitError",(()=>{this.submitTransaction?.finish()})),(0,p.Z)(this,"onLoadAllEndpointsSuccess",(()=>{this.loadTransaction?.finish()})),(0,p.Z)(this,"onRequestError",(()=>{this.loadTransaction?.finish()})),(0,p.Z)(this,"getTitle",(()=>{const{integration:e}=this.props;return(0,r._N)("[integration] Issue",{integration:e.provider.name})})),(0,p.Z)(this,"getFormProps",(()=>{const{action:e}=this.state;return{...this.getDefaultFormProps(),submitLabel:de[e],apiEndpoint:this.getEndPointString(),apiMethod:"create"===e?"POST":"PUT",onPreSubmit:this.handlePreSubmit,onSubmitError:this.handleSubmitError,onSubmitSuccess:this.onSubmitSuccess}})),(0,p.Z)(this,"renderNavTabs",(()=>{const{action:e}=this.state;return(0,w.BX)(ae.Z,{underlined:!0,children:[(0,w.tZ)("li",{className:"create"===e?"active":"",children:(0,w.tZ)("a",{onClick:()=>this.handleClick("create"),children:(0,r.t)("Create")})}),(0,w.tZ)("li",{className:"link"===e?"active":"",children:(0,w.tZ)("a",{onClick:()=>this.handleClick("link"),children:(0,r.t)("Link")})})]})})),this.loadTransaction=this.startTransaction("load")}getEndpoints(){const e={};return this.state?.hasOwnProperty("action")&&(e.action=this.state.action),[["integrationDetails",this.getEndPointString(),{query:e}]]}getEndPointString(){const{group:e,integration:t}=this.props;return`/groups/${e.id}/integrations/${t.id}/`}renderBody(){return this.renderForm(this.getCleanedFields())}}const pe=e=>{let{configurations:t,group:s,onChange:n}=e;const i=(0,l.Z)(),{linked:o,unlinked:a}=t.sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()))).reduce(((e,t)=>(t.externalIssues.length?e.linked.push(t):e.unlinked.push(t),e)),{linked:[],unlinked:[]}),d=e=>(0,V.openModal)((t=>(0,w.tZ)(ce,{...t,group:s,onChange:n,integration:e})),{allowClickClose:!1});return(0,w.BX)(h.Fragment,{children:[o.map((e=>{const{provider:t,externalIssues:o}=e,a=o[0];return(0,w.tZ)(ne,{externalIssueLink:a.url,externalIssueId:a.id,externalIssueKey:a.key,externalIssueDisplayName:a.displayName,onClose:()=>(e=>{const{externalIssues:t}=e,o=t[0],{id:a}=o,l=`/groups/${s.id}/integrations/${e.id}/?externalIssue=${a}`;i.request(l,{method:"DELETE",success:()=>{n((()=>(0,L.S9)((0,r.t)("Successfully unlinked issue."))),(()=>(0,L.Iw)((0,r.t)("Unable to unlink issue."))))},error:()=>{(0,L.Iw)((0,r.t)("Unable to unlink issue."))}})})(e),integrationType:t.key,hoverCardHeader:(0,r.t)("%s Integration",t.name),hoverCardBody:(0,w.BX)("div",{children:[(0,w.tZ)(ue,{children:a.title}),a.description&&(0,w.tZ)(he,{children:a.description})]})},a.id)})),a.length>0&&(0,w.tZ)(ne,{integrationType:a[0].provider.key,hoverCardHeader:(0,r.t)("%s Integration",a[0].provider.name),hoverCardBody:(0,w.tZ)(ge,{children:a.map((e=>(0,w.tZ)(me,{onClick:()=>d(e),children:(0,w.tZ)(ie.Z,{integration:e})},e.id)))}),onOpen:1===a.length?()=>d(a[0]):void 0})]})};pe.displayName="ExternalIssueActions";const ue=(0,u.Z)("div",{target:"ekb3y1q3"})("font-size:1.1em;font-weight:600;",(e=>e.theme.overflowEllipsis),";"),he=(0,u.Z)("div",{target:"ekb3y1q2"})("margin-top:",(0,Q.Z)(1),";",(e=>e.theme.overflowEllipsis),";"),me=(0,u.Z)("div",{target:"ekb3y1q1"})("margin-bottom:",(0,Q.Z)(2),";cursor:pointer;"),ge=(0,u.Z)("div",{target:"ekb3y1q0"})("&>div:last-child{margin-bottom:",(0,Q.Z)(1),";}"),Ze=pe;var ve=s("./app/plugins/index.tsx"),ye=s("./app/utils/withApi.tsx");class fe extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"state",{issue:null,pluginLoading:!1}),(0,p.Z)(this,"deleteIssue",(()=>{const e={...this.props.plugin,issue:null},t=`/issues/${this.props.group.id}/plugins/${e.slug}/unlink/`;this.props.api.request(t,{success:()=>{this.loadPlugin(e),(0,L.S9)((0,r.t)("Successfully unlinked issue."))},error:()=>{(0,L.Iw)((0,r.t)("Unable to unlink issue"))}})})),(0,p.Z)(this,"loadPlugin",(e=>{this.setState({pluginLoading:!0},(()=>{ve.ZP.load(e,(()=>{const t=e.issue||null;this.setState({pluginLoading:!1,issue:t})}))}))})),(0,p.Z)(this,"handleModalClose",(e=>this.setState({issue:e?.id&&e?.link?{issue_id:e.id,url:e.link,label:e.label}:null}))),(0,p.Z)(this,"openModal",(()=>{const{issue:e}=this.state,{project:t,group:s,organization:n}=this.props,i={...this.props.plugin,issue:e};(0,V.openModal)((e=>(0,w.tZ)(xe,{...e,project:t,group:s,organization:n,plugin:i,onSuccess:this.handleModalClose})),{onClose:this.handleModalClose})}))}componentDidMount(){this.loadPlugin(this.props.plugin)}componentDidUpdate(e){this.props.plugin.id!==e.plugin.id&&this.loadPlugin(this.props.plugin)}render(){const{issue:e}=this.state,t={...this.props.plugin,issue:e};return(0,w.tZ)(ne,{onOpen:this.openModal,externalIssueDisplayName:e?e.label:null,externalIssueId:e?e.issue_id:null,externalIssueLink:e?e.url:null,onClose:this.deleteIssue,integrationType:t.id})}}fe.displayName="PluginActions";class xe extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"state",{actionType:"create"})}render(){const{Header:e,Body:t,group:s,project:n,organization:i,plugin:o,onSuccess:a}=this.props,{actionType:l}=this.state;return(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(e,{closeButton:!0,children:(0,r._N)("[name] Issue",{name:o.name||o.title})}),(0,w.BX)(ae.Z,{underlined:!0,children:[(0,w.tZ)("li",{className:"create"===l?"active":"",children:(0,w.tZ)("a",{onClick:()=>this.setState({actionType:"create"}),children:(0,r.t)("Create")})}),(0,w.tZ)("li",{className:"link"===l?"active":"",children:(0,w.tZ)("a",{onClick:()=>this.setState({actionType:"link"}),children:(0,r.t)("Link")})})]}),l&&(0,w.tZ)(t,{children:ve.ZP.get(o).renderGroupActions({plugin:o,group:s,project:n,organization:i,actionType:l,onSuccess:a})},l)]})}}xe.displayName="PluginActionsModal";const be=(0,ye.Z)((0,d.Z)(fe));var we=s("./app/components/sentryAppComponentIcon.tsx"),Se=s("./app/components/tooltip.tsx"),ke=s("./app/utils/recordSentryAppInteraction.tsx"),Ie=s("../node_modules/reflux/src/index.js");const je={init(){this.items=[]},getInitialState(){return this.items},load(e){this.items=e,this.trigger(e)},get(e){return this.items.find((t=>t.id===e))},getAll(){return this.items},add(e){this.items.some((t=>t.id===e.id))||(this.items=this.items.concat([e]),this.trigger(this.items))}},Ce=(0,Ie.createStore)(je);var _e=s("./app/utils/getStacktraceBody.tsx"),ze=s("./app/utils/queryString.tsx"),Te=s("./app/views/organizationIntegrations/sentryAppExternalForm.tsx");class Ee extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"onSubmitSuccess",(e=>{Ce.add(e),this.props.onSubmitSuccess(e)}))}getStacktrace(){const e=this.props.event,t=(0,_e.Z)(e);return t&&t.length>0?"\n\n```\n"+t[0]+"\n```":""}getFieldDefault(e){const{group:t,appName:s}=this.props;switch("textarea"===e.type&&(e.maxRows=10,e.autosize=!0),e.default){case"issue.title":return t.title;case"issue.description":const e=this.getStacktrace(),n={referrer:s},i=(0,ze.Yi)(t.permalink,n),o=t.shortId;return(0,r.t)("Sentry Issue: [%s](%s)%s",o,i,e);default:return""}}render(){return(0,w.tZ)(Te.Z,{sentryAppInstallationUuid:this.props.sentryAppInstallation.uuid,appName:this.props.appName,config:this.props.config,action:this.props.action,element:"issue-link",extraFields:{groupId:this.props.group.id},extraRequestBody:{projectId:this.props.group.project.id},onSubmitSuccess:this.onSubmitSuccess,getFieldDefault:e=>this.getFieldDefault(e)})}}Ee.displayName="SentryAppExternalIssueForm";const De=Ee;class Ne extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"state",{action:"create"}),(0,p.Z)(this,"showLink",(()=>{this.setState({action:"link"})})),(0,p.Z)(this,"showCreate",(()=>{this.setState({action:"create"})})),(0,p.Z)(this,"onSubmitSuccess",(e=>{this.props.onSubmitSuccess(e),this.props.closeModal()}))}render(){const{Header:e,Body:t,sentryAppComponent:s,sentryAppInstallation:n,group:i}=this.props,{action:o}=this.state,a=s.sentryApp.name,l=s.schema[o];return(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(e,{closeButton:!0,children:(0,r._N)("[name] Issue",{name:a})}),(0,w.BX)(ae.Z,{underlined:!0,children:[(0,w.tZ)("li",{className:"create"===o?"active create":"create",children:(0,w.tZ)("a",{onClick:this.showCreate,children:(0,r.t)("Create")})}),(0,w.tZ)("li",{className:"link"===o?"active link":"link",children:(0,w.tZ)("a",{onClick:this.showLink,children:(0,r.t)("Link")})})]}),(0,w.tZ)(t,{children:(0,w.tZ)(De,{group:i,sentryAppInstallation:n,appName:a,config:l,action:o,onSubmitSuccess:this.onSubmitSuccess,event:this.props.event})})]})}}Ne.displayName="SentryAppExternalIssueModal";const Be=(0,ye.Z)(Ne);class Ae extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"state",{action:"create",externalIssue:this.props.externalIssue}),(0,p.Z)(this,"doOpenModal",(e=>{if(this.state.externalIssue)return;const{group:t,event:s,sentryAppComponent:n,sentryAppInstallation:i}=this.props;(0,ke.E)(n.sentryApp.slug,"sentry_app_component_interacted",{componentType:"issue-link"}),e?.preventDefault(),(0,V.openModal)((e=>(0,w.tZ)(Be,{...e,group:t,event:s,sentryAppComponent:n,sentryAppInstallation:i,onSubmitSuccess:this.onSubmitSuccess})),{allowClickClose:!1})})),(0,p.Z)(this,"deleteIssue",(()=>{const{api:e,group:t}=this.props,{externalIssue:s}=this.state;s&&async function(e,t,s){return await e.requestPromise(`/issues/${t}/external-issues/${s}/`,{method:"DELETE"})}(e,t.id,s.id).then((e=>{this.setState({externalIssue:void 0}),(0,L.S9)((0,r.t)("Successfully unlinked issue."))})).catch((e=>{(0,L.Iw)((0,r.t)("Unable to unlink issue."))}))})),(0,p.Z)(this,"onAddRemoveClick",(()=>{const{externalIssue:e}=this.state;e?this.deleteIssue():this.doOpenModal()})),(0,p.Z)(this,"onSubmitSuccess",(e=>{this.setState({externalIssue:e})}))}componentDidUpdate(e){this.props.externalIssue!==e.externalIssue&&this.updateExternalIssue(this.props.externalIssue)}updateExternalIssue(e){this.setState({externalIssue:e})}render(){const{sentryAppComponent:e,disabled:t}=this.props,{externalIssue:s}=this.state,n=e.sentryApp.name;let i="#",o=(0,r.t)("%s Issue",n);return s&&(i=s.webUrl,o=s.displayName),(0,w.BX)(Oe,{children:[(0,w.BX)(qe,{children:[(0,w.tZ)(Pe,{sentryAppComponent:e}),(0,w.tZ)(Se.Z,{title:(0,r._N)("Unable to connect to [provider].",{provider:e.sentryApp.name}),disabled:!t,skipWrapper:!0,children:(0,w.tZ)(Fe,{onClick:e=>t?e.preventDefault():this.doOpenModal(),href:t?void 0:i,disabled:t,children:o})})]}),!t&&(0,w.tZ)($e,{onClick:()=>!t&&this.onAddRemoveClick(),children:s?(0,w.tZ)(H.bM,{"aria-label":(0,r.t)("Remove")}):(0,w.tZ)(H.N_,{"aria-label":(0,r.t)("Add")})})]})}}Ae.displayName="SentryAppExternalIssueActions";const Pe=(0,u.Z)(we.Z,{target:"e1txsdtz4"})("color:",(e=>e.theme.textColor),";width:",(0,Q.Z)(3),";height:",(0,Q.Z)(3),";cursor:pointer;flex-shrink:0;"),qe=(0,u.Z)("div",{target:"e1txsdtz3"})({name:"p2fe58",styles:"display:flex;align-items:center;min-width:0"}),Fe=(0,u.Z)(ee,{target:"e1txsdtz2"})("color:",(e=>{let{disabled:t,theme:s}=e;return t?s.disabled:s.textColor}),";",(e=>e.disabled&&"cursor: not-allowed;"),";"),Oe=(0,u.Z)("div",{target:"e1txsdtz1"})({name:"1ctrpvd",styles:"line-height:0;display:flex;align-items:center;justify-content:space-between;margin-bottom:16px"}),$e=(0,u.Z)("span",{target:"e1txsdtz0"})("color:",(e=>e.theme.textColor),";cursor:pointer;"),Re=(0,ye.Z)(Ae);var Xe=s("./app/components/placeholder.tsx"),Le=s("./app/components/sidebarSection.tsx");const Ve={init(){this.items=[]},getInitialState(){return this.items},load(e){this.items=e,this.trigger(e)},get(e){return this.items.find((t=>t.uuid===e))},getAll(){return this.items}},Me=(0,Ie.createStore)(Ve);var Ue=s("./app/utils/withSentryAppComponents.tsx");class Ge extends X.Z{getEndpoints(){const{group:e}=this.props;return[["integrations",`/groups/${e.id}/integrations/`]]}constructor(e){super(e,{}),(0,p.Z)(this,"unsubscribables",[]),(0,p.Z)(this,"onSentryAppInstallationChange",(e=>{this.setState({sentryAppInstallations:e})})),(0,p.Z)(this,"onExternalIssueChange",(e=>{this.setState({externalIssues:e})})),this.state=Object.assign({},this.state,{sentryAppInstallations:Me.getInitialState(),externalIssues:Ce.getInitialState()})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.unsubscribables=[Me.listen(this.onSentryAppInstallationChange,this),Ce.listen(this.onExternalIssueChange,this)],this.fetchSentryAppData()}componentWillUnmount(){super.componentWillUnmount(),this.unsubscribables.forEach((e=>e()))}fetchSentryAppData(){const{group:e,project:t,organization:s}=this.props;t&&t.id&&s&&this.api.requestPromise(`/groups/${e.id}/external-issues/`).then((e=>{Ce.load(e),this.setState({externalIssues:e})})).catch((e=>{}))}async updateIntegrations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{const{group:t}=this.props,s=await this.api.requestPromise(`/groups/${t.id}/integrations/`);this.setState({integrations:s},(()=>e()))}catch(e){t()}}renderIntegrationIssues(){const{group:e}=this.props;return[...(this.state.integrations??[]).filter((e=>"active"===e.status)).reduce(((e,t)=>{const s=e.get(t.provider.key);return s?e.set(t.provider.key,[...s,t]):e.set(t.provider.key,[t]),e}),new Map).entries()].map((t=>{let[s,n]=t;return{key:s,disabled:!1,hasLinkedIssue:n.some((e=>e.externalIssues.length>0)),component:(0,w.tZ)(Ze,{configurations:n,group:e,onChange:this.updateIntegrations.bind(this)})}}))}renderSentryAppIssues(){const{externalIssues:e,sentryAppInstallations:t}=this.state,{components:s,group:n}=this.props;return s.map((s=>{const{sentryApp:i,error:r}=s,o=t.find((e=>e.app.uuid===i.uuid));if(!o)return null;const a=(e||[]).find((e=>e.serviceType===i.slug));return{key:i.slug,disabled:r,hasLinkedIssue:!!a,component:(0,w.tZ)(O.Z,{mini:!0,children:(0,w.tZ)(Re,{group:n,event:this.props.event,sentryAppComponent:s,sentryAppInstallation:o,externalIssue:a,disabled:r})},i.slug)}})).filter((e=>null!==e))}renderPluginIssues(){const{group:e,project:t}=this.props;return e.pluginIssues?.map(((s,n)=>({key:`plugin-issue-${n}`,disabled:!1,hasLinkedIssue:!0,component:(0,w.tZ)(be,{group:e,project:t,plugin:s})})))}renderPluginActions(){const{group:e}=this.props;return e.pluginActions?.map(((e,t)=>({key:`plugin-action-${t}`,disabled:!1,hasLinkedIssue:!1,component:(0,w.tZ)(ne,{externalIssueLink:e[1],children:e[0]})})))??[]}renderLoading(){return(0,w.BX)(Le.Eq,{"data-test-id":"linked-issues",children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Linked Issues")}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(Xe.Z,{height:"120px"})})]})}renderBody(){const e=[...this.renderSentryAppIssues(),...this.renderIntegrationIssues(),...this.renderPluginIssues(),...this.renderPluginActions()],t=0===e.length;return(0,w.BX)(Le.Eq,{"data-test-id":"linked-issues",children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Issue Tracking")}),(0,w.BX)(Le.VY,{children:[t&&(0,w.tZ)(R.Z,{priority:"muted",size:"small",to:`/settings/${this.props.organization.slug}/integrations/?category=issue%20tracking`,children:(0,r.t)("Track this issue in Jira, GitHub, etc.")}),e.sort(((e,t)=>Number(e.disabled)-Number(t.disabled))).sort(((e,t)=>Number(t.hasLinkedIssue)-Number(e.hasLinkedIssue))).map((e=>{let{component:t,key:s}=e;return(0,w.tZ)(h.Fragment,{children:t},s)}))]})]})}}const Ye=(0,Ue.Z)((0,d.Z)(Ge),{componentType:"issue-link"});var He=s("./app/components/acl/access.tsx"),Qe=s("./app/components/avatar/actorAvatar.tsx"),We=s("./app/components/button.tsx"),Je=s("./app/components/links/link.tsx"),Ke=s("./app/components/questionTooltip.tsx"),et=s("./app/stores/memberListStore.tsx"),tt=s("./app/utils.tsx");function st(e){let{group:t,project:s,organization:n}=e;const i=(0,a.X)(et.Z),o=t.owners?.find((e=>{let{type:t}=e;return["codeowners","ownershipRule"].includes(t)}));let l;if(o){const[e,t]=o.owner.split(":");if("user"===e){const e=i.find((e=>e.id===t));e&&(l={type:"user",id:t,name:e.name})}else if("team"===e){const e=(s?.teams??[]).find((e=>{let{id:t}=e;return(0,tt.dZ)(t)===o.owner}));e&&(l={type:"team",id:t,name:e.slug})}}return(0,w.BX)(Le.Eq,{children:[(0,w.BX)(lt,{children:[(0,w.BX)(dt,{children:[(0,r.t)("Owned By"),(0,w.tZ)(Ke.Z,{position:"top",title:(0,r.t)("Set rules on which user or team owns an issue based on path, module, tag, or URL"),size:"sm",color:"gray200"})]}),(0,w.BX)(ct,{children:[(0,w.tZ)(He.Z,{access:["project:write"],children:(0,w.tZ)(We.ZP,{type:"button",onClick:()=>{(0,V.openCreateOwnershipRule)({project:s,organization:n,issueId:t.id})},"aria-label":(0,r.t)("Create Ownership Rule"),icon:(0,w.tZ)(H.N_,{}),size:"zero",borderless:!0})}),(0,w.tZ)(at,{to:`/settings/${n.slug}/projects/${s.slug}/ownership/`,"aria-label":(0,r.t)("Issue Owners Settings"),children:(0,w.tZ)(H.iC,{})})]})]}),(0,w.tZ)(Le.VY,{children:(0,w.BX)(it,{children:[l?(0,w.tZ)(Qe.Z,{"data-test-id":"owner-avatar",actor:l,hasTooltip:!1,size:24}):(0,w.tZ)(ot,{children:(0,w.tZ)(H.qO,{size:"md"})}),(0,w.tZ)(rt,{children:"team"===l?.type?`#${l?.name}`:l?.name??(0,r.t)("No-one")})]})})]})}st.displayName="OwnedBy";const nt=st,it=(0,u.Z)("div",{target:"ep848286"})("display:flex;align-items:center;gap:",(0,Q.Z)(1),";max-width:85%;line-height:1;"),rt=(0,u.Z)("div",{target:"ep848285"})("line-height:1.2;",(e=>e.theme.overflowEllipsis),";"),ot=(0,u.Z)("div",{target:"ep848284"})("display:flex;padding:",(0,Q.Z)(.25),";"),at=(0,u.Z)(Je.Z,{target:"ep848283"})("display:flex;align-items:center;color:",(e=>e.theme.textColor),";"),lt=(0,u.Z)(Le.Dx,{target:"ep848282"})({name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"}),dt=(0,u.Z)("div",{target:"ep848281"})("display:flex;align-items:center;gap:",(0,Q.Z)(.5),";"),ct=(0,u.Z)("div",{target:"ep848280"})("display:flex;align-items:center;gap:",(0,Q.Z)(1),";");var pt=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),ut=s("./app/components/charts/miniBarChart.tsx"),ht=s("./app/components/count.tsx"),mt=s("./app/utils/dates.tsx"),gt=s("./app/utils/formatters.tsx");function Zt(e){const{group:t,lastSeen:s,firstSeen:n,statsPeriod:i,release:o,releaseStats:a,environment:l,environmentLabel:d,environmentStats:c,title:p}=e,u=(0,pt.u)(),h=t.stats[i],m=c?.[i];if(!h||!h.length||!m)return null;const g=[];l&&g.push({seriesName:(0,r.t)("Events"),data:h.map((e=>({name:1e3*e[0],value:e[1]})))}),g.push({seriesName:(0,r.t)("Events in %s",d),data:c[i].map((e=>({name:1e3*e[0],value:e[1]})))}),o&&a&&g.push({seriesName:(0,r.t)("Events in release %s",(0,gt.ko)(o.version)),data:a[i].map((e=>({name:1e3*e[0],value:e[1]})))});const Z=(l&&c?c[i]:h).reduce(((e,t)=>e+t[1]),0);return g[0].markPoint=function(e,t,s,n){const i=[],o=1e3*t[0][0],a=new Date(s??0).getTime(),l=new Date(n??0).getTime(),d=l-a;if(s&&t.length>2&&a>=o&&d>36e5){const s=t.findIndex((e=>{let[t]=e;return 1e3*t>a}));let n;if(s>0){const e=1e3*(t[1][0]-t[0][0])/2;n=1e3*t[s-1][0]-e}i.push({name:(0,r.t)("First seen"),value:n??a,displayValue:a,color:e.pink300})}n&&l>=o&&i.push({name:(0,r.t)("Last seen"),value:l,displayValue:l,color:e.green300});const c={show:!0,trigger:"item",formatter:e=>{let{data:t}=e;const s=(0,mt.L0)(t.displayValue,"MMM D, YYYY LT",{local:!0});return['<div class="tooltip-series">',`<div><span class="tooltip-label"><strong>${t.name}</strong></span></div>`,"</div>",`<div class="tooltip-footer">${s}</div>`,"</div>",'<div class="tooltip-arrow"></div>'].join("")}};return{data:i.map((t=>({name:t.name,coord:[t.value,0],tooltip:c,displayValue:t.displayValue,symbol:"circle",symbolSize:8,itemStyle:{color:t.color,borderColor:e.background}})))}}(u,h,n,s),(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:p}),(0,w.BX)(Le.VY,{children:[(0,w.tZ)(vt,{children:(0,w.tZ)(ht.Z,{value:Z})}),(0,w.tZ)(ut.Z,{isGroupedByDate:!0,showTimeInTooltip:!0,showMarkLineLabel:!0,height:42,colors:l?void 0:[u.purple300,u.purple300],series:g,grid:{top:6,bottom:4,left:4,right:4}})]})]})}Zt.displayName="GroupReleaseChart";const vt=(0,u.Z)("div",{target:"exfbo00"})("line-height:1;font-size:",(e=>e.theme.fontSizeExtraLarge),";"),yt=Zt;var ft=s("./app/components/timeSince.tsx"),xt=s("./app/components/version.tsx"),bt=s("./app/components/versionHoverCard.tsx");function wt(e){let{date:t,dateGlobal:s,environment:n,release:i,organization:o,projectSlug:a,projectId:l}=e;return(0,w.BX)(kt,{children:[(0,w.tZ)(Dt,{showUnderline:!0,header:(0,w.BX)("div",{children:[(0,w.BX)(Tt,{children:[(0,r.t)("Any Environment"),(0,w.tZ)(ft.Z,{date:s,disabledAbsoluteTooltip:!0})]}),n&&(0,w.BX)(Tt,{children:[(0,tt.LF)(n),t?(0,w.tZ)(ft.Z,{date:t,disabledAbsoluteTooltip:!0}):(0,w.tZ)("span",{children:(0,r.t)("N/A")})]})]}),body:t?(0,w.tZ)(jt,{date:t}):(0,w.tZ)(Ct,{children:(0,r.t)("N/A for %s",n)}),position:"top",children:(0,w.tZ)(It,{children:t?(0,w.tZ)(zt,{children:(0,w.tZ)(Et,{date:t,disabledAbsoluteTooltip:!0})}):s&&""===n?(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(ft.Z,{date:s,disabledAbsoluteTooltip:!0}),(0,w.tZ)(Et,{date:s,disabledAbsoluteTooltip:!0})]}):(0,w.tZ)(_t,{children:(0,r.t)("N/A")})})}),(0,w.tZ)(It,{children:(0,tt.ri)(i)&&(0,w.BX)(h.Fragment,{children:[(0,r.t)("in release "),(0,w.tZ)(bt.ZP,{organization:o,projectSlug:a,releaseVersion:i.version,children:(0,w.tZ)("span",{children:(0,w.tZ)(xt.Z,{version:i.version,projectId:l})})})]})})]})}wt.displayName="SeenInfo";const St=e=>(0,M.iv)("color:",e.theme.gray300,";font-size:",e.theme.fontSizeMedium,";display:flex;justify-content:center;",""),kt=(0,u.Z)("div",{target:"e1rgwh4r8"})({name:"gl2qrx",styles:"display:flex;align-items:baseline"}),It=(0,u.Z)("div",{target:"e1rgwh4r7"})("margin-bottom:0;",(e=>e.theme.overflowEllipsis),";"),jt=(0,u.Z)(q.Z,{target:"e1rgwh4r6"})(St,";"),Ct=(0,u.Z)("div",{target:"e1rgwh4r5"})(St,";"),_t=(0,u.Z)("span",{target:"e1rgwh4r4"})("margin-right:",(0,Q.Z)(.5),";"),zt=(0,u.Z)("span",{target:"e1rgwh4r3"})("margin-right:",(0,Q.Z)(.25),";svg{margin-right:",(0,Q.Z)(.5),";position:relative;top:1px;}"),Tt=(0,u.Z)("div",{target:"e1rgwh4r2"})("margin-bottom:",(0,Q.Z)(.5),";display:flex;justify-content:space-between;"),Et=(0,u.Z)(ft.Z,{target:"e1rgwh4r1"})("font-size:",(e=>e.theme.fontSizeMedium),";line-height:1.2;"),Dt=(0,u.Z)(Y.uI,{target:"e1rgwh4r0"})("width:250px;",Y.h4,"{font-weight:normal;border-bottom:1px solid ",(e=>e.theme.innerBorder),";}",Y.uT,"{padding:",(0,Q.Z)(1.5),";}"),Nt=wt;var Bt=s("./app/utils/getDynamicText.tsx");const At=e=>{let{organization:t,project:s,environments:n,allEnvironments:i,group:o,currentRelease:a}=e;const l=n.length>0?n.map((e=>e.displayName)).join(", "):void 0,d=l||(0,r.t)("All Environments"),c=n.length>1?(0,r.t)("selected environments"):1===n.length?n[0].displayName:void 0,p=s.id,u=s.slug,m=new Set(s.features).has("releases"),g=`/settings/${t.slug}/projects/${s.slug}/release-tracking/`;return(0,w.tZ)("div",{children:o&&i?(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(Ft,{children:(0,w.tZ)(yt,{group:i,environment:l,environmentLabel:d,environmentStats:o.stats,release:a?.release,releaseStats:a?.stats,statsPeriod:"24h",title:(0,r.t)("Last 24 Hours"),firstSeen:o.firstSeen,lastSeen:o.lastSeen})}),(0,w.tZ)(Ft,{children:(0,w.tZ)(yt,{group:i,environment:l,environmentLabel:d,environmentStats:o.stats,release:a?.release,releaseStats:a?.stats,statsPeriod:"30d",title:(0,r.t)("Last 30 Days"),className:"bar-chart-small",firstSeen:o.firstSeen,lastSeen:o.lastSeen})}),(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,w.BX)(h.Fragment,{children:[(0,r.t)("Last Seen"),(0,w.tZ)(qt,{children:(0,w.tZ)(Se.Z,{title:(0,r.t)("When the most recent event in this issue was captured."),disableForVisualTest:!0,children:(0,w.tZ)(H.BS,{size:"sm",color:"gray200"})})})]})}),(0,w.tZ)(Ot,{children:(0,w.tZ)(Nt,{organization:t,projectId:p,projectSlug:u,date:(0,Bt.Z)({value:o.lastSeen,fixed:"2016-01-13T03:08:25Z"}),dateGlobal:i.lastSeen,hasRelease:m,environment:c,release:o.lastRelease||null,title:(0,r.t)("Last Seen")})})]}),(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,w.BX)(h.Fragment,{children:[(0,r.t)("First Seen"),(0,w.tZ)(qt,{children:(0,w.tZ)(Se.Z,{title:(0,r.t)("When the first event in this issue was captured."),disableForVisualTest:!0,children:(0,w.tZ)(H.BS,{size:"sm",color:"gray200"})})})]})}),(0,w.tZ)(Ot,{children:(0,w.tZ)(Nt,{organization:t,projectId:p,projectSlug:u,date:(0,Bt.Z)({value:o.firstSeen,fixed:"2015-08-13T03:08:25Z"}),dateGlobal:i.firstSeen,hasRelease:m,environment:c,release:o.firstRelease||null,title:(0,r.t)("First seen")})})]}),m?null:(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Releases")}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(R.Z,{priority:"muted",size:"small",to:g,children:(0,r.t)("See which release caused this issue ")})})]})]}):(0,w.tZ)(Xe.Z,{height:"288px"})})};At.displayName="GroupReleaseStats";const Pt=(0,h.memo)(At),qt=(0,u.Z)("span",{target:"e1ey6wx72"})("margin-left:",(0,Q.Z)(.5),";"),Ft=(0,u.Z)("div",{target:"e1ey6wx71"})("margin-bottom:",(0,Q.Z)(3),";"),Ot=(0,u.Z)(Le.VY,{target:"e1ey6wx70"})("margin-top:",(0,Q.Z)(.5),";");var $t=s("./app/actionCreators/group.tsx"),Rt=s("./app/utils/useCommitters.tsx"),Xt=s("./app/utils/useOrganization.tsx");var Lt=s("../node_modules/moment/moment.js"),Vt=s.n(Lt),Mt=s("./app/components/alert.tsx"),Ut=s("./app/components/commitLink.tsx"),Gt=s("./app/utils/theme.tsx");class Yt extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"state",{commitsExpanded:!1,rulesExpanded:!1})}render(){const{organization:e,actor:t,commits:s,rules:n,release:i,projectId:o,...a}=this.props,{commitsExpanded:l,rulesExpanded:d}=this.state,c={initialData:[{emails:t.email?new Set([t.email]):new Set([])}],source:"suggested_assignees"};return(0,w.tZ)(Qt,{skipWrapper:!0,header:(0,w.BX)(h.Fragment,{children:[(0,w.BX)(as,{children:[(0,w.tZ)(Qe.Z,{size:20,hasTooltip:!1,actor:t}),t.name||t.email]}),void 0===t.id&&(0,w.tZ)(os,{type:"warning",showIcon:!0,children:(0,r._N)("The email [actorEmail] is not a member of your organization. [inviteUser:Invite] them or link additional emails in [accountSettings:account settings].",{actorEmail:(0,w.tZ)("strong",{children:t.email}),accountSettings:(0,w.tZ)(Je.Z,{to:"/settings/account/emails/"}),inviteUser:(0,w.tZ)("a",{onClick:()=>(0,V.openInviteMembersModal)(c)})})})]}),body:(0,w.BX)(ls,{children:[void 0!==s&&!i&&(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(Y.iz,{children:(0,w.tZ)("h6",{children:(0,r.t)("Commits")})}),(0,w.tZ)("div",{children:s.slice(0,l?s.length:3).map(((e,t)=>{let{message:s,dateCreated:n}=e;return(0,w.BX)(es,{children:[(0,w.tZ)(Wt,{}),(0,w.tZ)(Jt,{message:s??void 0,date:n})]},t)}))}),s.length>3&&!l?(0,w.tZ)(ns,{priority:"link",size:"zero",onClick:()=>this.setState({commitsExpanded:!0}),children:(0,r.t)("View more")}):null]}),void 0!==s&&i&&(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(Y.iz,{children:(0,w.tZ)("h6",{children:(0,r.t)("Suspect Release")})}),(0,w.tZ)("div",{children:(0,w.BX)(es,{children:[(0,w.tZ)(ss,{tagType:"release"}),(0,w.tZ)(rs,{children:(0,r._N)("[actor] [verb] [commits] in [release]",{actor:t.name,verb:s.length>1?(0,r.t)("made"):(0,r.t)("last committed"),commits:s.length>1?(0,w.tZ)(Je.Z,{to:{pathname:`/organizations/${e?.slug}/releases/${encodeURIComponent(i.version)}/commits/`,query:{project:o}},children:(0,r.t)("%s commits",s.length)}):(0,w.tZ)(Ut.Z,{inline:!0,showIcon:!1,commitId:s[0].id,repository:s[0].repository}),release:(0,w.tZ)(xt.Z,{version:i.version,projectId:o})})})]})})]}),(0,tt.ri)(n)&&(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(Y.iz,{children:(0,w.tZ)("h6",{children:(0,r.t)("Matching Ownership Rules")})}),(0,w.tZ)("div",{children:n.slice(0,d?n.length:3).map(((e,t)=>{let[s,n]=e;return(0,w.BX)(ts,{children:[(0,w.tZ)(ss,{tagType:s}),(0,w.tZ)(is,{children:n})]},t)}))}),n.length>3&&!d?(0,w.tZ)(ns,{priority:"link",size:"zero",onClick:()=>this.setState({rulesExpanded:!0}),children:(0,r.t)("View more")}):null]})]}),...a})}}Yt.displayName="SuggestedOwnerHovercard";const Ht={url:Gt.ZP.green200,path:Gt.ZP.purple300,tag:Gt.ZP.blue300,codeowners:Gt.ZP.pink300,release:Gt.ZP.pink200},Qt=(0,u.Z)(Y.uI,{target:"e1qc9wyy12"})({name:"3s4yqf",styles:"width:400px"}),Wt=(0,u.Z)(H.J3,{target:"e1qc9wyy11"})("margin-right:",(0,Q.Z)(.5),";flex-shrink:0;"),Jt=(0,u.Z)((e=>{let{message:t="",date:s,...n}=e;return(0,w.BX)("div",{...n,children:[t.split("\n")[0],(0,w.tZ)(Kt,{date:s})]})}),{target:"e1qc9wyy10"})("color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeExtraSmall),";margin-top:",(0,Q.Z)(.25),";hyphens:auto;"),Kt=(0,u.Z)((e=>{let{date:t,...s}=e;return(0,w.tZ)("div",{...s,children:Vt()(t).fromNow()})}),{target:"e1qc9wyy9"})("margin-top:",(0,Q.Z)(.5),";color:",(e=>e.theme.gray300),";"),es=(0,u.Z)("div",{target:"e1qc9wyy8"})("display:flex;align-items:flex-start;gap:",(0,Q.Z)(1),";"),ts=(0,u.Z)("div",{target:"e1qc9wyy7"})("display:flex;align-items:flex-start;gap:",(0,Q.Z)(1),";"),ss=(0,u.Z)((e=>{let{tagType:t,...s}=e;return(0,w.tZ)("div",{...s,children:t})}),{target:"e1qc9wyy6"})("background:",(e=>Ht[-1===e.tagType.indexOf("tags")?e.tagType:"tag"]),";color:",(e=>e.theme.white),";font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:",(0,Q.Z)(.25)," ",(0,Q.Z)(.5),";margin:",(0,Q.Z)(.25)," ",(0,Q.Z)(.5)," ",(0,Q.Z)(.25)," 0;border-radius:2px;font-weight:bold;text-align:center;"),ns=(0,u.Z)(We.ZP,{target:"e1qc9wyy5"})("border:none;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:",(0,Q.Z)(.25)," ",(0,Q.Z)(.5),";margin:",(0,Q.Z)(1)," ",(0,Q.Z)(.25)," ",(0,Q.Z)(.25)," 0;width:100%;min-width:34px;"),is=(0,u.Z)("code",{target:"e1qc9wyy4"})("word-break:break-all;font-size:",(e=>e.theme.fontSizeExtraSmall),";margin-top:",(0,Q.Z)(.25),";"),rs=(0,u.Z)("div",{target:"e1qc9wyy3"})("font-size:",(e=>e.theme.fontSizeSmall),";margin-top:",(0,Q.Z)(.5),";"),os=(0,u.Z)(Mt.Z,{target:"e1qc9wyy2"})("margin:10px -13px -13px;border-radius:0;border-color:#ece0b0;font-size:",(e=>e.theme.fontSizeSmall),";font-weight:normal;box-shadow:none;"),as=(0,u.Z)("div",{target:"e1qc9wyy1"})("display:flex;align-items:center;gap:",(0,Q.Z)(1),";"),ls=(0,u.Z)("div",{target:"e1qc9wyy0"})("margin-top:-",(0,Q.Z)(2),";"),ds=Yt;var cs=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx");const ps=e=>{let{group:t,owners:s,projectId:n,organization:i,loading:o,onAssign:a}=e;const l=(0,h.useCallback)((e=>{a(e.actor),(0,cs.Z)("issue_details.action_clicked",{organization:i,project_id:parseInt(n,10),group_id:parseInt(t.id,10),issue_category:t.issueCategory,action_type:"assign",assigned_suggestion_reason:e.source})}),[a,t.id,t.issueCategory,n,i]);return o?(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Suggested Assignees")}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(Xe.Z,{})})]}):s.length?(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Suggested Assignees")}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(us,{children:s.map(((e,t)=>(0,w.BX)(Zs,{children:[(0,w.tZ)(hs,{children:(0,w.tZ)(ds,{projectId:n,organization:i,...e,children:(0,w.BX)(ms,{children:[(0,w.tZ)(Qe.Z,{hasTooltip:!1,actor:e.actor,"data-test-id":"suggested-assignee",size:20}),(0,w.tZ)(gs,{children:"team"===e.actor.type?`#${e.actor.name}`:e.actor.name||e.actor.email||(0,r.t)("Unknown author")})]})})}),(0,w.tZ)(vs,{role:"button",size:"zero",borderless:!0,"aria-label":(0,r.t)("Assign"),icon:(0,w.tZ)(H.DL,{}),disabled:void 0===e.actor.id,onClick:()=>l(e)})]},`${e.actor.id}:${e.actor.email}:${e.actor.name}:${t}`)))})})]}):null};ps.displayName="SuggestedAssignees";const us=(0,u.Z)("div",{target:"e1lhkh1d5"})("display:flex;gap:",(0,Q.Z)(1),";flex-direction:column;"),hs=(0,u.Z)("div",{target:"e1lhkh1d4"})({name:"p5k5ku",styles:"max-width:85%"}),ms=(0,u.Z)("div",{target:"e1lhkh1d3"})("display:flex;align-items:center;gap:",(0,Q.Z)(1),";"),gs=(0,u.Z)("div",{target:"e1lhkh1d2"})((e=>e.theme.overflowEllipsis),";"),Zs=(0,u.Z)("div",{target:"e1lhkh1d1"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),vs=(0,u.Z)(We.ZP,{target:"e1lhkh1d0"})({name:"jjyo93",styles:"padding-right:0"});class ys extends X.Z{constructor(){super(...arguments),(0,p.Z)(this,"handleAssign",(e=>{if(void 0===e.id)return;const{event:t}=this.props;"user"===e.type&&(0,$t.Ol)({id:t.groupID,user:e,assignedBy:"suggested_assignee"}),"team"===e.type&&(0,$t.SG)({id:t.groupID,actor:e,assignedBy:"suggested_assignee"})}))}getDefaultState(){return{...super.getDefaultState(),event:{rules:[],owners:[]},codeowners:[]}}getEndpoints(){const{project:e,organization:t,event:s}=this.props,n=[["eventOwners",`/projects/${t.slug}/${e.slug}/events/${s.id}/owners/`]];return t.features.includes("integrations-codeowners")&&n.push(["codeowners",`/projects/${t.slug}/${e.slug}/codeowners/`]),n}componentDidUpdate(e){this.props.event&&e.event?this.props.event.id!==e.event.id&&this.reloadData():this.props.event&&this.reloadData()}getOwnerList(){const e=this.props.committers??[],t=this.props.releaseCommitters??[],s=[...e,...t].map((e=>({actor:{...e.author,type:"user"},commits:e.commits,release:e.release,source:"suspectCommit"})));this.state.eventOwners?.owners.forEach((t=>{const n=function(e,t){if(!e)return;const s=e=>{let[s,n]=e;return s===t.type&&((e,s)=>"user"===e&&s===t.email||"team"===e&&s===t.name)(s,n)};return e.filter((e=>{let[t,n]=e;return n.find(s)})).map((e=>{let[t]=e;return t}))}(this.state.eventOwners?.rules||[],t),i={actor:t,rules:n,source:"codeowners"===n?.[0]?"codeowners":"projectOwnership"},r=e.length>0&&t.email&&"user"===t.type?s.findIndex((e=>e.actor.email===t.email)):-1;r>-1?s[r]={...i,...s[r]}:s.push(i)}));const n=this.props.group.assignedTo;return s.filter((e=>!(e.actor.type===n?.type&&e.actor.id===n?.id)))}renderLoading(){return this.renderBody()}renderBody(){const{organization:e,group:t}=this.props,{loading:s}=this.state,n=this.getOwnerList();return(0,w.tZ)(ps,{group:t,organization:e,owners:n,projectId:t.project.id,onAssign:this.handleAssign,loading:s})}}function fs(e){const t=(0,Xt.Z)(),{committers:s,releaseCommitters:n}=(0,Rt.Z)({eventId:e.event.id,projectSlug:e.project.slug});return(0,w.tZ)(ys,{organization:t,committers:s,releaseCommitters:n,...e})}fs.displayName="SuggestedOwnersWrapper";const xs=fs;class bs extends X.Z{getEndpoints(){const{group:e}=this.props;return[["suspectReleases",`/issues/${e.id}/suspect-releases/`]]}renderLoading(){return(0,w.BX)(Le.Eq,{"data-test-id":"linked-issues",children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Linked Issues")}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(Xe.Z,{height:"60px"})})]})}renderBody(){return this.state.suspectReleases?.length?(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Suspect Releases")}),(0,w.tZ)(Le.VY,{children:this.state.suspectReleases?.map((e=>(0,w.BX)(ws,{children:[(0,w.BX)("div",{children:[(0,w.tZ)(Ss,{version:e.version}),e.lastDeploy&&(0,w.BX)(ks,{children:[e.lastDeploy.environment?(0,r.t)("Deployed to %s ",e.lastDeploy.environment):(0,r.t)("Deployed "),(0,w.tZ)(ft.Z,{date:e.lastDeploy.dateFinished})]})]}),(0,w.tZ)(P.Z,{users:e.authors,avatarSize:25,tooltipOptions:{container:"body"},typeMembers:"authors"})]},e.version)))})]}):null}}const ws=(0,u.Z)("div",{target:"e1u3urjq2"})("display:flex;gap:",(0,Q.Z)(1),";justify-content:space-between;align-items:center;line-height:1.2;margin:",(0,Q.Z)(1.5)," 0;"),Ss=(0,u.Z)(xt.Z,{target:"e1u3urjq1"})("margin-bottom:",(0,Q.Z)(.75),";"),ks=(0,u.Z)("div",{target:"e1u3urjq0"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";"),Is=bs;var js=s("./app/components/deviceName.tsx"),Cs=s("./app/components/tagDistributionMeter.tsx");class _s extends h.Component{shouldComponentUpdate(e){return this.props.tag!==e.tag||this.props.name!==e.name||this.props.totalValues!==e.totalValues||this.props.topValues!==e.topValues}render(){const{organization:e,group:t,tag:s,totalValues:n,topValues:i,onTagClick:r}=this.props,o=`/organizations/${e.slug}/issues/${t.id}/tags/${s}/?referrer=tag-distribution-meter`,a=i?i.map((e=>({...e,name:(0,js.q)(e.name||"")||e.name,url:o}))):[];return(0,w.tZ)(Cs.Z,{title:s,totalValues:n,isLoading:!1,hasError:!1,segments:a,onTagClick:r})}}_s.displayName="GroupTagDistributionMeter";const zs=_s;var Ts=s("./app/stores/configStore.tsx"),Es=s("./app/utils/platform.tsx"),Ds=s("./app/utils/withSentryRouter.tsx"),Ns=s("./app/components/featureBadge.tsx"),Bs=s("../node_modules/lodash/debounce.js"),As=s.n(Bs),Ps=s("./app/components/buttonBar.tsx");function qs(e){let{groupId:t,tagKeys:s,environments:n,event:i,tagFormatter:o,title:a,project:d}=e;const[c,p]=(0,h.useState)({tagsData:{},selectedTag:s.length>0?s[0]:"",loading:!0,showMore:!1}),u=(0,l.Z)(),m=(0,Xt.Z)();(0,h.useEffect)((()=>{p({...c,loading:!0}),(async()=>{const e=await u.requestPromise(`/issues/${t}/tags/`,{query:{key:s,environment:n.map((e=>e.name)),readable:!0}}),i=D()(e,"key"),r=s.find((e=>Object.keys(i).includes(e)));p({...c,tagsData:i,loading:!1,selectedTag:r??c.selectedTag})})().catch((()=>{p({...c,tagsData:{},loading:!1})}))}),[u,JSON.stringify(n),t,s]);const g=s.filter((e=>!!c.tagsData[e])),Z=o?.(c.tagsData)??c.tagsData,v=`/organizations/${m.slug}/issues/${t}/tags/${c.selectedTag}/?referrer=tag-distribution-meter`,y=Z[c.selectedTag]?.topValues.map((e=>{let{name:t,value:s,count:n}=e;const o=i?.tags.find((e=>{let{key:t}=e;return t===c.selectedTag}))?.value===s;return{label:t,value:n,url:v,active:o,tooltip:o?(0,r.t)("The tag value of the current event."):void 0}}))??[];return c.loading?(0,w.tZ)(Xe.Z,{height:"60px"}):g.length>0?(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:a??(0,r.t)("Tag Summary")}),(0,w.BX)(Us,{children:[(0,w.tZ)(Gs,{merged:!0,active:c.selectedTag,children:g.map((e=>(0,w.tZ)(We.ZP,{size:"xs",barId:e,onClick:()=>{(0,cs.Z)("issue_group_details.tags.switcher.clicked",{tag:e,previous_tag:c.selectedTag,platform:d?.platform,is_mobile:(0,Es.an)(d?.platform),organization:m}),p({...c,selectedTag:e,showMore:!1})},children:e},e)))}),(0,w.tZ)($s,{tag:c.selectedTag,data:y,maxItems:5,project:d}),(0,w.tZ)(We.ZP,{size:"xs",to:Fs(m.slug,t),onClick:()=>{(0,cs.Z)("issue_group_details.tags.show_all_tags.clicked",{tag:c.selectedTag,platform:d?.platform,is_mobile:(0,Es.an)(d?.platform),organization:m,type:"bars"})},children:(0,r.t)("Show All Tags")})]})]}):null}function Fs(e,t){return`/organizations/${e}/issues/${t}/tags/`}const Os=As()((e=>{let{tag:t,value:s,platform:n,is_mobile:i,organization:r,type:o}=e;(0,cs.Z)("issue_group_details.tags.bar.hovered",{tag:t,value:s,platform:n,is_mobile:i,organization:r,type:o})}),300);function $s(e){let{data:t,maxItems:s,project:n,tag:i}=e;const o=(0,Xt.Z)(),a=t.reduce(((e,t)=>t.value+e),0);return(0,w.tZ)(Rs,{children:(s?t.slice(0,s):t).map(((e,t)=>{let s=(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(Ms,{style:{width:`${(e.value/a*100).toFixed(2)}%`},active:e.active}),(0,w.BX)(Ls,{children:[e.label,(0,w.tZ)(Vs,{children:(0,gt.rl)(e.value/a,0)})]})]});return e.url&&(s=(0,w.tZ)(Je.Z,{to:e.url,"aria-label":(0,r.t)("Add %s to the search query",e.label),onClick:()=>{(0,cs.Z)("issue_group_details.tags.bar.clicked",{tag:i,value:e.label,platform:n.platform,is_mobile:(0,Es.an)(n?.platform),organization:o,type:"bars"})},onMouseOver:()=>Os({tag:i,value:e.label,platform:n.platform,is_mobile:(0,Es.an)(n?.platform),organization:o,type:"bars"}),children:s})),(0,w.tZ)(h.Fragment,{children:(0,w.tZ)(Xs,{"data-test-id":`status-${e.label}`,cursor:e.onClick?"pointer":"default",onClick:e.onClick,children:e.tooltip?(0,w.tZ)(Se.Z,{title:e.tooltip,children:s}):s})},`${t}:${e.label}`)}))})}$s.displayName="BreakdownBars";const Rs=(0,u.Z)("div",{target:"e88dj5h6"})("display:grid;row-gap:",(0,Q.Z)(1),";margin-bottom:",(0,Q.Z)(2),";"),Xs=(0,u.Z)("div",{target:"e88dj5h5"})("padding-left:",(0,Q.Z)(.5),";padding-right:",(0,Q.Z)(.5),";position:relative;cursor:",(e=>e.cursor),";display:flex;align-items:center;"),Ls=(0,u.Z)("span",{target:"e88dj5h4"})("position:relative;color:",(e=>e.theme.textColor),";z-index:2;font-size:",(e=>e.theme.fontSizeSmall),";padding:",(0,Q.Z)(.25)," 0;"),Vs=(0,u.Z)("span",{target:"e88dj5h3"})("color:",(e=>e.theme.subText),";margin-left:",(0,Q.Z)(.5),";"),Ms=(0,u.Z)("div",{target:"e88dj5h2"})("background-color:",(e=>e.active?e.theme.purple200:e.theme.gray100),";position:absolute;top:0;left:0;z-index:1;height:100%;width:0%;"),Us=(0,u.Z)("div",{target:"e88dj5h1"})("margin-top:",(0,Q.Z)(2),";"),Gs=(0,u.Z)(Ps.ZP,{target:"e88dj5h0"})("display:flex;margin-bottom:",(0,Q.Z)(1),";");function Ys(e){let{segments:t,maxItems:s,selectedTag:n,colors:i}=e;const o=(e,t)=>e+t.count,a=t.reduce(o,0),l=t.slice(s).reduce(o,0),d=s?t.slice(0,s):t;return(0,w.BX)(en,{children:[(0,w.tZ)(Cs.Z,{title:n,totalValues:a,segments:d,colors:i,showTitle:!1}),d.map(((e,t)=>(0,w.BX)(Ks,{children:[(0,w.tZ)(Qs,{color:i[t]}),(0,w.tZ)(Se.Z,{title:e.tooltip,children:(0,w.tZ)(tn,{active:e.active,children:e.name})}),(0,w.tZ)(Js,{children:(0,gt.rl)(Math.floor((0,tt.aQ)(e.count,a))/100,0)})]},e.value))),!(!s||!l)&&(0,w.BX)(Ks,{children:[(0,w.tZ)(Qs,{color:i[i.length-1]}),(0,w.tZ)(tn,{children:(0,w.tZ)(Ws,{children:(0,r.t)("Other")})}),(0,w.tZ)(Js,{children:(0,gt.rl)(Math.floor((0,tt.aQ)(l,a))/100,0)})]},(0,r.t)("Other"))]})}Ys.displayName="TagBreakdown";const Hs=Ys,Qs=(0,u.Z)("div",{target:"ei28yo95"})("height:12px;width:12px;border-radius:24px;background-color:",(e=>e.color),";"),Ws=(0,u.Z)("div",{target:"ei28yo94"})("color:",(e=>e.theme.gray300),";"),Js=(0,u.Z)("div",{target:"ei28yo93"})("font-variant-numeric:tabular-nums;color:",(e=>e.theme.gray300),";"),Ks=(0,u.Z)("div",{target:"ei28yo92"})("display:flex;align-items:center;gap:",(0,Q.Z)(.5),";"),en=(0,u.Z)("div",{target:"ei28yo91"})("display:flex;flex-direction:column;gap:",(0,Q.Z)(1),";"),tn=(0,u.Z)("div",{target:"ei28yo90"})("padding:0 ",(0,Q.Z)(.5),";",(e=>e.active&&`\n    background-color: ${e.theme.gray200};\n    border-radius: 4px;\n  `),";");function sn(e){let{groupId:t,tagKeys:s,environments:n,event:i,tagFormatter:o,title:a}=e;const[d,c]=(0,h.useState)({tagsData:{},selectedTag:s.length>0?s[0]:"",loading:!0,showMore:!1}),p=(0,l.Z)(),u=(0,Xt.Z)(),m=(0,pt.u)();(0,h.useEffect)((()=>{c({...d,loading:!0}),(async()=>{const e=await p.requestPromise(`/issues/${t}/tags/`,{query:{key:s,environment:n.map((e=>e.name)),readable:!0}}),i=D()(e,"key"),r=s.find((e=>Object.keys(i).includes(e)));c({...d,tagsData:i,loading:!1,selectedTag:r??d.selectedTag})})().catch((()=>{c({...d,tagsData:{},loading:!1})}))}),[p,JSON.stringify(n),t,s]);const g=[m.purple400,m.red400,m.green400,m.yellow400,m.blue400,m.translucentGray100],Z=s.filter((e=>!!d.tagsData[e])),v=o?.(d.tagsData)??d.tagsData,y=`/organizations/${u.slug}/issues/${t}/tags/${d.selectedTag}/?referrer=tag-distribution-meter`,f=v[d.selectedTag]?.topValues.map((e=>{let{name:t,value:s,count:n}=e;const o=i?.tags.find((e=>{let{key:t}=e;return t===d.selectedTag}))?.value===s;return{name:t,value:s,count:n,url:y,active:o,tooltip:o?(0,r.t)("The tag value of the current event."):void 0}}))??[];return d.loading?(0,w.tZ)(Xe.Z,{height:"60px"}):Z.length>0?(0,w.BX)(Le.Eq,{children:[(0,w.BX)(an,{children:[a??(0,r.t)("Tag Summary"),(0,w.tZ)(We.ZP,{size:"xs",to:`/organizations/${u.slug}/issues/${t}/tags/`,children:(0,r.t)("View All Tags")})]}),(0,w.BX)(nn,{children:[(0,w.tZ)(on,{merged:!0,active:d.selectedTag,children:Z.map((e=>(0,w.tZ)(We.ZP,{size:"sm",barId:e,onClick:()=>{c({...d,selectedTag:e,showMore:!1})},children:e},e)))}),(0,w.tZ)(rn,{children:(0,w.tZ)(Hs,{segments:f,maxItems:5,colors:g,selectedTag:d.selectedTag})})]})]}):null}const nn=(0,u.Z)("div",{target:"e1eh8ri83"})("margin-top:",(0,Q.Z)(2),";"),rn=(0,u.Z)("div",{target:"e1eh8ri82"})("margin-top:",(0,Q.Z)(2),";overflow:hidden;"),on=(0,u.Z)(Ps.ZP,{target:"e1eh8ri81"})({name:"zjik7",styles:"display:flex"}),an=(0,u.Z)(Le.Dx,{target:"e1eh8ri80"})({name:"1wjgxi2",styles:"display:flex;align-items:center;justify-content:space-between;margin-bottom:0"});var ln=s("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js");const dn=["#402A65","#694D99","#9A81C4","#BBA6DF","#EAE2F8"],cn=As()((e=>{let{tag:t,value:s,platform:n,is_mobile:i,organization:r,type:o}=e;(0,cs.Z)("issue_group_details.tags.bar.hovered",{tag:t,value:s,platform:n,is_mobile:i,organization:r,type:o})}),300);function pn(e){let{colors:t=dn,segments:s,title:n,totalValues:i,onTagClick:o,project:a}=e;const l=(0,Xt.Z)();function d(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,w.tZ)(bn,{children:s.map(((s,n)=>{const r=Math.floor((0,tt.aQ)(s.count,i));return(0,w.BX)(wn,{tooltip:e,children:[(0,w.tZ)(Sn,{color:t[n]}),(0,w.tZ)(kn,{children:s.name}),(0,w.tZ)(In,{children:`${r}%`})]},`segment-${s.name}-${n}`)}))})}const c=s.reduce(((e,t)=>e+t.count),0);return c<i&&s.push({isOther:!0,name:(0,r.t)("Other"),value:"other",count:i-c,url:""}),(0,w.BX)(hn,{children:[!Array.isArray(s)||s.length<=0?(0,w.tZ)(gn,{children:(0,w.tZ)(Zn,{children:n})}):(0,w.BX)(gn,{children:[(0,w.tZ)(Zn,{children:n}),(0,w.tZ)(vn,{children:(0,w.tZ)(yn,{children:s[0].name||(0,r.t)("n/a")})})]}),0===i?(0,w.tZ)(mn,{children:(0,w.tZ)("p",{children:(0,r.t)("No recent data.")})}):(0,w.tZ)(mn,{children:s.map(((e,s)=>{const c=(0,tt.aQ)(e.count,i),p=Math.floor(c),u={index:s,to:e.url,onClick:()=>((0,cs.Z)("issue_group_details.tags.bar.clicked",{tag:n,value:e.value,platform:a.platform,is_mobile:(0,Es.an)(a?.platform),organization:l,type:"distributions"}),o?.(n,e))};return(0,w.tZ)("div",{style:{width:c+"%"},onMouseOver:()=>cn({tag:n,value:e.value,platform:a.platform,is_mobile:(0,Es.an)(a?.platform),organization:l,type:"distributions"}),children:(0,w.tZ)(Se.Z,{title:d(!0),containerDisplayMode:"block",position:"bottom",children:e.isOther?(0,w.tZ)(fn,{"aria-label":(0,r.t)("Other"),color:t[t.length-1]}):(0,w.tZ)(xn,{"aria-label":(0,r.t)("Add the %s %s segment tag to the search query",n,e.value),color:t[s],...u,children:0===s?`${p}%`:null})})},e.value)}))})]})}pn.displayName="TagFacetsDistributionMeter";const un=pn,hn=(0,u.Z)("div",{target:"ejd5cl912"})("margin-bottom:",(0,Q.Z)(2),";"),mn=(0,u.Z)("div",{target:"ejd5cl911"})({name:"andpxo",styles:"display:flex;overflow:hidden"}),gn=(0,u.Z)("div",{target:"ejd5cl910"})("display:flex;font-size:",(e=>e.theme.fontSizeSmall),";justify-content:space-between;margin-bottom:",(0,Q.Z)(.25),";line-height:1.1;"),Zn=(0,u.Z)("div",{target:"ejd5cl99"})("color:",(e=>e.theme.textColor),";font-weight:bold;",(e=>e.theme.overflowEllipsis),";font-size:",(e=>e.theme.fontSizeSmall),";"),vn=(0,u.Z)("div",{target:"ejd5cl98"})("display:flex;color:",(e=>e.theme.gray300),";text-align:right;font-size:",(e=>e.theme.fontSizeSmall),";"),yn=(0,u.Z)("div",{target:"ejd5cl97"})((e=>e.theme.overflowEllipsis),";"),fn=(0,u.Z)("span",{target:"ejd5cl96"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",(e=>e.color),";"),xn=(0,u.Z)(Je.Z,{shouldForwardProp:ln.Z,target:"ejd5cl95"})("&:hover{color:",(e=>e.theme.white),";}display:block;width:100%;height:16px;color:",(e=>e.theme.white),";outline:none;background-color:",(e=>e.color),";border-radius:0;text-align:right;font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:1px ",(0,Q.Z)(.5)," 0 0;"),bn=(0,u.Z)("div",{target:"ejd5cl94"})("display:grid;row-gap:",(0,Q.Z)(1),";margin:",(0,Q.Z)(1)," 0;"),wn=(0,u.Z)("div",{target:"ejd5cl93"})("display:flex;align-items:center;",(e=>e.tooltip?"max-width: 200px":""),";"),Sn=(0,u.Z)("span",{target:"ejd5cl92"})("padding:0;position:relative;width:11px;height:11px;text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.color),";"),kn=(0,u.Z)("span",{target:"ejd5cl91"})("font-size:",(e=>e.theme.fontSizeSmall),";margin-left:",(0,Q.Z)(1),";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"),In=(0,u.Z)("span",{target:"ejd5cl90"})("font-size:",(e=>e.theme.fontSizeSmall),";margin-left:",(0,Q.Z)(1),";color:",(e=>e.theme.gray300),";text-align:right;flex-grow:1;");function jn(e){let{tagKeys:t,environments:s,groupId:n,title:i,tagFormatter:o,project:a}=e;const[d,c]=(0,h.useState)({tagsData:{},loading:!0}),p=(0,Xt.Z)(),u=(0,l.Z)();(0,h.useEffect)((()=>{c({...d,loading:!0}),(async()=>{const e=await u.requestPromise(`/issues/${n}/tags/`,{query:{key:t,environment:s.map((e=>e.name)),readable:!0,limit:4}}),i=D()(e,"key");c({...d,tagsData:i,loading:!1})})().catch((()=>{c({...d,tagsData:{},loading:!1})}))}),[u,JSON.stringify(s),n,t]);const m=o?.(d.tagsData)??d.tagsData,g=Object.keys(m).sort();return(0,w.tZ)(Le.Eq,{children:d.loading||!m?(0,w.BX)(_n,{children:[(0,w.tZ)(Xe.Z,{height:"40px"}),(0,w.tZ)(Xe.Z,{height:"40px"}),(0,w.tZ)(Xe.Z,{height:"40px"}),(0,w.tZ)(Xe.Z,{height:"40px"})]}):(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(Le.Dx,{children:i||(0,r.t)("Most Impacted Tags")}),(0,w.tZ)(Tn,{children:(0,w.BX)(h.Fragment,{children:[g.map((e=>{const t=m[e],s=t?t.topValues:[],i=t?t.totalValues:0,r=`/organizations/${p.slug}/issues/${n}/tags/${e}/?referrer=tag-distribution-meter`,o=s?s.map((e=>({...e,url:r}))):[];return(0,w.tZ)(un,{title:e,totalValues:i,segments:o,onTagClick:()=>{},project:a},e)})),(0,w.tZ)(zn,{children:(0,w.tZ)(We.ZP,{size:"xs",to:Cn(p.slug,n),onClick:()=>{(0,cs.Z)("issue_group_details.tags.show_all_tags.clicked",{platform:a?.platform,is_mobile:(0,Es.an)(a?.platform),organization:p,type:"distributions"})},children:(0,r.t)("View All Tags")})})]})})]})})}function Cn(e,t){return`/organizations/${e}/issues/${t}/tags/`}jn.displayName="TagFacetsDistributions";const _n=(0,u.Z)("div",{target:"ee5yn522"})("display:grid;gap:",(0,Q.Z)(1),";grid-auto-flow:row;"),zn=(0,u.Z)("div",{target:"ee5yn521"})("margin-top:",(0,Q.Z)(3),";"),Tn=(0,u.Z)("div",{target:"ee5yn520"})("margin-top:",(0,Q.Z)(2),";"),En=["device","environment","os","release","browser","transaction"];function Dn(e){const t={};return Object.keys(e).forEach((s=>{t[s]="release"===s?{...e[s],topValues:e[s].topValues.map((e=>({...e,name:(0,gt.ko)(e.name)})))}:"device"===s?{...e[s],topValues:e[s].topValues.map((e=>({...e,name:e.readable??e.name})))}:e[s]})),t}function Nn(e){return"breakdowns"===e.style?(0,w.tZ)(sn,{...e}):"distributions"===e.style?(0,w.tZ)(jn,{...e}):(0,w.tZ)(qs,{...e})}class Bn extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"state",{}),(0,p.Z)(this,"trackAssign",(()=>{const{group:e,project:t,organization:s,location:n}=this.props,{alert_date:i,alert_rule_id:r,alert_type:o}=n.query;(0,cs.Z)("issue_details.action_clicked",{organization:s,project_id:parseInt(t.id,10),group_id:parseInt(e.id,10),issue_category:e.issueCategory,action_type:"assign",alert_date:"string"==typeof i?(0,mt.v5)(Number(i)):void 0,alert_rule_id:"string"==typeof r?r:void 0,alert_type:"string"==typeof o?o:void 0})}))}componentDidMount(){this.fetchAllEnvironmentsGroupData(),this.fetchCurrentRelease(),this.fetchTagData()}componentDidUpdate(e){v()(e.environments,this.props.environments)||this.fetchTagData()}async fetchAllEnvironmentsGroupData(){const{group:e,api:t}=this.props;try{const s={collapse:"release"},n=await t.requestPromise(`/issues/${e.id}/`,{query:s});this.setState({allEnvironmentsGroupData:n})}catch{this.setState({error:!0})}}async fetchCurrentRelease(){const{group:e,api:t}=this.props;try{const{currentRelease:s}=await t.requestPromise(`/issues/${e.id}/current-release/`);this.setState({currentRelease:s})}catch{this.setState({error:!0})}}async fetchTagData(){const{api:e,group:t}=this.props;try{const s=await e.requestPromise(`/issues/${t.id}/tags/`,{query:B()({key:t.tags.map((e=>e.key)),environment:this.props.environments.map((e=>e.name))})});this.setState({tagsWithTopValues:D()(s,"key")})}catch{this.setState({tagsWithTopValues:{},error:!0})}}renderPluginIssue(){const e=[];return(this.props.group.pluginIssues||[]).forEach((t=>{const s=t.issue;s&&e.push((0,w.BX)(h.Fragment,{children:[(0,w.tZ)("span",{children:`${t.shortName||t.name||t.title}: `}),(0,w.tZ)("a",{href:s.url,children:T()(s.label)?s.label.id:s.label})]},t.slug))})),e.length?(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("External Issues")}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(Fn,{children:e})})]}):null}renderParticipantData(){const{participants:e}=this.props.group;return e.length?(0,w.BX)(Le.Eq,{children:[(0,w.BX)($n,{children:[(0,r.t)("Participants (%s)",e.length),(0,w.tZ)(Ke.Z,{size:"sm",position:"top",color:"gray200",title:(0,r.t)("People who have resolved, ignored, or added a comment")})]}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(On,{users:e,avatarSize:28,maxVisibleAvatars:13})})]}):null}renderSeenByList(){const{seenBy:e}=this.props.group,t=Ts.Z.get("user"),s=e.filter((e=>t.id!==e.id));return s.length?(0,w.BX)(Le.Eq,{children:[(0,w.BX)($n,{children:[(0,r.t)("Viewers (%s)",s.length)," ",(0,w.tZ)(Ke.Z,{size:"sm",position:"top",color:"gray200",title:(0,r.t)("People who have viewed this issue")})]}),(0,w.tZ)(Le.VY,{children:(0,w.tZ)(On,{users:s,avatarSize:28,maxVisibleAvatars:13,renderTooltip:e=>(0,w.BX)(h.Fragment,{children:[(0,gt.He)(e),(0,w.tZ)("br",{}),(0,w.tZ)(q.Z,{date:e.lastSeen})]})})})]}):null}render(){const{event:e,group:t,organization:s,project:n,environments:i}=this.props,{allEnvironmentsGroupData:o,currentRelease:a,tagsWithTopValues:l}=this.state,d=n.slug,c=s.features.includes("issue-actions-v2"),p=parseInt(_()(s.id).toString().substring(0,6),36)%2==0?"distributions":"bars";return(0,w.BX)(Pn,{children:[!c&&(0,w.tZ)(An,{children:(0,w.tZ)(F.Z,{alignDropdown:"right"})}),(0,w.tZ)(nt,{group:t,project:n,organization:s}),(0,w.tZ)($.Z,{group:t,projectId:n.id,onAssign:this.trackAssign}),e&&(0,w.tZ)(xs,{project:n,group:t,event:e}),(0,w.tZ)(A.Z,{organization:s,features:["issue-details-tag-improvements"],children:(0,Es.an)(n.platform)&&("react-native"===n.platform||"1"===s.id)&&(0,w.tZ)(Nn,{environments:i,groupId:t.id,tagKeys:En,event:e,title:(0,w.BX)("div",{children:[(0,r.t)("Most Impacted Tags")," ",(0,w.tZ)(Ns.Z,{type:"beta"})]}),tagFormatter:Dn,style:p,project:n})}),(0,w.tZ)(Pt,{organization:s,project:n,environments:i,allEnvironments:o,group:t,currentRelease:a}),(0,w.tZ)(A.Z,{organization:s,features:["active-release-monitor-alpha"],children:(0,w.tZ)(Is,{group:t})}),e&&(0,w.tZ)(O.Z,{mini:!0,children:(0,w.tZ)(Ye,{project:n,group:t,event:e})}),this.renderPluginIssue(),(!s.features.includes("issue-details-tag-improvements")||!((0,Es.an)(n.platform)&&("react-native"===n.platform||"1"===s.id)))&&(0,w.BX)(Le.Eq,{children:[(0,w.tZ)(Le.Dx,{children:(0,r.t)("Tag Summary")}),(0,w.BX)(Le.VY,{children:[l?t.tags.map((e=>{const i=l[e.key],r=i?i.topValues:[],o=i?i.totalValues:0;return(0,w.tZ)(zs,{tag:e.key,totalValues:o,topValues:r,name:e.name,organization:s,projectId:d,group:t,onTagClick:(e,t)=>{(0,cs.Z)("issue_group_details.tags_distribution.bar.clicked",{tag:e,value:t.name,platform:n.platform,is_mobile:(0,Es.an)(n?.platform),organization:s})}},e.key)})):(0,w.BX)(qn,{children:[(0,w.tZ)(Xe.Z,{height:"40px"}),(0,w.tZ)(Xe.Z,{height:"40px"}),(0,w.tZ)(Xe.Z,{height:"40px"}),(0,w.tZ)(Xe.Z,{height:"40px"})]}),0===t.tags.length&&(0,w.tZ)("p",{"data-test-id":"no-tags",children:i.length?(0,r.t)("No tags found in the selected environments"):(0,r.t)("No tags found")})]})]}),this.renderParticipantData(),c&&this.renderSeenByList()]})}}Bn.displayName="BaseGroupSidebar";const An=(0,u.Z)("div",{target:"eofpip35"})("margin-bottom:",(0,Q.Z)(2),";"),Pn=(0,u.Z)("div",{target:"eofpip34"})("font-size:",(e=>e.theme.fontSizeMedium),";"),qn=(0,u.Z)("div",{target:"eofpip33"})("display:grid;gap:",(0,Q.Z)(1),";grid-auto-flow:row;"),Fn=(0,u.Z)("div",{target:"eofpip32"})("display:grid;grid-template-columns:auto max-content;gap:",(0,Q.Z)(2),";"),On=(0,u.Z)(P.Z,{target:"eofpip31"})("justify-content:flex-end;padding-left:",(0,Q.Z)(.75),";"),$n=(0,u.Z)(Le.Dx,{target:"eofpip30"})("gap:",(0,Q.Z)(1),";"),Rn=(0,ye.Z)((0,Ds.Z)(Bn));var Xn=s("./app/components/layouts/thirds.tsx"),Ln=s("./app/components/duration.tsx"),Vn=s("./app/components/events/styles.tsx");function Mn(e){let{statusDetails:t}=e;return(0,w.tZ)(Vn.UP,{priority:"default",children:(0,w.BX)(Vn._B,{children:[(0,w.tZ)(H.i1,{color:"dangerText",size:"sm"}),(0,w.BX)("span",{children:[function(){const{ignoreUntil:e,ignoreCount:s,ignoreWindow:n,ignoreUserCount:i,ignoreUserWindow:o}=t;return e?(0,r.t)("This issue has been ignored until %s",(0,w.tZ)("strong",{children:(0,w.tZ)(q.Z,{date:e})})):s&&n?(0,r.t)("This issue has been ignored until it occurs %s time(s) in %s",(0,w.tZ)("strong",{children:s.toLocaleString()}),(0,w.tZ)("strong",{children:(0,w.tZ)(Ln.Z,{seconds:60*n})})):s?(0,r.t)("This issue has been ignored until it occurs %s more time(s)",(0,w.tZ)("strong",{children:s.toLocaleString()})):i&&o?(0,r.t)("This issue has been ignored until it affects %s user(s) in %s",(0,w.tZ)("strong",{children:i.toLocaleString()}),(0,w.tZ)("strong",{children:(0,w.tZ)(Ln.Z,{seconds:60*o})})):i?(0,r.t)("This issue has been ignored until it affects %s more user(s)",(0,w.tZ)("strong",{children:i.toLocaleString()})):(0,r.t)("This issue has been ignored")}()," — ",(0,r.t)("You will not be notified of any changes and it will not show up by default in feeds.")]})]})})}Mn.displayName="MutedBox";const Un=Mn;var Gn=s("./app/components/reprocessedBox.tsx"),Yn=s("./app/components/avatar/userAvatar.tsx"),Hn=s("./app/types/index.tsx");function Qn(e,t,s){const n=e.actor?(0,w.BX)("strong",{children:[(0,w.tZ)(Yn.Z,{user:e.actor,size:20,className:"avatar"}),(0,w.tZ)("span",{style:{marginLeft:5},children:e.actor.name})]}):null,i=s.find((e=>e.type===Hn.fc.SET_RESOLVED_IN_RELEASE))?.data.current_release_version;return e.inNextRelease&&e.actor?(0,r._N)("[actor] marked this issue as resolved in the upcoming release.",{actor:n}):e.inNextRelease?(0,r.t)("This issue has been marked as resolved in the upcoming release."):e.inRelease&&e.actor?i?(0,r._N)("[actor] marked this issue as resolved in versions greater than [version].",{actor:n,version:(0,w.tZ)(xt.Z,{version:i,projectId:t,tooltipRawVersion:!0})}):(0,r._N)("[actor] marked this issue as resolved in version [version].",{actor:n,version:(0,w.tZ)(xt.Z,{version:e.inRelease,projectId:t,tooltipRawVersion:!0})}):e.inRelease?i?(0,r._N)("This issue has been marked as resolved in versions greater than [version].",{version:(0,w.tZ)(xt.Z,{version:i,projectId:t,tooltipRawVersion:!0})}):(0,r._N)("This issue has been marked as resolved in version [version].",{version:(0,w.tZ)(xt.Z,{version:e.inRelease,projectId:t,tooltipRawVersion:!0})}):e.inCommit?(0,r._N)("This issue has been marked as resolved by [commit]",{commit:(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(Ut.Z,{commitId:e.inCommit.id,repository:e.inCommit.repository}),e.inCommit.dateCreated&&(0,w.tZ)(Jn,{date:e.inCommit.dateCreated})]})}):(0,r.t)("This issue has been marked as resolved.")}function Wn(e){let{statusDetails:t,projectId:s,activities:n=[]}=e;return(0,w.tZ)(Vn.UP,{priority:"default",children:(0,w.BX)(Vn._B,{children:[(0,w.tZ)(Kn,{color:"successText"}),(0,w.tZ)("span",{children:Qn(t,s,n)})]})})}Wn.displayName="ResolutionBox";const Jn=(0,u.Z)(ft.Z,{target:"eusmyo21"})("color:",(e=>e.theme.gray300),";margin-left:",(0,Q.Z)(.5),";font-size:",(e=>e.theme.fontSizeSmall),";"),Kn=(0,u.Z)(H.DL,{target:"eusmyo20"})("margin-top:0!important;align-self:center;@media (max-width: ",(e=>e.theme.breakpoints.small),"){margin-top:",(0,Q.Z)(.5),"!important;align-self:flex-start;}"),ei=Wn;var ti=s("./app/utils/performance/quickTrace/quickTraceContext.tsx"),si=s("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),ni=s("../node_modules/moment-timezone/index.js"),ii=s.n(ni),ri=s("./app/components/fileSize.tsx"),oi=s("./app/components/globalAppStoreConnectUpdateAlert/index.tsx"),ai=s("./app/components/links/externalLink.tsx"),li=s("./app/components/navigationButtonGroup.tsx"),di=s("./app/components/quickTrace/utils.tsx"),ci=s("./app/utils/analytics.tsx");function pi(e){let{event:t}=e;const s=(0,Xt.Z)(),n=(0,h.useContext)(ti.p),i=(0,h.useCallback)((()=>{(0,ci.ec)({eventKey:"quick_trace.trace_id.clicked",eventName:"Quick Trace: Trace ID clicked",organization_id:parseInt(s.id,10),source:"issues"})}),[s.id]);return!n||n.isLoading||n.error||"empty"===n.type?null:(0,w.tZ)(ui,{children:(0,w.tZ)(m.Link,{to:(0,di.aV)(t,s),onClick:i,children:(0,r.t)("View Full Trace")})})}pi.displayName="TraceLink";const ui=(0,u.Z)("span",{target:"epxodp10"})("margin-left:",(0,Q.Z)(1),";padding-left:",(0,Q.Z)(1),";position:relative;&:before{display:block;position:absolute;content:'';left:0;top:2px;height:14px;border-left:1px solid ",(e=>e.theme.border),";}");var hi=s("./app/views/organizationGroupDetails/eventCreatedTooltip.tsx"),mi=s("./app/components/quickTrace/index.tsx"),gi=s("./app/actionCreators/prompts.tsx"),Zi=s("./app/utils/promptIsDismissed.tsx");function vi(e){let{event:t,location:s,organization:n,quickTrace:i,isPerformanceIssue:o}=e;const{shouldShowPrompt:a,snoozePrompt:d}=function(e){let{feature:t,organization:s,projectId:n}=e;const i=(0,l.Z)(),[r,o]=(0,h.useState)(null);return(0,h.useEffect)((()=>{(0,gi.vu)(i,{organizationId:s.id,projectId:n,feature:t}).then((e=>{o(!(0,Zi.IB)(e??{},30))}))}),[i,t,s,n]),{shouldShowPrompt:r,snoozePrompt:(0,h.useCallback)((async()=>{const e={projectId:n,organizationId:s.id,feature:t,status:"snoozed"};await(0,gi.Xt)(i,e),o(!1)}),[i,t,s,n])}}({projectId:t.projectID,feature:"quick_trace_missing",organization:n});return!i||i.error||null===i.trace||0===i.trace.length?a?((0,cs.Z)("issue.quick_trace_status",{organization:n,status:"missing"===i?.type?"transaction missing":"trace missing",is_performance_issue:o??!1}),(0,w.tZ)(fi,{type:"info",showIcon:!0,trailingItems:(0,w.tZ)(We.ZP,{priority:"link",size:"zero",title:(0,r.t)("Dismiss for a month"),onClick:d,children:(0,w.tZ)(H.bM,{})}),children:(0,r._N)("The [type] for this event cannot be found. [link:Read the docs to understand why].",{type:"missing"===i?.type?(0,r.t)("transaction"):(0,r.t)("trace"),link:(0,w.tZ)(ai.Z,{href:"https://docs.sentry.io/product/sentry-basics/tracing/trace-view/#troubleshooting"})})})):null:((0,cs.Z)("issue.quick_trace_status",{organization:n,status:"success",is_performance_issue:o??!1}),(0,w.tZ)(O.Z,{mini:!0,children:(0,w.tZ)(yi,{children:(0,w.tZ)(mi.Z,{event:t,quickTrace:i,location:s,organization:n,anchor:"left",errorDest:"issue",transactionDest:"performance"})})}))}vi.displayName="IssueQuickTrace";const yi=(0,u.Z)("div",{target:"e12j2to71"})("margin-top:",(0,Q.Z)(.5),";"),fi=(0,u.Z)(Mt.Z,{target:"e12j2to70"})("margin:",(0,Q.Z)(1)," 0;"),xi=vi;function bi(e){let{event:t,organization:s,location:n,isPerformanceIssue:i}=e;const r=s.features.includes("performance-view"),o=Boolean(t.contexts?.trace?.trace_id),a=(0,h.useContext)(ti.p);return r&&o?a?.isLoading?(0,w.tZ)(Xe.Z,{height:"24px"}):(0,w.tZ)(xi,{organization:s,event:t,location:n,isPerformanceIssue:i,quickTrace:a}):null}bi.displayName="QuickTrace";const wi=bi;class Si extends h.Component{shouldComponentUpdate(e){return this.props.event.id!==e.event.id}handleNavigationClick(e){(0,cs.Z)("issue_details.event_navigation_clicked",{organization:this.props.organization,project_id:parseInt(this.props.project.id,10),button:e})}render(){const e=(0,mt.gn)(),t=this.props.event,{group:s,organization:n,location:i,project:o,hasReplay:a}=this.props,l=s.id,d=n.features.includes("session-replay-ui"),c=`/organizations/${n.slug}/issues/${l}/events/`,p=`/organizations/${n.slug}/issues/${l}/events/${t.id}/json/`,u=t.dateReceived&&Math.abs(+ii()(t.dateReceived)-+ii()(t.dateCreated))>18e5;return(0,w.BX)(ki,{children:[(0,w.BX)(Ii,{children:[(0,w.BX)("div",{children:[(0,w.BX)(Ci,{children:[(0,r.t)("Event ID")," ",(0,w.tZ)(ji,{to:`${c}${t.id}/`,children:t.eventID}),(0,w.tZ)(Ei,{children:(0,w.BX)(ai.Z,{href:p,onClick:()=>(0,cs.Z)("issue_details.event_json_clicked",{organization:n,group_id:parseInt(`${t.groupID}`,10)}),children:["JSON"," (",(0,w.tZ)(ri.Z,{bytes:t.size}),")"]})})]}),(0,w.BX)(Se.Z,{title:(0,w.tZ)(hi.Z,{event:t}),showUnderline:!0,disableForVisualTest:!0,children:[(0,w.tZ)(zi,{format:e?"MMM D, YYYY HH:mm:ss zz":"ll LTS z",date:(0,Bt.Z)({value:t.dateCreated,fixed:"Dummy timestamp"})}),u&&(0,w.tZ)(_i,{color:"warningText"})]}),(0,w.tZ)(pi,{event:t})]}),(0,w.BX)(Di,{children:[a&&d?(0,w.tZ)(We.ZP,{href:"#breadcrumbs",size:"sm",icon:(0,w.tZ)(H.JF,{size:"xs"}),children:(0,r.t)("Replay")}):null,(0,w.tZ)(li.Z,{hasPrevious:!!t.previousEventID,hasNext:!!t.nextEventID,links:[{pathname:`${c}oldest/`,query:{...i.query,referrer:"oldest-event"}},{pathname:`${c}${t.previousEventID}/`,query:{...i.query,referrer:"previous-event"}},{pathname:`${c}${t.nextEventID}/`,query:{...i.query,referrer:"next-event"}},{pathname:`${c}latest/`,query:{...i.query,referrer:"latest-event"}}],onOldestClick:()=>this.handleNavigationClick("oldest"),onOlderClick:()=>this.handleNavigationClick("older"),onNewerClick:()=>this.handleNavigationClick("newer"),onNewestClick:()=>this.handleNavigationClick("newest"),size:"sm"})]})]}),(0,w.tZ)(wi,{event:t,group:s,organization:n,location:i}),(0,w.tZ)(Ti,{project:o,organization:n})]})}}Si.displayName="GroupEventToolbar";const ki=(0,u.Z)(Vn.Gj,{target:"ekd58v68"})({name:"r9bic9",styles:"@media (max-width: 767px){display:none;}"}),Ii=(0,u.Z)("div",{target:"ekd58v67"})("display:flex;position:relative;flex-direction:row;justify-content:space-between;align-items:flex-start;gap:",(0,Q.Z)(3),";"),ji=(0,u.Z)(Je.Z,{target:"ekd58v66"})({name:"lugakg",styles:"font-weight:normal"}),Ci=(0,u.Z)("h4",{target:"ekd58v65"})("line-height:1.3;margin:0;font-size:",(e=>e.theme.fontSizeLarge),";"),_i=(0,u.Z)(H.FC,{target:"ekd58v64"})("margin-left:",(0,Q.Z)(.5),";position:relative;top:",(0,Q.Z)(.25),";"),zi=(0,u.Z)(q.Z,{target:"ekd58v63"})("color:",(e=>e.theme.subText),";"),Ti=(0,u.Z)(oi.Z,{target:"ekd58v62"})("margin:",(0,Q.Z)(.5)," 0;"),Ei=(0,u.Z)("span",{target:"ekd58v61"})("margin-left:",(0,Q.Z)(1),";padding-left:",(0,Q.Z)(1),";position:relative;font-weight:normal;&:before{display:block;position:absolute;content:'';left:0;top:2px;height:14px;border-left:1px solid ",(e=>e.theme.border),";}"),Di=(0,u.Z)("div",{target:"ekd58v60"})("display:flex;align-items:center;justify-content:flex-end;gap:0 ",(0,Q.Z)(1),";"),Ni=Si;var Bi=s("./app/components/progressBar.tsx");function Ai(e){let{totalEvents:t,pendingEvents:s}=e;const n=t-s,i=(0,tt.aQ)(n,t);return(0,w.tZ)(qi,{children:(0,w.BX)(Oi,{children:[(0,w.BX)($i,{children:[(0,w.tZ)(Ri,{children:(0,r.t)("Reprocessing…")}),(0,r.t)("Once the events in this issue have been reprocessed, you’ll be able to make changes and view any new issues that may have been created.")]}),(0,w.BX)(Fi,{children:[(0,w.tZ)(Bi.Z,{value:i,variant:"large"}),(0,r._N)("[remainingEventsToReprocess]/[totalEvents] [event] reprocessed",{remainingEventsToReprocess:n,totalEvents:t,event:(0,r.tn)("event","events",t)})]})]})})}Ai.displayName="ReprocessingProgress";const Pi=Ai,qi=(0,u.Z)("div",{target:"ev0t3ja4"})("margin:",(0,Q.Z)(4)," 40px;flex:1;text-align:center;@media (min-width: ",(e=>e.theme.breakpoints.small),"){margin:40px;}"),Fi=(0,u.Z)("div",{target:"ev0t3ja3"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeMedium),";display:grid;gap:",(0,Q.Z)(1.5),";justify-items:center;max-width:402px;width:100%;"),Oi=(0,u.Z)("div",{target:"ev0t3ja2"})("display:grid;gap:",(0,Q.Z)(3),";justify-items:center;"),$i=(0,u.Z)("div",{target:"ev0t3ja1"})("display:grid;gap:",(0,Q.Z)(1),";color:",(e=>e.theme.textColor),";max-width:557px;"),Ri=(0,u.Z)("h3",{target:"ev0t3ja0"})("font-size:",(e=>e.theme.headerFontSize),";font-weight:600;margin-bottom:0;");var Xi=s("./app/views/organizationGroupDetails/utils.tsx");class Li extends h.Component{constructor(){super(...arguments),(0,p.Z)(this,"state",{eventNavLinks:"",releasesCompletion:null}),(0,p.Z)(this,"fetchData",(async()=>{const{api:e,project:t,organization:s}=this.props,n=s.slug,i=t.slug,r=t.id,o=e.requestPromise(`/projects/${n}/${i}/releases/completion/`);(async(e,t)=>{const s=`/organizations/${t}/sentry-app-installations/`,n=await e.requestPromise(s);Me.load(n)})(e,n),r?async function(e,t,s){const n=`/organizations/${t}/sentry-app-components/?projectId=${s}`,i=await e.requestPromise(n);y.Z.loadComponents(i)}(e,n,r):g.$e((e=>{e.setExtra("props",this.props),e.setExtra("state",this.state),g.uT("Project ID was not set")}));const a=await o;this.setState({releasesCompletion:a})}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const{environments:t,params:s,location:n,organization:i,project:r}=this.props;!v()(e.environments,t)&&e.event&&s.eventId&&!["latest","oldest"].includes(s.eventId)&&t.length>0&&!t.find((t=>t.name===(0,Xi.dG)(e.event)))?m.browserHistory.replace({pathname:`/organizations/${s.orgId}/issues/${s.groupId}/`,query:n.query}):e.organization.slug===i.slug&&e.project.slug===r.slug||this.fetchData()}componentWillUnmount(){this.props.api.clear()}renderContent(e){const{group:t,project:s,organization:n,environments:r,location:o,loadingEvent:a,onRetry:l,eventError:d}=this.props;return a?(0,w.tZ)(i.Z,{}):d?(0,w.tZ)(k,{environments:r,onRetry:l}):(0,w.tZ)(I.Z,{group:t,event:e,organization:n,project:s,location:o})}renderReprocessedBox(e,t){if(e!==Xi.m7.REPROCESSED_AND_HASNT_EVENT&&e!==Xi.m7.REPROCESSED_AND_HAS_EVENT)return null;const{group:s,organization:n}=this.props,{count:i,id:r}=s,o=Number(i);return(0,w.tZ)(Gn.Z,{reprocessActivity:t,groupCount:o,groupId:r,orgSlug:n.slug})}renderGroupStatusBanner(){return"ignored"===this.props.group.status?(0,w.tZ)(Mi,{children:(0,w.tZ)(Un,{statusDetails:this.props.group.statusDetails})}):"resolved"===this.props.group.status?(0,w.tZ)(Mi,{children:(0,w.tZ)(ei,{statusDetails:this.props.group.statusDetails,activities:this.props.group.activity,projectId:this.props.project.id})}):null}render(){const{className:e,group:t,project:s,organization:n,environments:i,location:r,event:o,groupReprocessingStatus:a}=this.props,l=(0,j.xN)(o),d=n.features?.includes("reprocessing-v2"),{activity:c}=t,p=(0,Xi.Ad)(c),u=Boolean(o?.tags?.find((e=>{let{key:t}=e;return"replayId"===t}))?.value);return(0,w.tZ)("div",{className:e,"data-test-id":"group-event-details",children:(0,w.tZ)(Vi,{children:d&&a===Xi.m7.REPROCESSING?(0,w.tZ)(Pi,{totalEvents:p.data.eventCount,pendingEvents:t.statusDetails.pendingEvents}):(0,w.BX)(h.Fragment,{children:[(0,w.tZ)(si.Z,{event:l,location:r,orgSlug:n.slug,children:e=>(0,w.BX)(Ui,{children:[this.renderGroupStatusBanner(),(0,w.BX)(ti.p.Provider,{value:e,children:[l&&(0,w.tZ)(Ni,{group:t,event:l,organization:n,location:r,project:s,hasReplay:u}),this.renderReprocessedBox(a,p),this.renderContent(l)]})]})}),(0,w.tZ)(Gi,{children:(0,w.tZ)(Rn,{organization:n,project:s,group:t,event:l,environments:i})})]})})})}}Li.displayName="GroupEventDetails";const Vi=(0,u.Z)(Xn.uT,{target:"e150o94r4"})("padding:0!important;@media (min-width: ",(e=>e.theme.breakpoints.large),"){align-content:stretch;}"),Mi=(0,u.Z)("div",{target:"e150o94r3"})("margin-bottom:",(0,Q.Z)(2),";"),Ui=(0,u.Z)(Xn.or,{target:"e150o94r2"})("padding-top:",(0,Q.Z)(2),";@media (max-width: ",(e=>e.theme.breakpoints.medium),"){padding-top:",(0,Q.Z)(1),";}@media (min-width: ",(e=>e.theme.breakpoints.large),"){border-right:1px solid ",(e=>e.theme.border),";padding-right:0;}"),Gi=(0,u.Z)(Xn.MF,{target:"e150o94r1"})("padding:",(0,Q.Z)(3)," ",(0,Q.Z)(2)," ",(0,Q.Z)(3),";@media (min-width: ",(e=>e.theme.breakpoints.large),"){padding-right:",(0,Q.Z)(4),";padding-left:0;}"),Yi=(0,u.Z)(Li,{target:"e150o94r0"})({name:"1k8t52o",styles:"display:flex;flex:1;flex-direction:column"});function Hi(e){const t=(0,l.Z)(),s=(0,a.X)(o.Z);if(s.error)return(0,w.tZ)(n.Z,{message:(0,r.t)("There was an error loading your organization's environments")});if(!s.environments)return(0,w.tZ)(i.Z,{});const{selection:d,...c}=e,p=s.environments.filter((e=>d.environments.includes(e.name)));return(0,w.tZ)(Yi,{...c,api:t,environments:p})}Hi.displayName="GroupEventDetailsContainer";const Qi=(0,d.Z)((0,c.Z)(Hi))},"./app/views/organizationGroupDetails/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{Ad:()=>g,M3:()=>v,MN:()=>d,V7:()=>c,dG:()=>u,g5:()=>p,m7:()=>Z,sC:()=>m});var n=s("../node_modules/lodash/orderBy.js"),i=s.n(n),r=s("./app/actionCreators/group.tsx"),o=s("./app/api.tsx"),a=s("./app/locale.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");async function d(e,t,s,n,i,r){const o="latest"===n||"oldest"===n?`/issues/${s}/events/${n}/`:`/projects/${t}/${r}/events/${n}/?group_id=${s}`,a={};return 0!==i.length&&(a.environment=i),await e.requestPromise(o,{query:a})}function c(e,t,s,n){(0,r.Gv)(e,{orgId:t,projectId:s,itemIds:[n],failSilently:!0,data:{hasSeen:!0}},{})}function p(e,t){return(new o.KU).requestPromise(`/issues/${e}/user-reports/`,{includeAllArgs:!0,query:t})}function u(e){const t=e.tags.find((e=>{let{key:t}=e;return"environment"===t}));return t?t.value:null}const h={commented:(0,a.t)("You're receiving workflow notifications because you have commented on this issue."),assigned:(0,a.t)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:(0,a.t)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:(0,a.t)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:(0,a.t)("You're receiving workflow notifications because you have been mentioned in this issue.")};function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return(0,a._N)("You have [link:disabled workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})});if(!e.isSubscribed)return(0,a.t)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){const{reason:t}=e.subscriptionDetails;if("unknown"===t)return(0,a.t)("You're receiving workflow notifications because you are subscribed to this issue.");if(t&&h.hasOwnProperty(t))return h[t]}return(0,a._N)("You're receiving updates because you are [link:subscribed to workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})})}function g(e){return i()([...e],(e=>{let{dateCreated:t}=e;return new Date(t)}),["desc"])[0]}let Z;function v(e,t){const{status:s,count:n,activity:i}=e,r=Number(n);switch(s){case"reprocessing":return Z.REPROCESSING;case"unresolved":return"reprocess"===(t??g(i))?.type?0===r?Z.REPROCESSED_AND_HASNT_EVENT:Z.REPROCESSED_AND_HAS_EVENT:Z.NO_STATUS;default:return Z.NO_STATUS}}!function(e){e.REPROCESSED_AND_HASNT_EVENT="reprocessed_and_hasnt_event",e.REPROCESSED_AND_HAS_EVENT="reprocessed_and_has_event",e.REPROCESSING="reprocessing",e.NO_STATUS="no_status"}(Z||(Z={}))},"./app/views/organizationIntegrations/integrationItem.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/styles/space.tsx"),r=s("./app/views/organizationIntegrations/integrationIcon.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{integration:t,compact:s=!1}=e;return(0,o.BX)(d,{children:[(0,o.tZ)("div",{children:(0,o.tZ)(r.Z,{size:s?22:32,integration:t})}),(0,o.BX)(c,{compact:s,children:[(0,o.tZ)(p,{"data-test-id":"integration-name",children:t.name}),(0,o.tZ)(u,{compact:s,children:t.domainName})]})]})}a.displayName="IntegrationItem";const l=a,d=(0,n.Z)("div",{target:"e1k6l1f03"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),c=(0,n.Z)("div",{target:"e1k6l1f02"})("box-sizing:border-box;display:flex;",(e=>e.compact?"align-items: center;":""),";flex-direction:",(e=>e.compact?"row":"column"),";padding-left:",(0,i.Z)(1),";min-width:0;justify-content:center;"),p=(0,n.Z)("div",{target:"e1k6l1f01"})("font-size:",(e=>e.theme.fontSizeMedium),";font-weight:bold;"),u=(0,n.Z)("div",{target:"e1k6l1f00"})("color:",(e=>e.theme.subText),";margin-left:",(e=>e.compact?(0,i.Z)(1):"inherit"),";margin-top:",(e=>e.compact?"inherit":0),";font-size:",(e=>e.theme.fontSizeSmall),";overflow:hidden;text-overflow:ellipsis;")},"./app/views/organizationIntegrations/sentryAppExternalForm.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>v});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),r=s("../node_modules/react-select/dist/Select-dbb12e54.esm.js"),o=s("../node_modules/lodash/debounce.js"),a=s.n(o),l=s("./app/actionCreators/indicator.tsx"),d=s("./app/components/forms/fieldFromConfig.tsx"),c=s("./app/components/forms/form.tsx"),p=s("./app/components/forms/model.tsx"),u=s("./app/locale.tsx"),h=s("./app/utils/replaceAtArrayIndex.tsx"),m=s("./app/utils/withApi.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class Z extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{optionsByField:new Map,selectedOptions:{}}),(0,n.Z)(this,"model",new p.Z),(0,n.Z)(this,"onSubmitError",(()=>{const{action:e,appName:t}=this.props;(0,l.Iw)((0,u.t)("Unable to %s %s %s.",e,t,this.getElementText()))})),(0,n.Z)(this,"getOptions",((e,t)=>new Promise((s=>{this.debouncedOptionLoad(e,t,s)})))),(0,n.Z)(this,"getElementText",(()=>{const{element:e}=this.props;switch(e){case"issue-link":return"issue";case"alert-rule-action":return"alert";default:return"connection"}})),(0,n.Z)(this,"getDefaultOptions",(e=>{const t=((this.props.resetValues||{}).settings||[]).find((t=>t.name===e.name)),s=(e.choices||[]).map((e=>{let[t,s]=e;return{value:t,label:s}}));return t?.value&&t?.label&&!s.some((e=>e.value===t?.value))?[{value:t.value,label:t.label},...s]:s})),(0,n.Z)(this,"getDefaultFieldValue",(e=>{const{resetValues:t,getFieldDefault:s}=this.props;let n=e?.defaultValue;e.default&&s&&(n=s(e));const i=((t||{}).settings||[]).find((t=>t.name===e.name));return i&&(n=i.value),n})),(0,n.Z)(this,"debouncedOptionLoad",a()((async(e,t,s)=>{const n=(await this.makeExternalRequest(e,t)).map((e=>{let[t,s]=e;return{value:t,label:s}})),i=new Map(this.state.optionsByField);return i.set(e.name,n),this.setState({optionsByField:i}),s(n)}),200,{trailing:!0})),(0,n.Z)(this,"makeExternalRequest",(async(e,t)=>{const{extraRequestBody:s={},sentryAppInstallationUuid:n}=this.props,i={...s,uri:e.uri,query:t};if(e.depends_on){const t=e.depends_on.reduce(((e,t)=>(e[t]=this.model.getValue(t),e)),{});i.dependentData=JSON.stringify(t)}const{choices:r}=await this.props.api.requestPromise(`/sentry-app-installations/${n}/external-requests/`,{query:i});return r||[]})),(0,n.Z)(this,"handleFieldChange",(async e=>{const t=this.state;let s=t.required_fields||[],n=t.optional_fields||[];const i=s.concat(n).filter((t=>{let{depends_on:s}=t;return!!s&&s.includes(e)})),r=await Promise.all(i.map((e=>(this.model.setValue(e.name||"","",{quiet:!0}),this.makeExternalRequest(e,"")))));this.setState((e=>(s=e.required_fields||[],n=e.optional_fields||[],i.forEach(((e,t)=>{const i=r[t],o=s.indexOf(e),a=n.indexOf(e),l={...e,choices:i};o>-1?s=(0,h.m)(s,o,l):a>-1&&(n=(0,h.m)(n,a,l))})),{required_fields:s,optional_fields:n})))})),(0,n.Z)(this,"createPreserveOptionFunction",(e=>(t,s)=>{this.setState({selectedOptions:{...this.state.selectedOptions,[e]:t}})})),(0,n.Z)(this,"renderField",((e,t)=>{let s={...e,inline:!1,stacked:!0,flexibleControlStateSize:!0,required:t};if(e?.uri&&e?.async&&(s.type="select_async"),["select","select_async"].includes(s.type||"")){const n=this.getDefaultOptions(e),i=this.state.optionsByField.get(e.name)||n;s={...s,options:i,defaultOptions:n,defaultValue:this.getDefaultFieldValue(e),filterOption:(0,r.c)({}),allowClear:!t,placeholder:"Type to search"},e.depends_on&&e.depends_on.some((e=>{return!((t=this.model.getValue(e))||0===t);var t}))&&(s={...s,disabled:!0})}["text","textarea"].includes(s.type||"")&&(s={...s,defaultValue:this.getDefaultFieldValue(e)});const n=e.uri?{loadOptions:t=>this.getOptions(e,t),async:e?.async??!0,cache:!1,onSelectResetsInput:!1,onCloseResetsInput:!1,onBlurResetsInput:!1,autoload:!1,onChangeOption:this.createPreserveOptionFunction(e.name)}:{};return(0,g.tZ)(d.Z,{field:s,"data-test-id":e.name,...n},e.name)})),(0,n.Z)(this,"handleAlertRuleSubmit",((e,t)=>{const{sentryAppInstallationUuid:s}=this.props;this.model.validateForm()&&t({settings:Object.entries(e).map((e=>{let[t,s]=e;const n={name:t,value:s},i=this.state.selectedOptions[t];return i?.value===s&&(n.label=`${i?.label}`),n})),sentryAppInstallationUuid:s,hasSchemaFormConfig:!0})}))}componentDidMount(){this.resetStateFromProps()}componentDidUpdate(e){e.action!==this.props.action&&(this.model.reset(),this.resetStateFromProps())}resetStateFromProps(){const{config:e,action:t,extraFields:s,element:n}=this.props;if(this.setState({required_fields:e.required_fields,optional_fields:e.optional_fields}),"alert-rule-action"===n){const e=((this.props.resetValues||{}).settings||[]).reduce(((e,t)=>(e[t.name]=t.value,e)),{});this.model.setInitialData({...e})}else this.model.setInitialData({...s,action:t,uri:e.uri})}render(){const{sentryAppInstallationUuid:e,action:t,element:s,onSubmitSuccess:n}=this.props,i=this.state.required_fields||[],r=this.state.optional_fields||[];return e?(0,g.BX)(c.Z,{apiEndpoint:`/sentry-app-installations/${e}/external-issue-actions/`,apiMethod:"POST",onSubmit:"alert-rule-action"===s?this.handleAlertRuleSubmit:void 0,onSubmitSuccess:function(){n(...arguments)},onSubmitError:this.onSubmitError,onFieldChange:this.handleFieldChange,model:this.model,children:[i.map((e=>this.renderField(e,!0))),r.map((e=>this.renderField(e,!1)))]},t):""}}Z.displayName="SentryAppExternalForm";const v=(0,m.Z)(Z)},"../node_modules/lodash/isNull.js":e=>{e.exports=function(e){return null===e}},"?71ff":()=>{},"?0699":()=>{},"?1357":()=>{},"?d941":()=>{},"?94ca":()=>{},"?3018":()=>{}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_groupEventDetails_index_tsx.43b11942edfeee3836ff51d461f625a9.js.map