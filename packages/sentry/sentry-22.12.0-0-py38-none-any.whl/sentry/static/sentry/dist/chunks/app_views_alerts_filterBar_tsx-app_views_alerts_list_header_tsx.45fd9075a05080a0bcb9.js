"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_filterBar_tsx-app_views_alerts_list_header_tsx"],{"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("./app/components/alert.tsx"),n=s("./app/locale.tsx"),i=s("./app/utils/isRenderFunc.tsx"),l=s("./app/utils/withConfig.tsx"),p=s("./app/utils/withOrganization.tsx");const c=(0,s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js").tZ)(o.Z,{type:"error",showIcon:!0,children:(0,n.t)("You do not have sufficient permissions to access this.")});class u extends a.Component{render(){const{organization:e,config:t,access:s,requireAll:r,isSuperuser:a,renderNoAccessMessage:o,children:n}=this.props,{access:l}=e||{access:[]},p=!s||s[r?"every":"some"]((e=>l.includes(e))),u=!(!t.user||!t.user.isSuperuser),d={hasAccess:p,hasSuperuser:u},m=p&&(!a||u);return m||"function"!=typeof o?!m&&o?c:(0,i.l)(n)?n(d):m?n:null:o(d)}}u.displayName="Access",(0,r.Z)(u,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const d=(0,p.Z)((0,l.Z)(u))},"./app/components/createAlertButton.tsx":(e,t,s)=>{s.d(t,{K:()=>h,Z:()=>Z});var r=s("./app/actionCreators/indicator.tsx"),a=s("./app/actionCreators/navigation.tsx"),o=s("./app/components/acl/access.tsx"),n=s("./app/components/assistant/guideAnchor.tsx"),i=s("./app/components/button.tsx"),l=s("./app/components/links/link.tsx"),p=s("./app/icons/index.tsx"),c=s("./app/locale.tsx"),u=s("./app/utils/useApi.tsx"),d=s("./app/utils/useRouter.tsx"),m=s("./app/views/alerts/wizard/options.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){let{projects:t,eventView:s,organization:r,referrer:a,onClick:o,alertType:n,disableMetricDataset:i,...l}=e;const p=t.find((e=>e.id===`${s.project[0]}`)),u=s.generateQueryStringObject();u.query?.includes(`project:${p?.slug}`)&&(u.query=u.query.replace(`project:${p?.slug}`,""));const d=n?m.FZ[n]:m.F4,h={pathname:`/organizations/${r.slug}/alerts/new/metric/`,query:{...u,createFromDiscover:!0,disableMetricDataset:i,referrer:a,...d,project:p?.slug,aggregate:u.yAxis??d.aggregate}};return(0,g.tZ)(x,{organization:r,onClick:()=>{o?.()},to:h,"aria-label":(0,c.t)("Create Alert"),...l})}h.displayName="CreateAlertFromViewButton";const x=e=>{let{organization:t,projectSlug:s,iconProps:m,referrer:h,hideIcon:x,showPermissionGuide:Z,alertOption:y,onEnter:b,...v}=e;const w=(0,d.Z)(),j=(0,u.Z)(),f=e=>{const s=new URLSearchParams;return h&&s.append("referrer",h),":projectId"!==e&&s.append("project",e),y&&s.append("alert_option",y),`/organizations/${t.slug}/alerts/wizard/?${s.toString()}`};function _(e){e.preventDefault(),b?.(),(0,a.T)(f(":projectId"),w)}async function A(){const e=`/organizations/${t.slug}/`;(0,r.E3)();try{await j.requestPromise(e,{method:"PUT",data:{alertsMemberWrite:!0}}),(0,r.S9)((0,c.t)("Successfully updated organization settings"))}catch(e){(0,r.Iw)((0,c.t)("Unable to update organization settings"))}}const z=(0,c._N)("Ask your organization owner or manager to [settingsLink:enable alerts access] for you.",{settingsLink:(0,g.tZ)(l.Z,{to:`/settings/${t.slug}`})}),k=e=>(0,g.tZ)(i.ZP,{disabled:!e,title:e?void 0:z,icon:!x&&(0,g.tZ)(p.vr,{...m}),to:s?f(s):void 0,tooltipProps:{isHoverable:!0,position:"top",overlayStyle:{maxWidth:"270px"}},onClick:s?b:_,...v,children:v.children??(0,c.t)("Create Alert")}),C=!t.alertsMemberWrite&&!!Z;return(0,g.tZ)(o.Z,{organization:t,access:["alerts:write"],children:e=>{let{hasAccess:s}=e;return C?(0,g.tZ)(o.Z,{organization:t,access:["org:write"],children:e=>{let{hasAccess:t}=e;return(0,g.tZ)(n.Z,{target:t?"alerts_write_owner":"alerts_write_member",onFinish:t?A:void 0,children:k(s)})}}):k(s)}})};x.displayName="CreateAlertButton";const Z=x},"./app/views/alerts/filterBar.tsx":(e,t,s)=>{s.d(t,{Z:()=>g});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/components/buttonBar.tsx"),o=s("./app/components/compactSelect.tsx"),n=s("./app/components/projectPageFilter.tsx"),i=s("./app/components/searchBar.tsx"),l=s("./app/locale.tsx"),p=s("./app/styles/space.tsx"),c=s("./app/views/alerts/list/rules/teamFilter.tsx"),u=s("./app/views/alerts/utils/index.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{location:t,onChangeSearch:s,onChangeFilter:r,onChangeStatus:a,hasStatusFilters:p}=e;const m=(0,u.LI)(t.query.team),g=(0,u.g2)(t.query.status);return(0,d.BX)(h,{children:[(0,d.BX)(x,{gap:1.5,children:[(0,d.tZ)(c.Z,{selectedTeams:m,handleChangeFilter:r}),(0,d.tZ)(n.Z,{}),p&&a&&(0,d.tZ)(o.Z,{triggerProps:{prefix:(0,l.t)("Status")},options:[{value:"all",label:(0,l.t)("All")},{value:"open",label:(0,l.t)("Active")},{value:"closed",label:(0,l.t)("Inactive")}],value:g,onChange:e=>{let{value:t}=e;return a(t)}})]}),(0,d.tZ)(i.Z,{placeholder:(0,l.t)("Search by name"),query:t.query?.name,onSearch:s})]})}m.displayName="FilterBar";const g=m,h=(0,r.Z)("div",{target:"e8u29161"})("display:grid;gap:",(0,p.Z)(1.5),";margin-bottom:",(0,p.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:min-content 1fr;}"),x=(0,r.Z)(a.ZP,{target:"e8u29160"})("@media (max-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:flex-start;gap:",(0,p.Z)(1.5),";}@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:grid;grid-auto-columns:minmax(auto, 300px);}")},"./app/views/alerts/list/header.tsx":(e,t,s)=>{s.d(t,{Z:()=>v});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/actionCreators/navigation.tsx"),o=s("./app/components/button.tsx"),n=s("./app/components/buttonBar.tsx"),i=s("./app/components/createAlertButton.tsx"),l=s("./app/components/globalSelectionLink.tsx"),p=s("./app/components/layouts/thirds.tsx"),c=s("./app/components/links/externalLink.tsx"),u=s("./app/components/pageHeadingQuestionTooltip.tsx"),d=s("./app/icons/index.tsx"),m=s("./app/locale.tsx"),g=s("./app/stores/projectsStore.tsx"),h=s("./app/styles/space.tsx"),x=s("./app/utils/useOrganization.tsx"),Z=s("./app/utils/usePageFilters.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const b=e=>{let{router:t,activeTab:s}=e;const r=(0,x.Z)(),{selection:n}=(0,Z.Z)(),h=(0,y.tZ)("li",{className:"rules"===s?"active":"",children:(0,y.tZ)(l.Z,{to:`/organizations/${r.slug}/alerts/rules/`,children:(0,m.t)("Alert Rules")})});return(0,y.BX)(p.h4,{children:[(0,y.tZ)(p.oB,{children:(0,y.BX)(w,{children:[(0,m.t)("Alerts"),(0,y.tZ)(u.u,{title:(0,m._N)("Real-time visibility into problems with your code and the impact on your users, along with a view of your existing alert rules, their status, project, team, and creation date. [link: Read the docs].",{link:(0,y.tZ)(c.Z,{href:"https://docs.sentry.io/product/alerts/"})})})]})}),(0,y.tZ)(p.kP,{children:(0,y.BX)(j,{gap:1,children:[(0,y.tZ)(i.Z,{organization:r,iconProps:{size:"sm"},size:"sm",priority:"primary",referrer:"alert_stream",showPermissionGuide:!0,projectSlug:1===n.projects.length?g.Z.getById(`${n.projects[0]}`)?.slug:void 0,children:(0,m.t)("Create Alert")}),(0,y.tZ)(o.ZP,{size:"sm",onClick:e=>{e.preventDefault(),(0,a.T)(`/settings/${r.slug}/projects/:projectId/alerts/`,t)},href:"#",icon:(0,y.tZ)(d.iC,{size:"sm"}),"aria-label":(0,m.t)("Settings")})]})}),(0,y.BX)(p.mL,{underlined:!0,children:[h,(0,y.tZ)("li",{className:"stream"===s?"active":"",children:(0,y.tZ)(l.Z,{to:`/organizations/${r.slug}/alerts/`,children:(0,m.t)("History")})})]})]})};b.displayName="AlertHeader";const v=b,w=(0,r.Z)(p.Dx,{target:"e59niir1"})("margin-top:",(0,h.Z)(.5),";"),j=(0,r.Z)(n.ZP,{target:"e59niir0"})({name:"s0vnfv",styles:"height:32px"})}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_filterBar_tsx-app_views_alerts_list_header_tsx.f6be1542f956903257a287ef38c5436b.js.map