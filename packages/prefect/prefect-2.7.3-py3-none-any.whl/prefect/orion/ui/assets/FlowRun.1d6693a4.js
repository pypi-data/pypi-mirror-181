import{d as S,r as D,D as L,c as n,i as N,a as B,E as P,H as Q,I as U,b as o,w as a,u as V,U as q,N as A,e as p,o as u,g as e,T as E,k as r,Q as w,f as d,L as H,M as K,R as M,S as O,B as Z}from"./index.9fe0d749.js";import{u as $}from"./usePageTitle.40239682.js";const J=S({__name:"FlowRun",setup(j){const i=V(),c=D("Logs"),f=L("flowRunId"),m=n(()=>{const t=["Logs","Task Runs","Subflow Runs","Parameters"];return q.xl||t.push("Details"),t}),_=N(),v=B(_.flowRuns.getFlowRun,[f],{interval:3e4}),s=n(()=>v.response),y=n(()=>{var t;return(t=s.value)==null?void 0:t.deploymentId}),R=P(y);Q(f,(t,l)=>{t!==l&&(c.value="Logs")});const k=n(()=>{var t,l;return(l=(t=s.value)==null?void 0:t.parameters)!=null?l:{}}),b=n(()=>{var t,l;return(l=(t=R.value)==null?void 0:t.parameterOpenApiSchema)!=null?l:{}}),g=n(()=>A(k.value,b.value));function T(){i.push(Z.flowRuns())}const h=n(()=>{var t;return(t=s.value)==null?void 0:t.stateType});U(h);const F=n(()=>s.value?`Flow Run: ${s.value.name}`:"Flow Run");return $(F),(t,l)=>{const x=p("p-tabs"),C=p("p-layout-well");return u(),o(C,{class:"flow-run"},{header:a(()=>[e(s)?(u(),o(e(E),{key:0,"flow-run-id":e(s).id,onDelete:T},null,8,["flow-run-id"])):r("",!0)]),well:a(()=>[e(s)?(u(),o(e(w),{key:0,"flow-run":e(s),alternate:""},null,8,["flow-run"])):r("",!0)]),default:a(()=>[d(x,{selected:c.value,"onUpdate:selected":l[0]||(l[0]=I=>c.value=I),tabs:e(m)},{details:a(()=>[e(s)?(u(),o(e(w),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),logs:a(()=>[e(s)?(u(),o(e(H),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),"task-runs":a(()=>[e(s)?(u(),o(e(K),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),"subflow-runs":a(()=>[e(s)?(u(),o(e(M),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),parameters:a(()=>[d(e(O),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{J as default};
