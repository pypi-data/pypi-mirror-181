import{d as y,D as h,i as D,c as a,X as c,I as x,g as t,b as C,w as n,k as S,u as B,U as N,e as i,o as q,f as u,_ as A,$ as p,a0 as F,S as U,B as V}from"./index.9fe0d749.js";import{u as $}from"./usePageTitle.40239682.js";const X=y({__name:"TaskRun",setup(J){const k=B(),o=h("taskRunId"),r=D(),f=a(()=>{const s=["Logs","Task Inputs"];return N.xl||s.push("Details"),s}),d=a(()=>o.value?[o.value]:null),R=c(r.taskRuns.getTaskRun,d,{interval:3e4}),e=a(()=>R.response),l=a(()=>{var s;return(s=e.value)==null?void 0:s.flowRunId}),_=a(()=>l.value?[l.value]:null),v=c(r.flowRuns.getFlowRun,_),m=a(()=>{var s;return(s=e.value)!=null&&s.taskInputs?JSON.stringify(e.value.taskInputs,void 0,2):"{}"});function w(){v.refresh(),k.push(V.flowRun(l.value))}const I=a(()=>{var s;return(s=e.value)==null?void 0:s.stateType});x(I);const g=a(()=>e.value?`Task Run: ${e.value.name}`:"Task Run");return $(g),(s,L)=>{const T=i("p-tabs"),b=i("p-layout-well");return t(e)?(q(),C(b,{key:0,class:"task-run"},{header:n(()=>[u(t(A),{"task-run-id":t(e).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(p),{alternate:"","task-run":t(e)},null,8,["task-run"])]),default:n(()=>[u(T,{tabs:t(f)},{details:n(()=>[u(t(p),{"task-run":t(e)},null,8,["task-run"])]),logs:n(()=>[u(t(F),{"task-run":t(e)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(U),{value:t(m)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):S("",!0)}}});export{X as default};
