import{n as K,A as T,x as Y,d as j,i as q,a as c,c as r,Y as E,r as I,b as t,w as i,u as L,e as F,o as s,f as a,g as e,O as M,h as g,J as Q,F as b,Z as W,U as C,j as X,m as $,k as d,l as y,p as ee,q as se,s as te,P as oe,t as V,K as ne,v as le,G as ae,y as ue,z as re,B as ce}from"./index.9fe0d749.js";import{u as ie}from"./usePageTitle.40239682.js";class de extends T(Y){}const pe=K(new de);const fe={class:"flow-runs__list"},we={class:"flow-runs__list-controls"},_e={class:"flow-runs__list-controls--right"},Re=j({__name:"FlowRuns",setup(x){const S=L(),p=q(),R=c(p.flowRuns.getFlowRunsCount,[{}]),U=r(()=>R.executed),A=r(()=>R.response===0),{filter:f,hasFilters:B,startDate:D,endDate:N,name:w,sort:_}=E(),m={interval:3e4},v=c(p.flowRuns.getFlowRunsCount,[f],m),O=r(()=>v.response),P=c(pe.getFlowRunHistory,[f],m),Z=r(()=>{var n;return(n=P.response)!=null?n:[]}),h=c(p.flowRuns.getFlowRuns,[f],m),k=r(()=>{var n;return(n=h.response)!=null?n:[]}),o=I([]);function H(){S.push(ce.flowRuns())}const z=()=>{o.value=[],h.refresh(),v.refresh()};return ie("Flow Runs"),(n,l)=>{const G=F("p-button"),J=F("p-layout-default");return s(),t(J,{class:"flow-runs"},{header:i(()=>[a(e(M))]),default:i(()=>[e(U)?(s(),g(b,{key:0},[e(A)?(s(),t(e(Q),{key:0})):(s(),g(b,{key:1},[a(e(W)),e(C).md?(s(),t(e(X),$({key:0,history:e(Z)},{startDate:e(D),endDate:e(N)},{class:"flow-runs__chart"}),null,16,["history"])):d("",!0),y("div",fe,[y("div",we,[y("div",_e,[o.value.length==0?(s(),t(e(ee),{key:0,count:e(O),label:"Flow run"},null,8,["count"])):(s(),t(e(se),{key:1,count:o.value.length},null,8,["count"])),a(e(te),{selected:o.value,onDelete:z},null,8,["selected"])]),e(C).md?(s(),t(e(oe),{key:0,modelValue:e(w),"onUpdate:modelValue":l[0]||(l[0]=u=>V(w)?w.value=u:null),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):d("",!0),a(e(ne),{modelValue:e(_),"onUpdate:modelValue":l[1]||(l[1]=u=>V(_)?_.value=u:null)},null,8,["modelValue"])]),a(e(le),{selected:o.value,"onUpdate:selected":l[2]||(l[2]=u=>o.value=u),"flow-runs":e(k)},null,8,["selected","flow-runs"]),e(k).length?d("",!0):(s(),t(e(ae),{key:0},ue({_:2},[e(B)?{name:"actions",fn:i(()=>[a(G,{size:"sm",secondary:"",onClick:H},{default:i(()=>[re(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):d("",!0)]),_:1})}}});export{Re as default};
