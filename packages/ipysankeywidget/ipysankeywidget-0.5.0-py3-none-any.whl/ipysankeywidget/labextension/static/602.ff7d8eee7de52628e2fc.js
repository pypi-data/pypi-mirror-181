(self.webpackChunkjupyter_sankey_widget=self.webpackChunkjupyter_sankey_widget||[]).push([[602],{9602:(e,t,n)=>{var o;!function(){var r=t||{}||this;function a(e){if(!((t=e)instanceof HTMLElement||t instanceof SVGElement))throw new Error("an HTMLElement or SVGElement is required; got "+e);var t}function i(e,t,n){var o=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[n]||null!==t.getAttribute(n)&&!t.getAttribute(n).match(/%$/)&&parseInt(t.getAttribute(n))||e.getBoundingClientRect()[n]||parseInt(t.style[n])||parseInt(window.getComputedStyle(e).getPropertyValue(n));return null==o||isNaN(parseFloat(o))?0:o}function s(e){for(var t=window.atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),r=new Uint8Array(o),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return new Blob([o],{type:n})}r.prepareSvg=function(e,t,n){a(e),(t=t||{}).scale=t.scale||1,t.responsive=t.responsive||!1;var o="http://www.w3.org/2000/xmlns/";!function(e,t){a(e);var n=e.querySelectorAll("image"),o=n.length,r=function(){0===o&&t()};r();for(var i=0;i<n.length;i++)!function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href");if(t&&(n=t.value)&&0==n.lastIndexOf("http",0)&&-1==n.lastIndexOf(window.location.host))console.warn("Cannot render embedded images linking to external hosts: "+t.value);else{var n,a=document.createElement("canvas"),i=a.getContext("2d"),s=new Image;s.crossOrigin="anonymous",(t=t||e.getAttribute("href"))?(s.src=t,s.onload=function(){a.width=s.width,a.height=s.height,i.drawImage(s,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",a.toDataURL("image/png")),o--,r()},s.onerror=function(){console.log("Could not load "+t),o--,r()}):(o--,r())}}(n[i])}(e,(function(){var r,a,s=document.createElement("div"),l=e.cloneNode(!0);if("svg"==e.tagName)r=t.width||i(e,l,"width"),a=t.height||i(e,l,"height");else{if(!e.getBBox)return void console.error("Attempted to render non-SVG element",e);var c=e.getBBox();r=c.x+c.width,a=c.y+c.height,l.setAttribute("transform",l.getAttribute("transform").replace(/translate\(.*?\)/,""));var d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.appendChild(l),l=d}l.setAttribute("version","1.1"),l.getAttribute("xmlns")||l.setAttributeNS(o,"xmlns","http://www.w3.org/2000/svg"),l.getAttribute("xmlns:xlink")||l.setAttributeNS(o,"xmlns:xlink","http://www.w3.org/1999/xlink"),t.responsive?(l.removeAttribute("width"),l.removeAttribute("height"),l.setAttribute("preserveAspectRatio","xMinYMin meet")):(l.setAttribute("width",r*t.scale),l.setAttribute("height",a*t.scale)),l.setAttribute("viewBox",[t.left||0,t.top||0,r,a].join(" "));for(var f=l.querySelectorAll("foreignObject > *"),u=0;u<f.length;u++)f[u].getAttribute("xmlns")||f[u].setAttributeNS(o,"xmlns","http://www.w3.org/1999/xhtml");s.appendChild(l),function(e,t,n){for(var o=t.selectorRemap,r=t.modifyStyle,a="",i=[],s=document.styleSheets,l=0;l<s.length;l++){try{var c=s[l].cssRules}catch(e){console.warn("Stylesheet could not be loaded: "+s[l].href);continue}if(null!=c)for(var d,f=0;f<c.length;f++,d=null){var u=c[f];if(void 0!==u.style){var g;try{g=u.selectorText}catch(e){console.warn('The following CSS rule has an invalid selector: "'+u+'"',e)}try{g&&(d=e.querySelector(g)||e.parentNode.querySelector(g))}catch(e){console.warn('Invalid CSS selector "'+g+'"',e)}if(d){var w=o?o(u.selectorText):u.selectorText,h=r?r(u.style.cssText):u.style.cssText;a+=w+" { "+h+" }\n"}else if(u.cssText.match(/^@font-face/)){var p=/url\(["']?(.+?)["']?\)/,v=u.cssText.match(p),m=v&&v[1]||"";m.match(/^data:/)&&(m=""),"about:blank"===m&&(m=""),m?(m.startsWith("../")?m=s[l].href+"/../"+m:m.startsWith("./")&&(m=s[l].href+"/."+m),i.push({text:u.cssText,fontUrlRegexp:p,format:b(m),url:m})):a+=u.cssText+"\n"}}}}function b(e){for(var t={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},n=Object.keys(t),o=0;o<n.length;++o){var r=n[o];if(e.indexOf("."+r)>0)return t[r]}return console.error("Unknown font format for "+e+"; Fonts may not be working correctly"),"application/octet-stream"}!function e(t){t.length>0?function(n){var o=new XMLHttpRequest;function r(o){console.warn("Failed to load font from: "+n.url),console.warn(o),a+=n.text+"\n",e(t)}function i(n,o){var r='url("data:'+n.format+";base64,"+o+'")';a+=n.text.replace(n.fontUrlRegexp,r)+"\n",setTimeout((function(){e(t)}),0)}o.addEventListener("load",(function(){var e=function(e){for(var t="",n=new Uint8Array(e),o=n.byteLength,r=0;r<o;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}(o.response);i(n,e)})),o.addEventListener("error",r),o.addEventListener("abort",r),o.open("GET",n.url),o.responseType="arraybuffer",o.send()}(t.pop()):n(a)}(i)}(e,t,(function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML="<![CDATA[\n"+e+"\n]]>";var o=document.createElement("defs");if(o.appendChild(t),l.insertBefore(o,l.firstChild),n){var i=s.innerHTML;i=i.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),n(i,r,a)}}))}))},r.svgAsDataUri=function(e,t,n){r.prepareSvg(e,t,(function(e){var t,o="data:image/svg+xml;base64,"+window.btoa((t='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+e,t=(t=encodeURIComponent(t)).replace(/%([0-9A-F]{2})/g,(function(e,t){var n=String.fromCharCode("0x"+t);return"%"===n?"%25":n})),decodeURIComponent(t)));n&&n(o)}))},r.svgAsPngUri=function(e,t,n){a(e),(t=t||{}).encoderType=t.encoderType||"image/png",t.encoderOptions=t.encoderOptions||.8;var o=function(e,o,r){var a,i=document.createElement("canvas"),s=i.getContext("2d");i.width=o,i.height=r,t.canvg?t.canvg(i,e):s.drawImage(e,0,0),t.backgroundColor&&(s.globalCompositeOperation="destination-over",s.fillStyle=t.backgroundColor,s.fillRect(0,0,i.width,i.height));try{a=i.toDataURL(t.encoderType,t.encoderOptions)}catch(e){if("undefined"!=typeof SecurityError&&e instanceof SecurityError||"SecurityError"==e.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw e}n(a)};t.canvg?r.prepareSvg(e,t,o):r.svgAsDataUri(e,t,(function(e){var t=new Image;t.onload=function(){o(t,t.width,t.height)},t.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(e.slice(26)),"\n","Open the following link to see browser's diagnosis\n",e)},t.src=e}))},r.download=function(e,t){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(s(t),e);else{var n=document.createElement("a");if("download"in n){n.download=e,n.style.display="none",document.body.appendChild(n);try{var o=s(t),r=URL.createObjectURL(o);n.href=r,n.onclick=function(){requestAnimationFrame((function(){URL.revokeObjectURL(r)}))}}catch(e){console.warn("This browser does not support object URLs. Falling back to string URL."),n.href=t}n.click(),document.body.removeChild(n)}else window.open(t,"_temp","menubar=no,toolbar=no,status=no")}},r.saveSvg=function(e,t,n){a(e),n=n||{},r.svgAsDataUri(e,n,(function(e){r.download(t,e)}))},r.saveSvgAsPng=function(e,t,n){a(e),n=n||{},r.svgAsPngUri(e,n,(function(e){r.download(t,e)}))},void 0===(o=function(){return r}.call(t,n,t,e))||(e.exports=o)}()}}]);