"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[611],{33265:function(n,e,t){t.r(e),t.d(e,{CodeLocationsPage:function(){return tn},default:function(){return on}});var o=t(31112),r=t(12745),i=t(32030),s=t(325),a=t(78093),c=t(78072),l=t(34595),d=t(89646),u=t(55113),x=t(19065),h=t(59019),p=t(7838),f=t(14198),j=t(75453),m=t(54268),g=t(60652),y=t(11831),w=t(24971),v=t(74549),b=t(63579),C=t(86562),O=t(17235),Z=t(55690),k=t.n(Z),_=t(55419),I=t(32289),N={showSeconds:!0,showTimezone:!0},E=function(n){var e=n.unixTimestamp;return(0,I.jsx)(y.u,{placement:"top",content:(0,I.jsx)(_.E,{timestamp:{unix:e},timeFormat:N}),children:k().unix(e).fromNow()})},R=t(16798),z=t(95764),L=t(762),T=t(8412),G=t(8358),$=t(24818),S=t(6796),U=function(n){var e=n.locationNode,t=s.useState(!1),o=(0,x.Z)(t,2),r=o[0],i=o[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(L.J,{position:"bottom-left",content:(0,I.jsx)(T.v2,{children:(0,I.jsx)(T.sN,{icon:"info",text:"View configuration",onClick:function(){return i(!0)}})}),children:(0,I.jsx)(j.zx,{icon:(0,I.jsx)(w.JO,{name:"expand_more"})})}),(0,I.jsx)(V,{metadata:e.displayMetadata,isOpen:r,setIsOpen:i})]})},V=function(n){var e=n.isOpen,t=n.setIsOpen,o=n.metadata;return(0,I.jsxs)(G.Vq,{title:"Code location configuration",icon:"info",isOpen:e,onClose:function(){return t(!1)},style:{width:"600px"},children:[(0,I.jsx)(M,{displayMetadata:o}),(0,I.jsx)(G.cN,{topBorder:!0,children:(0,I.jsx)(j.zx,{onClick:function(){return t(!1)},intent:"primary",children:"Done"})})]})},M=function(n){var e=n.displayMetadata,t=s.useMemo((function(){var n=e.reduce((function(n,e){return(0,z.Z)((0,z.Z)({},n),{},(0,R.Z)({},e.key,e.value))}),{});return S.Pz(n)}),[e]);return(0,I.jsx)($.NU,{value:t,options:{lineNumbers:!0,mode:"yaml"},theme:["config-editor"]})},P=t(922),F=t(39061),J=t(25582),D=function(n){var e=n.repo,t=n.repoAddress,o=e.assetGroups.length,r=e.pipelines.filter((function(n){var e=n.name;return!(0,F.pv)(e)})).length,s=e.schedules.length,a=e.sensors.length;return(0,I.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,I.jsx)(y.u,{content:1===o?"1 asset group":"".concat(o," asset groups"),placement:"top",children:(0,I.jsx)(W,{to:(0,J.$U)(t,"/assets"),children:(0,I.jsx)(m.V,{interactive:!0,icon:"asset_group",children:o})})}),(0,I.jsx)(y.u,{content:1===r?"1 job":"".concat(r," jobs"),placement:"top",children:(0,I.jsx)(W,{to:(0,J.$U)(t,"/jobs"),children:(0,I.jsx)(m.V,{interactive:!0,icon:"job",children:r})})}),(0,I.jsx)(y.u,{content:1===s?"1 schedule":"".concat(s," schedules"),placement:"top",children:(0,I.jsx)(W,{to:(0,J.$U)(t,"/schedules"),children:(0,I.jsx)(m.V,{interactive:!0,icon:"schedule",children:s})})}),(0,I.jsx)(y.u,{content:1===a?"1 sensor":"".concat(a," sensors"),placement:"top",children:(0,I.jsx)(W,{to:(0,J.$U)(t,"/sensors"),children:(0,I.jsx)(m.V,{interactive:!0,icon:"sensors",children:a})})})]})},W=(0,P.ZP)(v.rU).withConfig({displayName:"RepositoryCountTags__CountLink",componentId:"o8gw04-0"})([":hover,:active{outline:none;text-decoration:none;}"]),B=t(73362),q=t(37099),A=t(33902),Y=function(n){var e=n.locationNode,t=e.name,o=e.locationOrLoadError;if(!o||"PythonError"===(null===o||void 0===o?void 0:o.__typename))return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{style:{maxWidth:"400px",color:p.w.Gray500},children:(0,I.jsx)(f.g,{text:t})}),(0,I.jsx)("td",{children:(0,I.jsx)(H,{location:t,locationOrError:e})}),(0,I.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,I.jsx)(E,{unixTimestamp:e.updatedTimestamp})}),(0,I.jsx)("td",{children:"\u2013"}),(0,I.jsx)("td",{style:{width:"180px"},children:(0,I.jsxs)(j.zH,{children:[(0,I.jsx)(Q,{location:t}),(0,I.jsx)(U,{locationNode:e})]})})]});var r=(0,h.Z)(o.repositories).sort((function(n,e){return n.name.localeCompare(e.name)}));return(0,I.jsx)(I.Fragment,{children:r.map((function(n){var o=(0,q.kQ)(n.name,t);return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{style:{maxWidth:"400px",fontWeight:500},children:(0,I.jsx)(v.rU,{to:(0,J.$U)(o),children:(0,I.jsx)(f.g,{text:(0,A.Uz)(o)})})}),(0,I.jsx)("td",{children:(0,I.jsx)(H,{location:n.name,locationOrError:e})}),(0,I.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,I.jsx)(E,{unixTimestamp:e.updatedTimestamp})}),(0,I.jsx)("td",{children:(0,I.jsx)(D,{repo:n,repoAddress:o})}),(0,I.jsx)("td",{style:{width:"180px"},children:(0,I.jsxs)(j.zH,{children:[(0,I.jsx)(Q,{location:t}),(0,I.jsx)(U,{locationNode:e})]})})]},(0,A.Uz)(o))}))})},H=function(n){var e,t=n.location,o=n.locationOrError,r=s.useState(!1),a=(0,x.Z)(r,2),c=a[0],l=a[1],d=s.useMemo((function(){return(0,O.je)(t)}),[t]),u=(0,O.Dc)({scope:"location",reloadFn:d}),h=u.reloading,p=u.tryReload;return"LOADING"===o.loadStatus?o.locationOrLoadError?(0,I.jsx)(m.V,{minimal:!0,intent:"primary",children:"Updating..."}):(0,I.jsx)(m.V,{minimal:!0,intent:"primary",children:"Loading..."}):"PythonError"===(null===(e=o.locationOrLoadError)||void 0===e?void 0:e.__typename)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(i.x,{flex:{alignItems:"center",gap:12},children:[(0,I.jsx)(m.V,{minimal:!0,intent:"danger",children:"Failed"}),(0,I.jsx)(g.Z,{onClick:function(){return l(!0)},children:(0,I.jsx)("span",{style:{fontSize:"14px"},children:"View error"})})]}),(0,I.jsx)(B.p,{location:t,isOpen:c,error:o.locationOrLoadError,reloading:h,onDismiss:function(){return l(!1)},onTryReload:function(){return p()}})]}):(0,I.jsx)(m.V,{minimal:!0,intent:"success",children:"Loaded"})},Q=function(n){var e=n.location,t=(0,b.TE)().canReloadRepositoryLocation;return t.enabled?(0,I.jsx)(C.s,{location:e,children:function(n){var e=n.reloading,t=n.tryReload;return(0,I.jsx)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:(0,I.jsx)(j.zx,{icon:(0,I.jsx)(w.JO,{name:"refresh"}),loading:e,onClick:function(){return t()},children:"Reload"})})}}):(0,I.jsx)(y.u,{content:t.disabledReason,useDisabledButtonTooltipFix:!0,children:(0,I.jsx)(j.zx,{icon:(0,I.jsx)(w.JO,{name:"refresh"}),disabled:!0,children:"Reload"})})},K=t(76336),X=function(){var n=s.useContext(K.C5),e=n.locationEntries;return n.loading&&!e.length?(0,I.jsxs)(i.x,{flex:{gap:8,alignItems:"center"},padding:{horizontal:24},children:[(0,I.jsx)(l.$,{purpose:"body-text"}),(0,I.jsx)("div",{children:"Loading..."})]}):e.length?(0,I.jsxs)(u.i,{$monospaceFont:!1,children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{children:"Name"}),(0,I.jsx)("th",{children:"Status"}),(0,I.jsx)("th",{children:"Updated"}),(0,I.jsx)("th",{children:"Definitions"}),(0,I.jsx)("th",{children:"Actions"})]})}),(0,I.jsx)("tbody",{children:e.map((function(n){return(0,I.jsx)(Y,{locationNode:n},n.name)}))})]}):(0,I.jsx)(i.x,{padding:{vertical:32},children:(0,I.jsx)(d.t,{icon:"folder",title:"No code locations",description:"When you add a code location, your definitions will appear here."})})},nn=t(25171),en=t(8851),tn=function(){(0,a.Px)();var n=s.useContext(nn.N).pageTitle,e=s.useContext(K.C5),t=e.locationEntries,l=e.loading,d=s.useMemo((function(){var n=0;return t.forEach((function(e){var t;e.locationOrLoadError&&"PythonError"!==(null===(t=e.locationOrLoadError)||void 0===t?void 0:t.__typename)?n+=e.locationOrLoadError.repositories.length:n+=1})),n}),[t]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(o.m,{title:(0,I.jsx)(r.X6,{children:n}),tabs:(0,I.jsx)(en.Z,{tab:"locations"})}),(0,I.jsxs)(i.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},style:{height:"64px"},children:[(0,I.jsx)(r.pm,{id:"repository-locations",children:l||!d?"Code locations":1===d?"1 code location":"".concat(d," code locations")}),d>1?(0,I.jsx)(c.i,{}):null]}),(0,I.jsx)(X,{})]})},on=tn},8851:function(n,e,t){t.d(e,{Z:function(){return y}});var o=t(32030),r=t(31269),i=t(325),s=t(19102),a=t(24971),c=t(7838),l=t(13243),d=t(81081),u=t(32289),x=i.memo((function(){var n=i.useContext(l.Z).daemons;return n?(0,u.jsx)(d.a,{content:n.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,u.jsx)(a.JO,{name:"warning",color:c.w.Yellow500})}):null})),h=t(11831),p=t(34595),f=i.memo((function(n){var e=n.placeholder,t=i.useContext(l.Z).codeLocations;return t?"spinner"===t.type?(0,u.jsx)(h.u,{content:t.content,placement:"bottom",children:(0,u.jsx)(p.$,{purpose:"body-text",fillColor:c.w.Gray300})}):(0,u.jsx)(d.a,{content:t.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,u.jsx)(a.JO,{name:"warning",color:c.w.Yellow500})}):e?(0,u.jsx)("div",{style:{width:"16px"}}):null})),j=t(37286),m=t(25171),g=t(40515),y=function(n){var e=n.refreshState,t=n.tab,a=i.useContext(m.N).healthTitle,c=(0,g._)();return(0,u.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,u.jsxs)(r.mQ,{selectedTabId:t,children:[(0,u.jsx)(j.f,{id:"locations",title:"Code locations",to:"/locations",icon:(0,u.jsx)(f,{placeholder:!1})}),(0,u.jsx)(j.f,{id:"health",title:a,to:"/health",icon:(0,u.jsx)(x,{})}),c?(0,u.jsx)(j.f,{id:"config",title:"Configuration",to:"/config"}):null]}),e?(0,u.jsx)(o.x,{padding:{bottom:8},children:(0,u.jsx)(s.xi,{refreshState:e})}):null]})}},40515:function(n,e,t){t.d(e,{_:function(){return a}});var o,r=t(99500),i=t(73701),s=t(3159),a=function(){var n=(0,i.a)(c).data;return!(null===n||void 0===n||!n.instance.hasInfo)},c=(0,s.Ps)(o||(o=(0,r.Z)(["\n  query InstanceConfigHasInfo {\n    instance {\n      hasInfo\n    }\n  }\n"])))},37286:function(n,e,t){t.d(e,{f:function(){return d}});var o=t(95764),r=t(81034),i=t(922),s=t(31269),a=(t(325),t(74549)),c=t(32289),l=["to","title"],d=(0,i.ZP)((function(n){var e=n.to,t=n.title,i=(0,r.Z)(n,l),d=(0,s.xv)(n),u=(0,s.BY)(n),x="string"===typeof t?t:void 0;return(0,c.jsx)(a.rU,(0,o.Z)((0,o.Z)((0,o.Z)({to:e,title:x},d),i),{},{children:u}))})).withConfig({displayName:"TabLink",componentId:"sc-1rmmczd-0"})(["",""],s.gA)},78072:function(n,e,t){t.d(e,{i:function(){return p}});var o=t(19065),r=t(11831),i=t(75453),s=t(24971),a=t(8358),c=t(325),l=t(63579),d=t(12436),u=t(17235),x=t(73362),h=t(32289),p=function(n){var e=n.label,t=void 0===e?"Reload all":e,p=(0,l.TE)().canReloadWorkspace,f=(0,u.Dc)({scope:"workspace",reloadFn:u.rL}),j=f.reloading,m=f.tryReload,g=f.error,y=f.errorLocationId,w=c.useState(!!g),v=(0,o.Z)(w,2),b=v[0],C=v[1];return c.useEffect((function(){return C(!!g)}),[g]),p.enabled?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.zx,{onClick:m,icon:(0,h.jsx)(s.JO,{name:"refresh"}),loading:j,intent:"none",children:t}),y?(0,h.jsx)(x.V,{error:g,location:y,reloading:j,onTryReload:m,onDismiss:function(){return C(!1)},isOpen:b}):(0,h.jsxs)(a.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:b,children:[(0,h.jsx)(a.a7,{children:g&&(0,h.jsx)(d.T9,{error:g})}),(0,h.jsx)(a.cN,{children:(0,h.jsx)(i.zx,{onClick:function(){return C(!1)},children:"Dismiss"})})]})]}):(0,h.jsx)(r.u,{content:p.disabledReason,children:(0,h.jsx)(i.zx,{icon:(0,h.jsx)(s.JO,{name:"refresh"}),disabled:!0,intent:"none",children:t})})}},8412:function(n,e,t){t.d(e,{v2:function(){return x},cR:function(){return f},sN:function(){return j},AL:function(){return m},R:function(){return g}});var o=t(81034),r=t(95764),i=t(922),s=t(33918),a=(t(325),t(7838)),c=t(24971),l=t(32289),d=["icon","intent"],u=["icon","intent"],x=function(n){return(0,l.jsx)(y,(0,r.Z)({},n))},h=function(n){switch(n){case"primary":return a.w.Blue500;case"danger":return a.w.Red500;case"success":return a.w.Green500;case"warning":return a.w.Yellow500;default:return a.w.Gray900}},p=function(n){switch(n){case"primary":return a.w.Blue500;case"danger":return a.w.Red500;case"success":return a.w.Green500;case"warning":return a.w.Yellow500;default:return a.w.Gray900}},f=function(n,e){return n?"string"===typeof n?(0,l.jsx)(c.JO,{name:n,color:p(e)}):n:null},j=function(n){var e=n.icon,t=n.intent,i=(0,o.Z)(n,d);return(0,l.jsx)(w,(0,r.Z)((0,r.Z)({},i),{},{$textColor:h(t),icon:f(e,t)}))},m=function(n){var e=n.icon,t=n.intent,i=(0,o.Z)(n,u);return(0,l.jsx)(w,(0,r.Z)((0,r.Z)({},i),{},{target:"_blank",rel:"noreferrer nofollow",$textColor:h(t),icon:f(e,t)}))},g=(0,i.ZP)(s.R).withConfig({displayName:"Menu__MenuDivider",componentId:"qkix8g-0"})(["border-top:1px solid ",";margin:2px 0;"],a.w.Gray100),y=(0,i.ZP)(s.v2).withConfig({displayName:"Menu__StyledMenu",componentId:"qkix8g-1"})(["border-radius:4px;padding:8px 4px;"]),w=(0,i.ZP)(s.sN).withConfig({displayName:"Menu__StyledMenuItem",componentId:"qkix8g-2"})(["border-radius:4px;color:",";line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;font-size:14px;","{margin-top:2px;}&.bp3-intent-primary.bp3-active{background-color:",";","{background-color:",";}}&.bp3-disabled ","{opacity:0.5;}&.bp3-active ","{color:",";}",":first-child{margin-left:-4px;}&:hover{background:",";color:",";}&:focus{color:",";box-shadow:rgba(58,151,212,0.6) 0 0 0 2px;outline:none;}"],(function(n){return n.$textColor}),c.a1,a.w.Blue500,c.a1,a.w.White,c.a1,c.a1,a.w.White,c.a1,a.w.Gray100,(function(n){return n.$textColor}),(function(n){return n.$textColor}))},89646:function(n,e,t){t.d(e,{t:function(){return l}});t(325);var o=t(32030),r=t(7838),i=t(24971),s=t(34595),a=t(12745),c=t(32289),l=function(n){var e=n.title,t=n.description,l=n.icon,d=n.action,u=n.shrinkable,x=1===[e,t,d].filter(Boolean).length;return(0,c.jsxs)(o.x,{flex:{gap:20,alignItems:x?"center":"flex-start"},background:r.w.Gray50,padding:24,style:{margin:"auto",borderRadius:8,width:u?"initial":"max-content",maxWidth:500},children:["spinner"===l?(0,c.jsx)(s.$,{purpose:"section"}):"no-results"===l?(0,c.jsx)(i.JO,{name:"search",size:48,color:r.w.Gray400}):(0,c.jsx)(i.JO,{name:l,size:48,color:r.w.Gray400}),(0,c.jsxs)(o.x,{flex:{gap:8,direction:"column",alignItems:"flex-start"},children:[e&&(0,c.jsx)(a.pm,{style:{color:r.w.Gray900},children:e}),t&&(0,c.jsx)("div",{style:{color:r.w.Gray500},children:t}),d]})]})}}}]);
//# sourceMappingURL=611.2ac9c63a.chunk.js.map