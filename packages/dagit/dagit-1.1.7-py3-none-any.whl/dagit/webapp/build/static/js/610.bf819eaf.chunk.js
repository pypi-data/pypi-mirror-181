"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[610],{87535:function(n,e,t){t.d(e,{CY:function(){return I},N9:function(){return C}});var r,o=t(99500),i=t(19065),a=t(73701),s=t(3159),l=t(325),p=t(27601),d=t(12436),u=t(78093),c=t(13253),h=t(77171),f=t(82348),x=t(4735),v=t(50741),g=t(76336),m=t(27218),S=t(2112),j=t(57872),y=t(96294),P=t(32289),I=function(){(0,u.Px)();var n=(0,p.UO)(),e=(0,y.p3)(n[0]),t=e.pipelineName,r=e.snapshotId,o=(0,p.k6)();return(0,f.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,P.jsx)(C,{explorerPath:e,onChangeExplorerPath:function(n,e){o[e]("/snapshots/".concat((0,y.gY)(n)))},onNavigateToSourceAssetNode:function(n){var e=n.assetKey;o.push((0,h.p)(e))}})},C=function(n){var e,t=n.explorerPath,r=n.repoAddress,o=n.onChangeExplorerPath,s=n.onNavigateToSourceAssetNode,p=n.isGraph,d=void 0!==p&&p,u=l.useState({explodeComposites:null!==(e=t.explodeComposites)&&void 0!==e&&e,preferAssetRendering:!0}),h=(0,i.Z)(u,2),f=h[0],x=h[1],y=t.opNames.slice(0,t.opNames.length-1),I=(0,g._T)(r||null,t.pipelineName),C=(0,a.a)(R,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:I,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:y.join("."),requestScopeHandleID:f.explodeComposites?void 0:y.join(".")}});return(0,P.jsx)(v.g,{queryResult:C,children:function(n){var e=n.pipelineSnapshotOrError;if("PipelineSnapshot"!==e.__typename)return(0,P.jsx)(j.Q,{isGraph:d,result:e,repoAddress:r});var i=e.solidHandle,a=f.explodeComposites?(0,m.i)(e.solidHandles):e.solidHandles,l=e.solidHandles.some((function(n){return n.solid.definition.assetNodes.length>0}));return f.preferAssetRendering&&l?(0,P.jsx)(c.OK,{options:f,setOptions:x,fetchOptions:{pipelineSelector:I},explorerPath:t,onChangeExplorerPath:o,onNavigateToSourceAssetNode:s}):(0,P.jsx)(S.m0,{options:f,setOptions:x,explorerPath:t,onChangeExplorerPath:o,container:e,repoAddress:r,handles:a,parentHandle:i||void 0,isGraph:d,getInvocations:function(n){return a.filter((function(e){return e.solid.definition.name===n})).map((function(n){return{handleID:n.handleID}}))}})}})},R=(0,s.Ps)(r||(r=(0,o.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        ...GraphExplorerFragment\n\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),x.it,S.Sm,S.Q,S.bg,d.Bq)},33247:function(n,e,t){t.d(e,{G:function(){return _}});var r,o=t(99500),i=t(95764),a=t(59019),s=t(19065),l=t(3159),p=t(57615),d=t(30804),u=t(32030),c=t(89646),h=t(54268),f=t(47387),x=t(325),v=t(27601),g=t(12436),m=t(19102),S=t(78093),j=t(22797),y=t(28064),P=t(55752),I=t(45302),C=t(77892),R=t(50741),E=t(62278),b=t(76336),N=t(33902),Z=t(96294),H=t(23196),k=t(32289),O=["status","tag"],_=function(n){(0,S.Px)();var e=(0,v.UO)().pipelinePath,t=n.repoAddress,r=void 0===t?null:t,o=(0,Z.p3)(e),l=o.pipelineName,g=o.snapshotId,_=(0,b.Ux)(r),$=(0,b.E8)(_,l);(0,H.b)(o,$);var q=(0,I.oD)(O),A=(0,s.Z)(q,2),D=A[0],w=A[1],T=x.useMemo((function(){return[$?{token:"job",value:l}:{token:"pipeline",value:l},g?{token:"snapshotId",value:g}:null].filter(Boolean)}),[$,l,g]),G=[].concat((0,a.Z)(D),(0,a.Z)(T));if(r){var Y={token:"tag",value:"".concat(y.H.RepositoryLabelTag,"=").concat((0,N.Wg)(r))};G.push(Y)}var Q=(0,C.l)({query:F,pageSize:25,variables:{filter:(0,i.Z)((0,i.Z)({},(0,I.VH)(G)),{},{pipelineName:l,snapshotId:g})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.runId},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),z=Q.queryResult,V=Q.paginationProps,U=x.useCallback((function(n){var e=(0,p.HY)(n);D.some((function(n){return(0,p.HY)(n)===e}))||w([].concat((0,a.Z)(D),[n]))}),[D,w]),W=(0,m.C4)(z,m.dT);return(0,k.jsx)(P.Lw.Provider,{value:{refetch:z.refetch},children:(0,k.jsx)(d.T,{children:(0,k.jsx)(R.g,{queryResult:z,allowStaleData:!0,children:function(n){var e=n.pipelineRunsOrError;if("Runs"!==e.__typename)return(0,k.jsx)(u.x,{padding:{vertical:64},children:(0,k.jsx)(c.t,{icon:"error",title:"Query Error",description:e.message})});var t=e.results.slice(0,25),r=V.hasNextCursor,o=V.hasPrevCursor;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(u.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,k.jsx)(u.x,{flex:{direction:"row",gap:8},children:T.map((function(n){var e=n.token,t=n.value;return(0,k.jsx)(h.V,{children:"".concat(e,":").concat(t)},e)}))}),(0,k.jsx)(m.xi,{refreshState:W})]}),(0,k.jsx)(E.Y,{$top:0,children:(0,k.jsx)(j.A,{runs:t,onAddTag:U,actionBarComponents:(0,k.jsx)(I.nr,{enabledFilters:O,tokens:D,onChange:w,loading:z.loading})})}),r||o?(0,k.jsx)("div",{style:{marginTop:"20px"},children:(0,k.jsx)(f.pI,(0,i.Z)({},V))}):null]})}})})})},F=(0,l.Ps)(r||(r=(0,o.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),j.Z,g.Bq)},77892:function(n,e,t){t.d(e,{l:function(){return p}});var r=t(59019),o=t(95764),i=t(19065),a=t(73701),s=t(325),l=t(44198);function p(n){var e=s.useState((function(){return[]})),t=(0,i.Z)(e,2),p=t[0],d=t[1],u=(0,l.q)({queryKey:"cursor"}),c=(0,i.Z)(u,2),h=c[0],f=c[1],x=(0,o.Z)((0,o.Z)({},n.variables),{},{cursor:h,limit:n.pageSize+1}),v=(0,a.a)(n.query,{fetchPolicy:"cache-and-network",partialRefetch:!0,variables:x,notifyOnNetworkStatusChange:!0}),g=n.getResultArray(v.data),m={hasPrevCursor:!!h,hasNextCursor:g.length===n.pageSize+1,popCursor:function(){var n=(0,r.Z)(p);f(n.pop()),d(n)},advanceCursor:function(){h&&d((function(n){return[].concat((0,r.Z)(n),[h])}));var e=v.data&&n.nextCursorForResult(v.data);e&&f(e)},reset:function(){d([]),f(void 0)}};return{queryResult:v,paginationProps:m}}},43938:function(n,e,t){t.r(e),t.d(e,{SnapshotRoot:function(){return C},default:function(){return R}});t(325);var r,o=t(27601),i=t(87535),a=t(96294),s=t(33247),l=t(95764),p=t(99500),d=t(3159),u=t(73701),c=t(54268),h=t(31112),f=t(12745),x=t(8546),v=t(31269),g=t(74549),m=t(37286),S=t(76336),j=t(25582),y=t(32289),P=(0,d.Ps)(r||(r=(0,p.Z)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]))),I=function(n){var e,t=n.activeTab,r=void 0===t?"":t,o=n.explorerPath,i=o.pipelineName,s=o.snapshotId,p=void 0===s?"":s,d=(0,a.gY)((0,l.Z)((0,l.Z)({},o),{},{opNames:[]})),I=(0,S.Nc)(i),C=!(null===I||void 0===I||!I.isJob),R=null===I||void 0===I?void 0:I.pipelineSnapshotId,E=(0,u.a)(P,{variables:{snapshotId:p}}),b=E.data,N=E.loading,Z=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(d)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(d,"runs")}];return(0,y.jsx)(h.m,{title:(0,y.jsx)(f.X6,{style:{fontFamily:x.b.monospace,fontSize:"20px"},children:null===(e=o.snapshotId)||void 0===e?void 0:e.slice(0,8)}),tags:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(c.V,{icon:"schema",children:["Snapshot of"," ",(0,y.jsx)(g.rU,{to:(0,j.r4)(o.pipelineName,C),children:o.pipelineName})]}),function(){var n;return N?(0,y.jsx)(c.V,{intent:"none",minimal:!0,children:"..."}):!R||R!==p&&"PipelineSnapshot"===(null===b||void 0===b?void 0:b.pipelineSnapshotOrError.__typename)&&(null===b||void 0===b||null===(n=b.pipelineSnapshotOrError)||void 0===n?void 0:n.parentSnapshotId)!==R?(0,y.jsx)(c.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,y.jsx)(c.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,y.jsx)(v.mQ,{selectedTabId:r,children:Z.map((function(n){var e=n.href,t=n.text,r=n.pathComponent;return(0,y.jsx)(m.f,{id:r,title:t,to:e},t)}))})})},C=function(){var n=(0,o.UO)(),e=n.pipelinePath,t=n.tab,r=(0,a.p3)(e);return(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,y.jsx)(I,{activeTab:t,explorerPath:r}),(0,y.jsxs)(o.rs,{children:[(0,y.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,y.jsx)(s.G,{})}),(0,y.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,y.jsx)(i.CY,{})})]})]})},R=C},62278:function(n,e,t){t.d(e,{Y:function(){return i}});var r=t(922),o=t(7838),i=r.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){return n.$top}),o.w.White,o.w.KeylineGray)}}]);
//# sourceMappingURL=610.bf819eaf.chunk.js.map