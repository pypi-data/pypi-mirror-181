(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[924],{40515:function(n,e,r){"use strict";r.d(e,{_:function(){return u}});var t,i=r(99500),o=r(73701),a=r(3159),u=function(){var n=(0,o.a)(s).data;return!(null===n||void 0===n||!n.instance.hasInfo)},s=(0,a.Ps)(t||(t=(0,i.Z)(["\n  query InstanceConfigHasInfo {\n    instance {\n      hasInfo\n    }\n  }\n"])))},75206:function(n,e,r){"use strict";r.r(e),r.d(e,{RunsRoot:function(){return H}});var t,i,o=r(99500),a=r(95764),u=r(59019),s=r(19065),l=r(3159),c=r(73701),d=r(57615),f=r(30804),p=r(32030),h=r(7838),g=r(60736),v=r(89646),x=r(54268),y=r(47387),m=r(69346),R=r.n(m),j=r(325),k=r(74549),C=r(12436),b=r(19102),w=r(78093),_=r(82348),Z=r(25171),q=r(40515),E=r(50741),P=r(62278),I=r(70598),S=r(22797),T=r(55752),O=r(45302),F=r(31747),$=r(77892),A=r(32289),H=function(){(0,w.Px)(),(0,_.j)("Runs");var n=(0,O.oD)(),e=(0,s.Z)(n,2),r=e[0],t=e[1],i=(0,O.VH)(r),o=(0,q._)(),l=(0,$.l)({nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.runId},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]},variables:{filter:i},query:N,pageSize:25}),c=l.queryResult,m=l.paginationProps,C=(0,b.C4)(c,b.dT),Z=(0,I.Qf)(r),H="all"!==Z,U=R()(r,(function(n){return"status"===n.token})),z=(0,s.Z)(U,2),D=z[0],V=z[1],Y=j.useCallback((function(n){t(H?[].concat((0,u.Z)(D),(0,u.Z)(n)):n)}),[t,H,D]),K=j.useCallback((function(n){var e=(0,d.HY)(n);V.some((function(n){return(0,d.HY)(n)===e}))||Y([].concat((0,u.Z)(V),[n]))}),[V,Y]),B=j.useMemo((function(){var n=["tag","snapshotId","id","job","pipeline"];return H||n.push("status"),n}),[H]),G=j.useMemo((function(){return H?r.filter((function(n){return"status"!==n.token})):r}),[r,H]);return(0,A.jsxs)(f.T,{children:[(0,A.jsx)(F.a,{refreshStates:[C]}),"queued"===Z&&o?(0,A.jsxs)(p.x,{flex:{direction:"column",gap:8},padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:h.w.KeylineGray},children:[(0,A.jsx)(g.b,{intent:"info",title:(0,A.jsx)(k.rU,{to:"/config#run_coordinator",children:"View queue configuration"})}),(0,A.jsx)(Q,{})]}):null,(0,A.jsx)(T.Lw.Provider,{value:{refetch:c.refetch},children:(0,A.jsx)(E.g,{queryResult:c,allowStaleData:!0,renderError:function(n){var e=!(null===n||void 0===n||!n.networkError||!("statusCode"in n.networkError)||400!==n.networkError.statusCode);return(0,A.jsxs)(p.x,{flex:{direction:"column",gap:32},padding:{vertical:8,left:24,right:12},children:[(0,A.jsx)(O.nr,{tokens:G,onChange:Y,loading:c.loading,enabledFilters:B}),(0,A.jsx)(v.t,{icon:"warning",title:e?"Invalid run filters":"Unexpected error",description:e?"The specified run filters are not valid. Please check the filters and try again.":"An unexpected error occurred. Check the console for details."})]})},children:function(n){var e=n.pipelineRunsOrError;return"Runs"!==e.__typename?(0,A.jsx)(p.x,{padding:{vertical:64},children:(0,A.jsx)(v.t,{icon:"error",title:"Query Error",description:e.message})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(P.Y,{$top:0,children:(0,A.jsx)(S.A,{runs:e.results.slice(0,25),onAddTag:K,filter:i,actionBarComponents:(0,A.jsxs)(p.x,{flex:{direction:"column",gap:8},children:["all"!==Z?(0,A.jsx)(p.x,{flex:{direction:"row",gap:8},children:r.filter((function(n){return"status"===n.token})).map((function(n){var e=n.token,r=n.value;return(0,A.jsx)(x.V,{children:"".concat(e,":").concat(r)},e)}))}):null,(0,A.jsx)(O.nr,{tokens:G,onChange:Y,loading:c.loading,enabledFilters:B})]})})}),e.results.length>0?(0,A.jsx)("div",{style:{marginTop:"16px"},children:(0,A.jsx)(y.pI,(0,a.Z)({},m))}):null]})}})})]})};e.default=H;var N=(0,l.Ps)(t||(t=(0,o.Z)(["\n  query RunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),S.Z,C.Bq),Q=function(){var n=(0,c.a)(U).data,e=j.useContext(Z.N).pageTitle,r=null===n||void 0===n?void 0:n.instance.daemonHealth.daemonStatus;return null===r||void 0===r||!r.required||null!==r&&void 0!==r&&r.healthy?null:(0,A.jsx)(g.b,{intent:"warning",title:"The queued run coordinator is not healthy.",description:(0,A.jsxs)("div",{children:["View ",(0,A.jsx)(k.rU,{to:"/health",children:e})," for details."]})})},U=(0,l.Ps)(i||(i=(0,o.Z)(['\n  query QueueDaemonStatusQuery {\n    instance {\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "QUEUED_RUN_COORDINATOR") {\n          id\n          daemonType\n          healthy\n          required\n        }\n      }\n    }\n  }\n'])))},77892:function(n,e,r){"use strict";r.d(e,{l:function(){return l}});var t=r(59019),i=r(95764),o=r(19065),a=r(73701),u=r(325),s=r(44198);function l(n){var e=u.useState((function(){return[]})),r=(0,o.Z)(e,2),l=r[0],c=r[1],d=(0,s.q)({queryKey:"cursor"}),f=(0,o.Z)(d,2),p=f[0],h=f[1],g=(0,i.Z)((0,i.Z)({},n.variables),{},{cursor:p,limit:n.pageSize+1}),v=(0,a.a)(n.query,{fetchPolicy:"cache-and-network",partialRefetch:!0,variables:g,notifyOnNetworkStatusChange:!0}),x=n.getResultArray(v.data),y={hasPrevCursor:!!p,hasNextCursor:x.length===n.pageSize+1,popCursor:function(){var n=(0,t.Z)(l);h(n.pop()),c(n)},advanceCursor:function(){p&&c((function(n){return[].concat((0,t.Z)(n),[p])}));var e=v.data&&n.nextCursorForResult(v.data);e&&h(e)},reset:function(){c([]),h(void 0)}};return{queryResult:v,paginationProps:y}}},62278:function(n,e,r){"use strict";r.d(e,{Y:function(){return o}});var t=r(922),i=r(7838),o=t.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){return n.$top}),i.w.White,i.w.KeylineGray)},56277:function(n){n.exports=function(n,e,r,t){for(var i=-1,o=null==n?0:n.length;++i<o;){var a=n[i];e(t,a,r(a),n)}return t}},414:function(n,e,r){var t=r(99383);n.exports=function(n,e,r,i){return t(n,(function(n,t,o){e(i,n,r(n),o)})),i}},53004:function(n,e,r){var t=r(56277),i=r(414),o=r(57777),a=r(18981);n.exports=function(n,e){return function(r,u){var s=a(r)?t:i,l=e?e():{};return s(r,n,o(u,2),l)}}},69346:function(n,e,r){var t=r(53004)((function(n,e,r){n[r?0:1].push(e)}),(function(){return[[],[]]}));n.exports=t}}]);
//# sourceMappingURL=924.f552b1e9.chunk.js.map